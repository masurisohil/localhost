(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{ECqM:function(e,t,a){"use strict";a.r(t);var i=a("ofXK"),n=a("tyNb"),r=a("X5y9"),s=a("jhRr"),o=a("QSzr"),c=a("OTx7"),l=a("zzOR"),d=a("FasR"),h=a("CWaH"),p=a("fXoL"),u=a("c8VH"),b=a("AwSQ"),g=a("LPFR"),w=a("Pbud");let f=(()=>{class e{constructor(e,t,a){this.paginationService=e,this.orderService=t,this.dataService=a,this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.headerData=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null}ngOnInit(){this.setHeaderData(),this.loadform=!1,this.getObjects()}setHeaderData(){this.headerData.push(new d.g({label:"Order #",key:"po_no",viewUrl:{path:"/inbound/order/view/",id:"po_id"}}),new d.c({label:"PO Date",key:"po_date"}),new d.f({label:"Case #",key:""}),new d.f({label:"Supplier",key:"supplier.label"}),new d.f({label:"Client",key:"client.label"}));let e=new d.a({edit:{path:"/inbound/order/edit/",id:"po_id"},view:{path:"/inbound/order/view/",id:"po_id"},delete:{path:"po/",id:"po_id"}});this.headerData.push(e)}getObjects(){const e={page:this.currentPage};e.status_id=h.a.Completed,this.searchText&&(e.search=this.searchText),this.orderService.getOrderList(e).subscribe(e=>{this.loadingState=!1,e.success&&e.data?(this.objectArray=e.data.list,this.pagination=this.paginationService.getPager(e.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},e=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(e){this.currentPage=e,this.getObjects()}onReloadEvent(){this.getObjects()}searchObject(e){this.searchText=e,this.currentPage=1,this.getObjects()}deleteObject(e){swal.fire({title:l.a.delete_header_text,text:l.a.delete_smalll_text,icon:l.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:l.a.delete_confirm_button,cancelButtonText:l.a.delete_cancel_button}).then(t=>{t.value&&this.orderService.deleteOrder(e.po_id).subscribe(e=>{e.success&&this.getObjects()})}).catch(swal.noop)}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(u.a),p.Mb(s.a),p.Mb(b.a))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-completed"]],decls:2,vars:4,consts:[[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange"]],template:function(e,t){1&e&&(p.Sb(0,"app-table-list",0),p.ac("reloadEvent",(function(){return t.onReloadEvent()})),p.Rb(),p.Sb(1,"pagination",1),p.ac("onPageChange",(function(e){return t.getPage(e)})),p.Rb()),2&e&&(p.ic("headerData",t.headerData)("rawData",t.objectArray),p.zb(1),p.ic("paginationList",t.pagination)("currentPage",t.currentPage))},directives:[g.a,w.a],encapsulation:2}),e})();a.d(t,"CompletedModule",(function(){return _}));const v=[{path:"",component:f}];let _=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},providers:[s.a],imports:[[i.b,n.i.forChild(v),r.a,c.a,o.a]]}),e})()}}]);