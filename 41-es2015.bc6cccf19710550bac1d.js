(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{pmwL:function(e,t,a){"use strict";a.r(t);var i=a("ofXK"),s=a("tyNb"),r=a("g3N6"),o=a("uq2c"),n=a("OTx7"),c=a("PCNd"),l=a("Vr6k"),d=a("3Pt+"),b=a("QSzr"),h=a("AytR"),u=a("fXoL"),p=a("tk/3");let g=(()=>{class e{constructor(e){this.http=e,this.API_URL=h.a.APIEndpoint}getAisleList(e){return this.http.get(`${this.API_URL}/aisle`,{params:e})}addAisle(e){return this.http.post(`${this.API_URL}/aisle`,e)}editAisle(e,t){return this.http.put(`${this.API_URL}/aisle/${e}`,t)}getAisleById(e,t=null){return this.http.get(`${this.API_URL}/aisle/${e}`,{params:t})}getMasterData(){return this.http.get(`${this.API_URL}/aisle/master-data`)}}return e.\u0275fac=function(t){return new(t||e)(u.Wb(p.b))},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac}),e})();var m=a("8cFx"),v=a("HOh6"),S=a("UaFz"),f=a("ZOsW");function R(e,t){if(1&e&&u.Nb(0,"span",20),2&e){const e=u.cc();u.ic("innerHTML",e.formErrors.aisle_code,u.uc)}}function _(e,t){if(1&e&&(u.Qb(0),u.Nb(1,"img",21),u.Pb()),2&e){const e=u.cc();u.zb(1),u.ic("src",e.barCodeFile,u.vc)}}function w(e,t){1&e&&u.Nb(0,"img",22)}const A=function(e){return{"has-error":e}},y=function(e){return{"qt-loader qt-loader-mini qt-loader-left":e}};let P=(()=>{class e{constructor(e,t,a,i,s){this.router=e,this.activatedRoute=t,this.fb=a,this.aisleService=i,this.commonservice=s,this.PageTitle="Aisle",this.loadingState=!1,this.showLoader=!1,this.formErrors={aisle_code:null,apierror:null},this.areaListArray=[],this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({aisle_name:[null,d.t.compose([d.t.required])],aisle_code:[null,d.t.compose([d.t.required])],area_id:[null,d.t.compose([d.t.required])],aisle_bar_code:[null]})}ngOnInit(){this.getMasterData(),this.isEditing?this.getEditObject():this.getAreaBarcode()}getMasterData(){this.aisleService.getMasterData().subscribe(e=>{e.success&&(this.areaListArray=e.data.area)})}getAreaBarcode(){this.commonservice.getGenerateBarcode().subscribe(e=>{this.addForm.patchValue({aisle_bar_code:e.type});const t=window.URL||window.webkitURL;document.getElementById("barCodeShow").src=t.createObjectURL(e),this.selectedFile=new File([e],"noname.jpeg",{type:"image/jpeg"})})}getEditObject(){this.aisleService.getAisleById(this.editId).subscribe(e=>{e.success?(this.addForm.patchValue(e.data),this.barCodeFile=e.data.aisle_bar_code_image):this.router.navigateByUrl("/manage/aisle")})}submitForm(e){if(e.valid){this.showLoader=!0;const t=new FormData;t.append("aisle_name",e.value.aisle_name),t.append("aisle_code",e.value.aisle_code),t.append("area_id",e.value.area_id),t.append("aisle_bar_code",e.value.aisle_bar_code),this.selectedFile&&t.append("file",this.selectedFile),this.isEditing?this.aisleService.editAisle(this.editId,t).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("/manage/aisle"):e.error.map(t=>{t.hasOwnProperty("aisle_code")?this.formErrors.aisle_code=t.aisle_code:this.formErrors.apierror=`* ${e.error}`})},e=>{this.showLoader=!1}):this.aisleService.addAisle(t).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("/manage/aisle"):e.error.map(t=>{t.hasOwnProperty("aisle_code")?this.formErrors.aisle_code=t.aisle_code:this.formErrors.apierror=`* ${e.error}`})},e=>{this.showLoader=!1})}}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.e),u.Mb(s.a),u.Mb(d.e),u.Mb(g),u.Mb(m.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-add-aisle"]],decls:43,vars:17,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row","align-items-center"],[1,"control-label","text-md-right","col-md-4","col-lg-3","mb-0"],[1,"col-md-5"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"col-md-5",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Area",3,"formControl","items"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"text-right","border-top","pt-4","mt-5","card-footer"],["type","button","routerLink","/manage/aisle",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"],["alt","","sizes","","srcset","",1,"bcode",3,"src"],["id","barCodeShow","alt","","sizes","","srcset","",1,"bcode"]],template:function(e,t){if(1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Sb(4,"h2",4),u.Bc(5),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"div",5),u.Sb(7,"form",6),u.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),u.Sb(8,"div",7),u.Sb(9,"div"),u.Sb(10,"div",8),u.Sb(11,"label",9),u.Bc(12," Aisle Name "),u.Sb(13,"em"),u.Bc(14,"*"),u.Rb(),u.Rb(),u.Sb(15,"div",10),u.Nb(16,"input",11),u.Rb(),u.Rb(),u.Sb(17,"div",8),u.Sb(18,"label",9),u.Bc(19,"Aisle Code "),u.Sb(20,"em"),u.Bc(21,"*"),u.Rb(),u.Rb(),u.Sb(22,"div",12),u.Nb(23,"input",11),u.zc(24,R,1,1,"span",13),u.Rb(),u.Rb(),u.Sb(25,"div",8),u.Sb(26,"label",9),u.Bc(27," Area Name "),u.Sb(28,"em"),u.Bc(29,"*"),u.Rb(),u.Rb(),u.Sb(30,"div",10),u.Nb(31,"ng-select",14),u.Rb(),u.Rb(),u.Sb(32,"div",8),u.Nb(33,"label",9),u.Sb(34,"div",10),u.zc(35,_,2,1,"ng-container",15),u.zc(36,w,1,0,"ng-template",null,16,u.Ac),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(38,"div",17),u.Sb(39,"button",18),u.Bc(40,"Cancel"),u.Rb(),u.Sb(41,"button",19),u.Bc(42,"Submit"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e){const e=u.rc(37);u.zb(5),u.Ec("",t.isEditing?"Update":"Create"," ",t.PageTitle,""),u.zb(2),u.ic("formGroup",t.addForm),u.zb(9),u.ic("formControl",t.addForm.controls.aisle_name),u.zb(6),u.ic("ngClass",u.mc(13,A,t.formErrors.aisle_code)),u.zb(1),u.ic("formControl",t.addForm.controls.aisle_code),u.zb(1),u.ic("ngIf",t.formErrors.aisle_code),u.zb(7),u.ic("formControl",t.addForm.controls.area_id)("items",t.areaListArray),u.zb(4),u.ic("ngIf",t.isEditing)("ngIfElse",e),u.zb(6),u.ic("ngClass",u.mc(15,y,t.showLoader))("disabled",t.showLoader)}},directives:[d.v,d.p,v.a,d.j,d.c,d.o,d.g,S.a,i.j,i.l,f.a,s.f],encapsulation:2}),e})();var j=a("FasR"),L=a("c8VH"),B=a("jTkZ"),C=a("Eb8l"),I=a("LPFR"),z=a("Pbud");function E(e,t){if(1&e){const e=u.Tb();u.Sb(0,"pagination",11),u.ac("onPageChange",(function(t){return u.tc(e),u.cc().getPage(t)})),u.Rb()}if(2&e){const e=u.cc();u.ic("paginationList",e.pagination)("currentPage",e.currentPage)}}let M=(()=>{class e{constructor(e,t){this.paginationService=e,this.aisleService=t,this.PageTitle="Manage Aisle",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.headerData=[]}ngOnInit(){this.loadform=!1,this.setHeaderData(),this.getObjects()}setHeaderData(){this.headerData.push(new j.f({label:"Aisle Name",key:"aisle_name"}),new j.f({label:"Aisle Code",key:"aisle_code"}),new j.f({label:"Bar Code No",key:"aisle_bar_code"}));let e=new j.a({edit:{path:"/manage/aisle/edit/",id:"aisle_id"},view:{path:"/manage/aisle/view/",id:"aisle_id"},delete:{path:"aisle/",id:"aisle_id"}});this.headerData.push(e)}getObjects(){const e={page:this.currentPage};this.searchText&&(e.search=this.searchText),this.aisleService.getAisleList(e).subscribe(e=>{this.loadingState=!1,e.success?(this.objectArray=e.data.list,this.showPagination=!0,this.pagination=this.paginationService.getPager(e.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},e=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(e){this.currentPage=e,this.getObjects()}searchObject(e){this.searchText=e,this.currentPage=1,this.getObjects()}onReloadEvent(){this.getObjects()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(L.a),u.Mb(g))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-aisle-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"h2",3),u.Bc(4),u.Rb(),u.Sb(5,"div",4),u.Sb(6,"search-box",5),u.ac("text",(function(e){return t.searchObject(e)})),u.Rb(),u.Rb(),u.Sb(7,"div",4),u.Nb(8,"app-btn-add",6),u.Rb(),u.Rb(),u.Rb(),u.Sb(9,"div",7),u.Sb(10,"div",8),u.Sb(11,"app-table-list",9),u.ac("reloadEvent",(function(){return t.onReloadEvent()})),u.Rb(),u.zc(12,E,1,2,"pagination",10),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.zb(4),u.Cc(t.PageTitle),u.zb(2),u.ic("placeholder","Search Here..."),u.zb(2),u.ic("btnName","Add Aisle")("editData","/manage/aisle/add"),u.zb(3),u.ic("headerData",t.headerData)("rawData",t.objectArray),u.zb(1),u.ic("ngIf",t.showPagination))},directives:[B.a,C.a,I.a,i.l,z.a],encapsulation:2}),e})(),N=(()=>{class e{constructor(e,t){this.activatedRoute=e,this.aisleservice=t,this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.aisleservice.getAisleById(this.viewId).subscribe(e=>{e.success&&(this.objectArray=e.data)})}VoucherSourcetoPrint(){var e,t,a;return`\n            <html>\n            <head>\n              <script>\n                function step1() {\n                  setTimeout('step2()', 10);\n                }\n                function step2() {\n                  window.print(); window.close()\n                }\n              <\/script>\n            </head>\n\n            <body onload='step1()'>\n              <h3>Aisle Name:- ${null===(e=this.objectArray)||void 0===e?void 0:e.aisle_name}</h3>\n              <h3>Aisle Code:- ${null===(t=this.objectArray)||void 0===t?void 0:t.aisle_code}</h3>\n              <img src='${null===(a=this.objectArray)||void 0===a?void 0:a.aisle_bar_code_image}' />\n            </body>\n            </html>\n      `}VoucherPrint(){window.print()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.a),u.Mb(g))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-aisle-view"]],decls:32,vars:4,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[1,"btn","btn-secondary",3,"click"],[1,"card"],[1,"card-body"],["id","details","role","tabpanel","aria-labelledby","details-tab",1,"tab-pane","fade","show","active"],[1,"row","mt-4"],[1,"col-md-4"],[1,"text-muted","mb-1","font-weight-bold"],[1,"col"],["alt","",3,"src"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"h2",3),u.Bc(4,"Aisle Details"),u.Rb(),u.Nb(5,"div",4),u.Sb(6,"div",4),u.Sb(7,"button",5),u.ac("click",(function(){return t.VoucherPrint()})),u.Bc(8,"Print"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(9,"div",6),u.Sb(10,"div",7),u.Sb(11,"div",8),u.Sb(12,"div",9),u.Sb(13,"div",10),u.Sb(14,"label",11),u.Bc(15,"Aisle Name"),u.Rb(),u.Sb(16,"div"),u.Bc(17),u.Rb(),u.Rb(),u.Sb(18,"div",10),u.Sb(19,"label",11),u.Bc(20,"Aisle Code"),u.Rb(),u.Sb(21,"div"),u.Bc(22),u.Rb(),u.Rb(),u.Sb(23,"div",10),u.Sb(24,"label",11),u.Bc(25,"Bar code No"),u.Rb(),u.Sb(26,"div"),u.Bc(27),u.Rb(),u.Rb(),u.Rb(),u.Sb(28,"div",9),u.Sb(29,"div",12),u.Sb(30,"div"),u.Nb(31,"img",13),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.zb(17),u.Cc(null==t.objectArray?null:t.objectArray.aisle_name),u.zb(5),u.Cc(null==t.objectArray?null:t.objectArray.aisle_code),u.zb(5),u.Cc(null==t.objectArray?null:t.objectArray.aisle_bar_code),u.zb(4),u.ic("src",null==t.objectArray?null:t.objectArray.aisle_bar_code_image,u.vc))},encapsulation:2}),e})();a.d(t,"AisleModule",(function(){return O}));const F=[{path:"",component:M,data:{title:"aisle_list"}},{path:"add",component:P,data:{title:"add_aisle"}},{path:"edit/:id",component:P,data:{title:"edit_aisle"}},{path:"view/:id",component:N,data:{title:"view_aisle"}}];let O=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)},providers:[g],imports:[[i.b,s.i.forChild(F),n.a,r.a,o.a,d.l,d.s,l.a,f.b,c.a,b.a]]}),e})()}}]);