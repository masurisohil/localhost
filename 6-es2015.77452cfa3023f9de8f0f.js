(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/SVk":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("fXoL");let n=(()=>{class e{constructor(e){this._el=e}onKeyDown(e){const t=e;-1!==[46,8,9,27,13].indexOf(t.keyCode)||65===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105||110===t.keyCode||190===t.keyCode)&&t.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(o.l))},e.\u0275dir=o.Hb({type:e,selectors:[["","number",""]],hostBindings:function(e,t){1&e&&o.ac("keydown",(function(e){return t.onKeyDown(e)}))}}),e})()},DpbK:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var o=r("ofXK"),n=r("3Pt+"),i=r("PCNd"),s=r("ZOsW"),d=r("Vr6k"),a=r("jhRr"),c=r("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},providers:[a.a],imports:[[o.b,n.l,n.s,i.a,s.b,d.a]]}),e})()},HOh6:function(e,t,r){"use strict";var o=r("xgIS"),n=r("vkgz"),i=r("jtHE"),s=r("fXoL");r.d(t,"a",(function(){return d}));let d=(()=>{class e{constructor(e){this.host=e,this.submit$=Object(o.a)(this.element,"submit").pipe(Object(n.a)(()=>{!1===this.element.classList.contains("submitted")&&this.element.classList.add("submitted")}),function(e,t,r){let o;return o={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:r,scheduler:o}){let n,s,d=0,a=!1,c=!1;return function(l){d++,n&&!a||(a=!1,n=new i.a(e,t,o),s=l.subscribe({next(e){n.next(e)},error(e){a=!0,n.error(e)},complete(){c=!0,s=void 0,n.complete()}}));const u=n.subscribe(this);this.add(()=>{d--,u.unsubscribe(),s&&!c&&r&&0===d&&(s.unsubscribe(),s=void 0,n=void 0)})}}(o))}())}get element(){return this.host.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(s.l))},e.\u0275dir=s.Hb({type:e,selectors:[["form"]]}),e})()},PCNd:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var o=r("ofXK"),n=r("fXoL");let i=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[o.b]]}),e})()},UaFz:function(e,t,r){"use strict";var o=r("fXoL");let n=(()=>{class e{constructor(e){this.cdr=e,this._hide=!0}set text(e){e!==this._text&&(this._text=e,this._hide=!e,this.cdr.detectChanges())}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(o.h))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-control-error"]],inputs:{text:"text"},decls:1,vars:3,consts:[[1,"help","is-danger",3,"innerHTML"]],template:function(e,t){1&e&&o.Nb(0,"p",0),2&e&&(o.Eb("hide",t._hide),o.jc("innerHTML",t._text,o.vc))},encapsulation:2,changeDetection:0}),e})();var i=r("EY2u"),s=r("VRyK");const d={first_name:{required:"* Please enter first name"},last_name:{required:"* Please enter last name"},email:{required:"* Please enter email",email:"* Please enter valid email",validateEmail:"* Please enter valid email"},phone_number:{required:"Please enter phone number",minlength:"Please enter at least 8 digits",maxlength:"Please enter at least 18 digits"},password:{required:"* Please enter password",pattern:"* Password must contains at least 6 characters"},confirm_password:{required:"* Please enter confirm password",validatePassword:"* Your Password is not matched"},tree_level_name:{required:"* Please enter tree level name"},max_node:{required:"* Please enter max node"},tree_order:{required:"* Please enter tree order"},tree_name:{required:"* Please enter tree name"},tree_level_id:{required:"* Please enter tree level"},user_type:{required:"* Please enter user type"},wallet_name:{required:"* Please enter wallet name"},currency_id:{required:"* Please select currency"},wallet_type:{required:"* Please select wallet type"},otp:{required:"* Please enter OTP"},login_pin:{required:"* Please enter PIN",maxlength:"Pin Max 4 Digit",minlength:"Please enter at least 4 digits"},bank_name:{required:"* Please enter bank name"},bank_code:{required:"* Please enter code",maxlength:"Code Max 4 Digit",minlength:"Please enter at least 4 digits"},amount:{required:"* Please enter amount",max:"amount max balance"},sms:{required:"* Please enter content"},webhook:{required:"* Please enter content"},device_number:{required:"* Please enter device number"},name:{required:"* Please enter name"},location:{required:"* Please enter location"},group_id:{required:"* Please select group"}};let a=(()=>{class e{constructor(e){this.vcr=e}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(o.N))},e.\u0275dir=o.Hb({type:e,selectors:[["","controlErrorContainer",""]]}),e})();var c=r("HOh6"),l=r("3Pt+");r.d(t,"a",(function(){return u}));let u=(()=>{class e{constructor(e,t,r,o,n){this.vcr=e,this.resolver=t,this.form=o,this.controlDir=n,this.customErrors={},this.container=r?r.vcr:e,this.submit$=this.form?this.form.submit$:i.a}ngOnInit(){this.control&&this.control.valueChanges&&Object(s.a)(this.control.valueChanges,this.submit$).subscribe(e=>{const t=this.control.errors;if(t){const e=this.getFormControlName(this.control),r=Object.keys(t)[0],o=d[e];null!=o&&""!==o&&this.setError(o[r])}else this.ref&&this.setError(null)})}getFormControlName(e){const t=e.parent.controls;return Object.keys(t).find(r=>e===t[r])||null}get control(){return this.controlDir.control}setError(e){if(!this.ref){const e=this.resolver.resolveComponentFactory(n);this.ref=this.container.createComponent(e)}this.ref.instance.text=e}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(o.N),o.Mb(o.j),o.Mb(a,8),o.Mb(c.a,9),o.Mb(l.n))},e.\u0275dir=o.Hb({type:e,selectors:[["","formControl",""],["","formControlName",""]],inputs:{customErrors:"customErrors"}}),e})()},Vr6k:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("ofXK"),n=r("3Pt+"),i=r("fXoL");let s=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[o.b,n.l]]}),e})()},sVkB:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var o=r("fXoL"),n=r("3Pt+"),i=r("Lw2Y"),s=r("jhRr"),d=r("HOh6"),a=r("UaFz"),c=r("ZOsW"),l=r("ofXK"),u=r("/SVk");function b(e,t){if(1&e&&o.Nb(0,"span",22),2&e){const e=o.cc();o.jc("innerHTML",e.formErrors.product_id,o.vc)}}let m=(()=>{class e{constructor(e,t){this.fb=e,this.orderService=t,this.orderNo=!1,this.ProductList=[],this.onProductSubmit=new o.n,this.onRelodeEvent=new o.n,this.brandListArray=[],this.productListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={apierror:null,product_id:null},this.productIdList=[],this.isEditing=!1,this.index=!1,this.productAddForm=this.fb.group({order_no:[null,n.t.compose([n.t.required])],sku_no:[null],brand_id:[null,n.t.compose([n.t.required])],product_id:[null,n.t.compose([n.t.required])],qty:[null,n.t.compose([n.t.required])],price:[null,n.t.compose([n.t.required])],amount:[0]})}ngOnInit(){}addObject(){this.resetForm(),$("#AddOrderProduct").modal("show"),this.getMasterData(),this.productAddForm.patchValue({order_no:this.orderNo})}editObject(e,t,r,o,n){this.order_id=o,this.getMasterData(),this.resetForm(),$("#AddOrderProduct").modal("show"),this.productAddForm.patchValue({order_no:n,sku_no:r.sku_no,brand_id:r.brand_id,product_id:r.product_id,qty:r.qty,price:r.price,amount:r.amount}),this.getMasterData(),e?(this.isEditing=!0,this.editId=e):this.index=t}getMasterData(){const e={};let t=this.productAddForm.value.brand_id;t&&(e.brand_id=t),this.orderService.getOrderProductMasterData(e).subscribe(e=>{e.success&&(t?this.productListArray=e.data.product?e.data.product:[]:this.brandListArray=e.data.brand?e.data.brand:[])})}checkProductAddedd(e){let t=this.productAddForm.value.product_id,r=!1;this.ProductList.filter(e=>{t==e.product_id&&(r=!0)}),r?(this.formErrors.product_id="* Product Allredy Exit.",this.showLoader=!0):(this.formErrors.product_id=null,this.productAddForm.patchValue({sku_no:e.sku_no}),this.showLoader=!1)}submitForm(e){let t;if(e.valid){this.showLoader=!0,this.productListArray.filter(r=>{(r.value=e.value.product_id)&&(t=r.label)});let r={};r.order_no=e.value.order_no,r.sku_no=e.value.sku_no,r.product_id=e.value.product_id,r.brand_id=e.value.brand_id,r.product_name=t,r.qty=e.value.qty,r.price=e.value.price,r.amount=Number(e.value.price*e.value.qty),this.isEditing?(r.order_id=this.order_id,this.orderService.editOrderProduct(this.editId,r).subscribe(e=>{this.showLoader=!1,e.success&&this.onRelodeEvent.emit(!0)},e=>{this.showLoader=!1}),$("#AddOrderProduct").modal("hide")):this.orderNo&&(r.index=this.index,this.onProductSubmit.emit(r),this.showLoader=!1,$("#AddOrderProduct").modal("hide"))}}resetForm(){this.loadingState=!1,this.isEditing=!1,this.editId=null,i.a.resetForm(this.productAddForm,this.formErrors)}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(n.e),o.Mb(s.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-add-product"]],inputs:{orderNo:"orderNo",ProductList:"ProductList"},outputs:{onProductSubmit:"onProductSubmit",onRelodeEvent:"onRelodeEvent"},decls:53,vars:10,consts:[["id","AddOrderProduct","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","disabled","",1,"form-control",3,"formControl"],["bindLabel","label","bindValue","value","placeholder","Select Brand",3,"formControl","items","change"],["bindLabel","label","bindValue","value","placeholder","Select Product",3,"formControl","items","change"],["class","help-block",3,"innerHTML",4,"ngIf"],[1,"row"],[1,"col-6"],["number","","type","text","placeholder","",1,"form-control",3,"formControl"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary",3,"disabled"],[1,"help-block",3,"innerHTML"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"form",3),o.ac("ngSubmit",(function(){return t.submitForm(t.productAddForm)})),o.Sb(4,"div",4),o.Sb(5,"h5",5),o.Cc(6,"Add Product"),o.Rb(),o.Sb(7,"button",6),o.Sb(8,"span",7),o.Cc(9,"\xd7"),o.Rb(),o.Rb(),o.Rb(),o.Sb(10,"div",8),o.Sb(11,"div",9),o.Sb(12,"label",10),o.Cc(13,"Order No. "),o.Sb(14,"em"),o.Cc(15,"*"),o.Rb(),o.Rb(),o.Sb(16,"div",11),o.Nb(17,"input",12),o.Rb(),o.Rb(),o.Sb(18,"div",9),o.Sb(19,"label",10),o.Cc(20,"Brand "),o.Sb(21,"em"),o.Cc(22,"*"),o.Rb(),o.Rb(),o.Sb(23,"ng-select",13),o.ac("change",(function(){return t.getMasterData()})),o.Rb(),o.Rb(),o.Sb(24,"div",9),o.Sb(25,"label",10),o.Cc(26,"Product "),o.Sb(27,"em"),o.Cc(28,"*"),o.Rb(),o.Rb(),o.Sb(29,"ng-select",14),o.ac("change",(function(e){return t.checkProductAddedd(e)})),o.Rb(),o.Ac(30,b,1,1,"span",15),o.Rb(),o.Sb(31,"div",16),o.Sb(32,"div",17),o.Sb(33,"div",9),o.Sb(34,"label",10),o.Cc(35,"Order Quantity "),o.Sb(36,"em"),o.Cc(37,"*"),o.Rb(),o.Rb(),o.Sb(38,"div",11),o.Nb(39,"input",18),o.Rb(),o.Rb(),o.Rb(),o.Sb(40,"div",17),o.Sb(41,"div",9),o.Sb(42,"label",10),o.Cc(43,"Price "),o.Sb(44,"em"),o.Cc(45,"*"),o.Rb(),o.Rb(),o.Sb(46,"div",11),o.Nb(47,"input",18),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(48,"div",19),o.Sb(49,"button",20),o.Cc(50,"Cancel"),o.Rb(),o.Sb(51,"button",21),o.Cc(52,"Submit"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.zb(3),o.jc("formGroup",t.productAddForm),o.zb(14),o.jc("formControl",t.productAddForm.controls.order_no),o.zb(6),o.jc("formControl",t.productAddForm.controls.brand_id)("items",t.brandListArray),o.zb(6),o.jc("formControl",t.productAddForm.controls.product_id)("items",t.productListArray),o.zb(1),o.jc("ngIf",t.formErrors.product_id),o.zb(9),o.jc("formControl",t.productAddForm.controls.qty),o.zb(8),o.jc("formControl",t.productAddForm.controls.price),o.zb(4),o.jc("disabled",t.showLoader))},directives:[n.v,n.p,d.a,n.j,n.c,n.o,n.g,a.a,c.a,l.l,u.a],encapsulation:2}),e})()}}]);