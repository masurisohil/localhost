function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{Od7E:function(e,t,a){"use strict";a.r(t);var i,n=a("ofXK"),r=a("tyNb"),s=a("fXoL"),c=((i=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:i}),i.\u0275inj=s.Jb({factory:function(e){return new(e||i)},imports:[[n.b,r.i]]}),i),o=a("jhRr"),l=a("QSzr"),d=a("OTx7"),u=a("zzOR"),b=a("FasR"),h=a("c8VH"),g=a("AwSQ"),p=a("ZOsW"),f=a("3Pt+"),v=a("jTkZ"),_=a("Eb8l"),y=a("LPFR"),S=a("Pbud");function w(e,t){if(1&e){var a=s.Tb();s.Sb(0,"div",4),s.Sb(1,"ng-select",15),s.ac("ngModelChange",(function(e){return s.uc(a),s.cc().satage_id=e}))("change",(function(){return s.uc(a),s.cc().getObjects()})),s.Rb(),s.Rb()}if(2&e){var i=s.cc();s.zb(1),s.jc("ngModel",i.satage_id)("items",i.stagesListArray)}}var j,m=((j=function(){function e(t,a,i){_classCallCheck(this,e),this.paginationService=t,this.orderService=a,this.dataService=i,this.PageTitle="Manage Order",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.statusListArray=[],this.stagesListArray=[],this.headerData=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.status_id=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.getMasterData(),this.setHeaderData(),this.loadform=!1,this.getObjects()}},{key:"getMasterData",value:function(){var e=this;this.orderService.getOrderfilterData().subscribe((function(t){t.success&&(e.statusListArray=t.data.status,e.stagesListArray=t.data.status_type)}))}},{key:"setHeaderData",value:function(){this.headerData.push(new b.f({label:"Order #",key:"po_no",viewUrl:{path:"/inbound/order/view/",id:"po_id"}}),new b.c({label:"PO Date",key:"po_date"}),new b.e({label:"Case #",key:""}),new b.e({label:"Supplier",key:"supplier.label"}),new b.e({label:"Client",key:"client.label"}));var e=new b.a({edit:{path:"/inbound/order/edit/",id:"po_id"},view:{path:"/inbound/order/view/",id:"po_id"},delete:{path:"po/",id:"po_id"}});this.headerData.push(e)}},{key:"getObjects",value:function(){var e=this,t={page:this.currentPage};this.status_id&&(t.po_status=this.status_id),this.satage_id&&this.status_id&&1==this.status_id&&(t.status_id=this.satage_id),this.searchText&&(t.search=this.searchText),this.orderService.getOrderList(t).subscribe((function(t){e.loadingState=!1,t.success&&t.data?(e.objectArray=t.data.list,e.pagination=e.paginationService.getPager(t.data.pagination.total_page,e.currentPage)):(e.objectArray=[],e.pagination=null)}),(function(t){e.loadingState=!1,e.objectArray=[],e.pagination=null}))}},{key:"getPage",value:function(e){this.currentPage=e,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}},{key:"searchObject",value:function(e){this.searchText=e,this.currentPage=1,this.getObjects()}},{key:"deleteObject",value:function(e){var t=this;swal.fire({title:u.a.delete_header_text,text:u.a.delete_smalll_text,icon:u.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:u.a.delete_confirm_button,cancelButtonText:u.a.delete_cancel_button}).then((function(a){a.value&&t.orderService.deleteOrder(e.po_id).subscribe((function(e){e.success&&t.getObjects()}))})).catch(swal.noop)}}]),e}()).\u0275fac=function(e){return new(e||j)(s.Mb(h.a),s.Mb(o.a),s.Mb(g.a))},j.\u0275cmp=s.Gb({type:j,selectors:[["app-order-list"]],decls:18,vars:11,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],["bindLabel","label","bindValue","value","placeholder","Select Status",2,"width","200px",3,"ngModel","items","ngModelChange","change"],["class","ml-3",4,"ngIf"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col","mt-1"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange"],["bindLabel","label","bindValue","value","placeholder","Select Stages",2,"width","200px",3,"ngModel","items","ngModelChange","change"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"h2",3),s.Cc(4),s.Rb(),s.Sb(5,"div",4),s.Sb(6,"ng-select",5),s.ac("ngModelChange",(function(e){return t.status_id=e}))("change",(function(){return t.getObjects()})),s.Rb(),s.Rb(),s.Ac(7,w,2,2,"div",6),s.Sb(8,"div",4),s.Sb(9,"search-box",7),s.ac("text",(function(e){return t.searchObject(e)})),s.Rb(),s.Rb(),s.Sb(10,"div",4),s.Nb(11,"app-btn-add",8),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",9),s.Sb(13,"div",10),s.Sb(14,"div",11),s.Sb(15,"div",12),s.Sb(16,"app-table-list",13),s.ac("reloadEvent",(function(){return t.onReloadEvent()})),s.Rb(),s.Sb(17,"pagination",14),s.ac("onPageChange",(function(e){return t.getPage(e)})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.zb(4),s.Dc(t.PageTitle),s.zb(2),s.jc("ngModel",t.status_id)("items",t.statusListArray),s.zb(1),s.jc("ngIf",1==t.status_id),s.zb(2),s.jc("placeholder","Search Here..."),s.zb(2),s.jc("btnName","Add Order")("editData","/inbound/order/add"),s.zb(5),s.jc("headerData",t.headerData)("rawData",t.objectArray),s.zb(1),s.jc("paginationList",t.pagination)("currentPage",t.currentPage))},directives:[p.a,f.o,f.q,n.l,v.a,_.a,y.a,S.a],encapsulation:2}),j),O=a("g3N6"),P=a("uq2c");a.d(t,"OrderListModule",(function(){return k}));var R,C=[{path:"",component:m}],k=((R=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:R}),R.\u0275inj=s.Jb({factory:function(e){return new(e||R)},providers:[o.a],imports:[[n.b,r.i.forChild(C),c,d.a,l.a,O.a,P.a,f.l,p.b]]}),R)}}]);