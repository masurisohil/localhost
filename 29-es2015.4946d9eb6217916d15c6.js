(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{x2YT:function(t,e,o){"use strict";o.r(e);var i=o("ofXK"),r=o("tyNb"),n=o("Jvtu"),b=o("3Pt+"),a=o("Vr6k"),d=o("PCNd"),c=o("zzOR"),s=o("fXoL"),l=o("ICGj"),u=o("AwSQ"),p=o("HOh6"),m=o("UaFz");function f(t,e){if(1&t&&(s.Sb(0,"tr",33),s.Sb(1,"td"),s.Sb(2,"div",34),s.Cc(3),s.Rb(),s.Rb(),s.Sb(4,"td"),s.Nb(5,"input",35),s.Rb(),s.Sb(6,"td"),s.Nb(7,"input",36),s.Rb(),s.Sb(8,"td",23),s.Nb(9,"input",37),s.Rb(),s.Rb()),2&t){const t=e.index;s.jc("formGroupName",t),s.zb(3),s.Dc(t+1)}}let h=(()=>{class t{constructor(t,e,o,i,r,n){this.activatedRoute=t,this.pickListService=e,this.location=o,this.fb=i,this.router=r,this.dataService=n,this.PageTitle="Genrate PickList ",this.exampleOptions={defaultDate:new Date,dateFormat:c.a,noCalendar:!0},this.orderDetails={},this.productList=[],this.date_format="M/d/yy",this.addForm=this.fb.group({picked_by:[null,b.t.compose([b.t.required])],notes:[null],unload_detail:this.fb.array([])}),this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.dataService.currentCompany.subscribe(t=>{t&&(this.timezone=t.timezone.label,this.time_format=t.time_format.label,this.date_format=t.date_format.label,this.currentCompany=t)}),this.getObject()}back(){this.location.back()}getObject(){this.pickListService.getPickListReportsDetails(this.viewId).subscribe(t=>{t.success?(this.orderDetails=t.data.order_detail,this.productList=t.data.product,this.setData()):(this.orderDetails={},this.productList=[])},t=>{this.orderDetails={},this.productList=[]})}setData(){if(this.addForm.patchValue({notes:this.orderDetails.notes,picked_by:this.orderDetails.picked_by}),this.productList.length>0){const t=this.addForm.get("unload_detail");for(let e=0;e<=t.length+1;e++)t.removeAt(e);this.productList.forEach((e,o)=>{t.push(this.fb.group({pick_list_id:e.pick_list_id,sku_no:e.sku_no,product_name:e.product_name,product_qty:e.product_qty}))})}}submitForm(t){if(t.valid){this.showLoader=!0;const e=new FormData;e.append("picked_by",t.value.picked_by),this.pickListService.getPickListSubmitReports(this.viewId,e).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1})}}addNewRow(){this.addForm.get("unload_detail").push(this.initRows())}initRows(){return new b.i({pick_list_id:new b.f(""),sku_no:new b.f(""),product_name:new b.f(""),product_qty:new b.f(0,b.t.compose([b.t.required]))})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(r.a),s.Mb(l.a),s.Mb(i.h),s.Mb(b.e),s.Mb(r.e),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-generate-pick-list"]],decls:75,vars:12,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],[1,"card-body"],["role","form",1,"form-horizontal","pb-4",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-7","pl-3"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","disabled","",1,"form-control",3,"value"],[1,"date-picker"],["disabled","",3,"setDate","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["rows","2",1,"form-control",3,"formControl"],[1,"row","mt-4"],[1,"table-responsive-md","mt-3"],[1,"table"],[1,"text-center"],["formArrayName","unload_detail"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-4","border","border-left-0","border-right-0","pt-4","pb-2"],[1,"col-md-6"],[1,"row","mt-2"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],[3,"formGroupName"],[1,"p-1"],["type","text","formControlName","sku_no","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_name","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_qty","disabled","",1,"input_formarray","form-control"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"h2",4),s.Cc(5),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"div",6),s.Sb(8,"form",7),s.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),s.Sb(9,"div",8),s.Sb(10,"div",9),s.Sb(11,"div",2),s.Sb(12,"div",10),s.Sb(13,"div",11),s.Sb(14,"label",12),s.Cc(15,"PO Date "),s.Sb(16,"em"),s.Cc(17,"*"),s.Rb(),s.Rb(),s.Sb(18,"div",13),s.Nb(19,"input",14),s.dc(20,"date"),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"div",10),s.Sb(22,"div",11),s.Sb(23,"label",12),s.Cc(24,"Date of Receipt "),s.Sb(25,"em"),s.Cc(26,"*"),s.Rb(),s.Rb(),s.Sb(27,"div",15),s.Nb(28,"ng2-flatpickr",16),s.Sb(29,"span",17),s.Nb(30,"span",18),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(31,"div",2),s.Sb(32,"div",3),s.Sb(33,"div",11),s.Sb(34,"label",12),s.Cc(35,"Notes"),s.Rb(),s.Nb(36,"textarea",19),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(37,"div",20),s.Sb(38,"div",3),s.Sb(39,"h5"),s.Cc(40,"Items"),s.Rb(),s.Sb(41,"div",21),s.Sb(42,"table",22),s.Sb(43,"thead"),s.Sb(44,"tr"),s.Sb(45,"th"),s.Cc(46,"No."),s.Rb(),s.Sb(47,"th"),s.Cc(48,"SKU no"),s.Rb(),s.Sb(49,"th"),s.Cc(50,"Product"),s.Rb(),s.Sb(51,"th",23),s.Cc(52,"Product Qty"),s.Rb(),s.Rb(),s.Rb(),s.Sb(53,"tbody",24),s.Ac(54,f,10,2,"tr",25),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(55,"div",26),s.Sb(56,"div",27),s.Sb(57,"h5"),s.Cc(58,"Picked By"),s.Rb(),s.Sb(59,"div",28),s.Sb(60,"div",27),s.Sb(61,"div",11),s.Sb(62,"label",12),s.Cc(63,"Picked by. "),s.Sb(64,"em"),s.Cc(65,"*"),s.Rb(),s.Rb(),s.Sb(66,"div",13),s.Nb(67,"input",29),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(68,"div",8),s.Sb(69,"div",3),s.Sb(70,"div",30),s.Sb(71,"button",31),s.ac("click",(function(){return e.back()})),s.Cc(72,"Cancel"),s.Rb(),s.Sb(73,"button",32),s.Cc(74,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.zb(5),s.Dc(e.PageTitle),s.zb(3),s.jc("formGroup",e.addForm),s.zb(11),s.jc("value",s.gc(20,8,null==e.orderDetails?null:e.orderDetails.sales_order_date,e.date_format,e.timezone)),s.zb(9),s.jc("setDate",null==e.orderDetails?null:e.orderDetails.receipt_date)("config",e.exampleOptions),s.zb(8),s.jc("formControl",e.addForm.controls.notes),s.zb(18),s.jc("ngForOf",e.addForm.controls.unload_detail.controls),s.zb(13),s.jc("formControl",e.addForm.controls.picked_by))},directives:[b.v,b.p,p.a,b.j,n.a,b.c,b.o,m.a,b.g,b.d,i.k,b.k,b.h],pipes:[i.d],styles:[".input_formarray[_ngcontent-%COMP%] {\n    width: 80%;\n  }"]}),t})();o.d(e,"GeneratePickListModule",(function(){return R}));const S=[{path:":id",component:h}];let R=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[i.b,r.i.forChild(S),n.b,b.l,a.a,d.a,b.s]]}),t})()},xgIS:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var i=o("HDdC"),r=o("DH7j"),n=o("n6bG"),b=o("lJxs");function a(t,e,o,d){return Object(n.a)(o)&&(d=o,o=void 0),d?a(t,e,o).pipe(Object(b.a)(t=>Object(r.a)(t)?d(...t):d(t))):new i.a(i=>{!function t(e,o,i,r,n){let b;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(o,i,n),b=()=>t.removeEventListener(o,i,n)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(o,i),b=()=>t.off(o,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(o,i),b=()=>t.removeListener(o,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let b=0,a=e.length;b<a;b++)t(e[b],o,i,r,n)}r.add(b)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,o)})}}}]);