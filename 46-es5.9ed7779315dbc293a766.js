function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"0yhT":function(e,t,a){"use strict";a.r(t);var i,n=a("ofXK"),r=a("tyNb"),l=a("g3N6"),o=a("uq2c"),c=a("OTx7"),s=a("ZOsW"),d=a("PCNd"),b=a("Vr6k"),v=a("3Pt+"),u=a("QSzr"),h=a("FasR"),p=a("fXoL"),g=a("c8VH"),m=a("AytR"),f=a("tk/3"),y=((i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.API_URL=m.a.APIEndpoint}return _createClass(e,[{key:"getLevelList",value:function(e){return this.http.get("".concat(this.API_URL,"/level"),{params:e})}},{key:"addLevel",value:function(e){return this.http.post("".concat(this.API_URL,"/level"),e)}},{key:"editLevel",value:function(e,t){return this.http.put("".concat(this.API_URL,"/level/").concat(e),t)}},{key:"getLevelById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/level/").concat(e),{params:t})}},{key:"getMasterData",value:function(){return this.http.get("".concat(this.API_URL,"/level/master-data"))}}]),e}()).\u0275fac=function(e){return new(e||i)(p.Wb(f.b))},i.\u0275prov=p.Ib({token:i,factory:i.\u0275fac}),i),R=a("jTkZ"),_=a("Eb8l"),S=a("LPFR"),w=a("Pbud");function C(e,t){if(1&e){var a=p.Tb();p.Sb(0,"pagination",11),p.ac("onPageChange",(function(e){return p.uc(a),p.cc().getPage(e)})),p.Rb()}if(2&e){var i=p.cc();p.jc("paginationList",i.pagination)("currentPage",i.currentPage)}}var L,j=((L=function(){function e(t,a){_classCallCheck(this,e),this.paginationService=t,this.levelService=a,this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.PageTitle="Manage Level",this.headerData=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadform=!1,this.setHeaderData(),this.getObjects()}},{key:"setHeaderData",value:function(){this.headerData.push(new h.h({label:"Level Name",key:"level_name"}),new h.h({label:"Level Code",key:"level_code"}),new h.h({label:"Bar Code No",key:"level_bar_code"}));var e=new h.a({edit:{path:"/manage/level/edit/",id:"level_id"},view:{path:"/manage/level/view/",id:"level_id"},delete:{path:"level/",id:"level_id"}});this.headerData.push(e)}},{key:"getObjects",value:function(){var e=this,t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.levelService.getLevelList(t).subscribe((function(t){e.loadingState=!1,t.success?(e.objectArray=t.data.list,e.showPagination=!0,e.pagination=e.paginationService.getPager(t.data.pagination.total_page,e.currentPage)):(e.objectArray=[],e.pagination=null)}),(function(t){e.loadingState=!1,e.objectArray=[],e.pagination=null}))}},{key:"getPage",value:function(e){this.currentPage=e,this.getObjects()}},{key:"searchObject",value:function(e){this.searchText=e,this.currentPage=1,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}}]),e}()).\u0275fac=function(e){return new(e||L)(p.Mb(g.a),p.Mb(y))},L.\u0275cmp=p.Gb({type:L,selectors:[["app-level-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"h2",3),p.Cc(4),p.Rb(),p.Sb(5,"div",4),p.Sb(6,"search-box",5),p.ac("text",(function(e){return t.searchObject(e)})),p.Rb(),p.Rb(),p.Sb(7,"div",4),p.Nb(8,"app-btn-add",6),p.Rb(),p.Rb(),p.Rb(),p.Sb(9,"div",7),p.Sb(10,"div",8),p.Sb(11,"app-table-list",9),p.ac("reloadEvent",(function(){return t.onReloadEvent()})),p.Rb(),p.Ac(12,C,1,2,"pagination",10),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.zb(4),p.Dc(t.PageTitle),p.zb(2),p.jc("placeholder","Search Here..."),p.zb(2),p.jc("btnName","Add Level")("editData","/manage/level/add"),p.zb(3),p.jc("headerData",t.headerData)("rawData",t.objectArray),p.zb(1),p.jc("ngIf",t.showPagination))},directives:[R.a,_.a,S.a,n.l,w.a],encapsulation:2}),L),P=a("8cFx"),k=a("HOh6"),A=a("UaFz");function I(e,t){if(1&e&&p.Nb(0,"span",20),2&e){var a=p.cc();p.jc("innerHTML",a.formErrors.level_code,p.vc)}}function E(e,t){if(1&e&&(p.Qb(0),p.Nb(1,"img",21),p.Pb()),2&e){var a=p.cc();p.zb(1),p.jc("src",a.barCodeFile,p.wc)}}function z(e,t){1&e&&p.Nb(0,"img",22)}var N,D,F=function(e){return{"has-error":e}},M=function(e){return{"qt-loader qt-loader-mini qt-loader-left":e}},O=((D=function(){function e(t,a,i,n,r){_classCallCheck(this,e),this.router=t,this.activatedRoute=a,this.fb=i,this.levelservice=n,this.commonservice=r,this.PageTitle="Level",this.addNewRadio=!1,this.loadingState=!1,this.showLoader=!1,this.formErrors={level_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.bayListArray=[],this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({level_name:[null,v.t.compose([v.t.required])],level_code:[null,v.t.compose([v.t.required])],bay_id:[null,v.t.compose([v.t.required])],level_bar_code:[null]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.getMasterData(),this.isEditing?this.getEditObject():this.getAreaBarcode()}},{key:"getMasterData",value:function(){var e=this;this.levelservice.getMasterData().subscribe((function(t){t.success&&(e.bayListArray=t.data.bay)}))}},{key:"getAreaBarcode",value:function(){var e=this;this.commonservice.getGenerateBarcode().subscribe((function(t){e.addForm.patchValue({level_bar_code:t.type});var a=window.URL||window.webkitURL;document.getElementById("barCodeShow").src=a.createObjectURL(t),e.selectedFile=new File([t],"noname.jpeg",{type:"image/jpeg"})}))}},{key:"getEditObject",value:function(){var e=this;this.levelservice.getLevelById(this.editId).subscribe((function(t){t.success?(e.addForm.patchValue(t.data),e.barCodeFile=t.data.level_bar_code_image):e.router.navigateByUrl("/manage/level")}))}},{key:"submitForm",value:function(e){var t=this;if(e.valid){this.showLoader=!0;var a=new FormData;a.append("level_name",e.value.level_name),a.append("level_code",e.value.level_code),a.append("bay_id",e.value.bay_id),a.append("level_bar_code",e.value.level_bar_code),this.selectedFile&&a.append("file",this.selectedFile),this.isEditing?this.levelservice.editLevel(this.editId,a).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/manage/level"):e.error.map((function(a){a.hasOwnProperty("level_code")?t.formErrors.level_code=a.level_code:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1})):this.levelservice.addLevel(a).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/manage/level"):e.error.map((function(a){a.hasOwnProperty("level_code")?t.formErrors.level_code=a.level_code:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1}))}}}]),e}()).\u0275fac=function(e){return new(e||D)(p.Mb(r.e),p.Mb(r.a),p.Mb(v.e),p.Mb(y),p.Mb(P.a))},D.\u0275cmp=p.Gb({type:D,selectors:[["app-add-level"]],decls:43,vars:17,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row","align-items-center"],[1,"control-label","text-md-right","col-md-4","col-lg-3","mb-0"],[1,"col-md-5"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"col-md-5",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Bay",3,"formControl","items"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"text-right","border-top","pt-4","mt-5","card-footer"],["type","button","routerLink","/manage/level",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"],["alt","","sizes","","srcset","",1,"bcode",3,"src"],["id","barCodeShow","alt","","sizes","","srcset","",1,"bcode"]],template:function(e,t){if(1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"h2",4),p.Cc(5),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",5),p.Sb(7,"form",6),p.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),p.Sb(8,"div",7),p.Sb(9,"div"),p.Sb(10,"div",8),p.Sb(11,"label",9),p.Cc(12,"Level Name "),p.Sb(13,"em"),p.Cc(14,"*"),p.Rb(),p.Rb(),p.Sb(15,"div",10),p.Nb(16,"input",11),p.Rb(),p.Rb(),p.Sb(17,"div",8),p.Sb(18,"label",9),p.Cc(19,"Level Code "),p.Sb(20,"em"),p.Cc(21,"*"),p.Rb(),p.Rb(),p.Sb(22,"div",12),p.Nb(23,"input",11),p.Ac(24,I,1,1,"span",13),p.Rb(),p.Rb(),p.Sb(25,"div",8),p.Sb(26,"label",9),p.Cc(27," Bay Name "),p.Sb(28,"em"),p.Cc(29,"*"),p.Rb(),p.Rb(),p.Sb(30,"div",10),p.Nb(31,"ng-select",14),p.Rb(),p.Rb(),p.Sb(32,"div",8),p.Nb(33,"label",9),p.Sb(34,"div",10),p.Ac(35,E,2,1,"ng-container",15),p.Ac(36,z,1,0,"ng-template",null,16,p.Bc),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(38,"div",17),p.Sb(39,"button",18),p.Cc(40,"Cancel"),p.Rb(),p.Sb(41,"button",19),p.Cc(42,"Submit"),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e){var a=p.sc(37);p.zb(5),p.Fc("",t.isEditing?"Update":"Create"," ",t.PageTitle,""),p.zb(2),p.jc("formGroup",t.addForm),p.zb(9),p.jc("formControl",t.addForm.controls.level_name),p.zb(6),p.jc("ngClass",p.nc(13,F,t.formErrors.level_code)),p.zb(1),p.jc("formControl",t.addForm.controls.level_code),p.zb(1),p.jc("ngIf",t.formErrors.level_code),p.zb(7),p.jc("formControl",t.addForm.controls.bay_id)("items",t.bayListArray),p.zb(4),p.jc("ngIf",t.isEditing)("ngIfElse",a),p.zb(6),p.jc("ngClass",p.nc(15,M,t.showLoader))("disabled",t.showLoader)}},directives:[v.v,v.p,k.a,v.j,v.c,v.o,v.g,A.a,n.j,n.l,s.a,r.f],encapsulation:2}),D),T=((N=function(){function e(t,a){_classCallCheck(this,e),this.activatedRoute=t,this.levelservice=a,this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.levelservice.getLevelById(this.viewId).subscribe((function(t){t.success&&(e.objectArray=t.data)}))}},{key:"VoucherSourcetoPrint",value:function(){var e,t,a;return"\n            <html>\n            <head>\n              <script>\n                function step1() {\n                  setTimeout('step2()', 10);\n                }\n                function step2() {\n                  window.print(); window.close()\n                }\n              <\/script>\n            </head>\n\n            <body onload='step1()'>\n              <h3>Level Name:- ".concat(null===(e=this.objectArray)||void 0===e?void 0:e.level_name,"</h3>\n              <h3>Level Code:- ").concat(null===(t=this.objectArray)||void 0===t?void 0:t.level_code,"</h3>\n              <img src='").concat(null===(a=this.objectArray)||void 0===a?void 0:a.level_bar_code_image,"' />\n            </body>\n            </html>\n      ")}},{key:"VoucherPrint",value:function(){window.print()}}]),e}()).\u0275fac=function(e){return new(e||N)(p.Mb(r.a),p.Mb(y))},N.\u0275cmp=p.Gb({type:N,selectors:[["app-level-view"]],decls:32,vars:4,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[1,"btn","btn-secondary",3,"click"],[1,"card"],[1,"card-body"],["id","details","role","tabpanel","aria-labelledby","details-tab",1,"tab-pane","fade","show","active"],[1,"row","mt-4"],[1,"col-md-4"],[1,"text-muted","mb-1","font-weight-bold"],[1,"col"],["alt","",3,"src"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"h2",3),p.Cc(4,"Level Details"),p.Rb(),p.Nb(5,"div",4),p.Sb(6,"div",4),p.Sb(7,"button",5),p.ac("click",(function(){return t.VoucherPrint()})),p.Cc(8,"Print"),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(9,"div",6),p.Sb(10,"div",7),p.Sb(11,"div",8),p.Sb(12,"div",9),p.Sb(13,"div",10),p.Sb(14,"label",11),p.Cc(15,"Level Name"),p.Rb(),p.Sb(16,"div"),p.Cc(17),p.Rb(),p.Rb(),p.Sb(18,"div",10),p.Sb(19,"label",11),p.Cc(20,"Level Code"),p.Rb(),p.Sb(21,"div"),p.Cc(22),p.Rb(),p.Rb(),p.Sb(23,"div",10),p.Sb(24,"label",11),p.Cc(25,"Bar code No"),p.Rb(),p.Sb(26,"div"),p.Cc(27),p.Rb(),p.Rb(),p.Rb(),p.Sb(28,"div",9),p.Sb(29,"div",12),p.Sb(30,"div"),p.Nb(31,"img",13),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.zb(17),p.Dc(null==t.objectArray?null:t.objectArray.level_name),p.zb(5),p.Dc(null==t.objectArray?null:t.objectArray.level_code),p.zb(5),p.Dc(null==t.objectArray?null:t.objectArray.level_bar_code),p.zb(4),p.jc("src",null==t.objectArray?null:t.objectArray.level_bar_code_image,p.wc))},encapsulation:2}),N);a.d(t,"LevelModule",(function(){return x}));var B,U=[{path:"",component:j,data:{title:"level_list"}},{path:"add",component:O,data:{title:"add_level"}},{path:"edit/:id",component:O,data:{title:"edit_level"}},{path:"view/:id",component:T,data:{title:"view_level"}}],x=((B=function e(){_classCallCheck(this,e)}).\u0275mod=p.Kb({type:B}),B.\u0275inj=p.Jb({factory:function(e){return new(e||B)},providers:[y],imports:[[n.b,r.i.forChild(U),c.a,l.a,o.a,v.l,v.s,b.a,d.a,s.b,u.a]]}),B)}}]);