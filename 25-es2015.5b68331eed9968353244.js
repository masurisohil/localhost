(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"/SVk":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("fXoL");let o=(()=>{class e{constructor(e){this._el=e}onKeyDown(e){const t=e;-1!==[46,8,9,27,13].indexOf(t.keyCode)||65===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105||110===t.keyCode||190===t.keyCode)&&t.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.l))},e.\u0275dir=n.Hb({type:e,selectors:[["","number",""]],hostBindings:function(e,t){1&e&&n.ac("keydown",(function(e){return t.onKeyDown(e)}))}}),e})()},HOh6:function(e,t,r){"use strict";var n=r("xgIS"),o=r("vkgz"),i=r("jtHE"),a=r("fXoL");r.d(t,"a",(function(){return s}));let s=(()=>{class e{constructor(e){this.host=e,this.submit$=Object(n.a)(this.element,"submit").pipe(Object(o.a)(()=>{!1===this.element.classList.contains("submitted")&&this.element.classList.add("submitted")}),function(e,t,r){let n;return n={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:r,scheduler:n}){let o,a,s=0,l=!1,c=!1;return function(d){s++,o&&!l||(l=!1,o=new i.a(e,t,n),a=d.subscribe({next(e){o.next(e)},error(e){l=!0,o.error(e)},complete(){c=!0,a=void 0,o.complete()}}));const b=o.subscribe(this);this.add(()=>{s--,b.unsubscribe(),a&&!c&&r&&0===s&&(a.unsubscribe(),a=void 0,o=void 0)})}}(n))}())}get element(){return this.host.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(a.l))},e.\u0275dir=a.Hb({type:e,selectors:[["form"]]}),e})()},PCNd:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("ofXK"),o=r("fXoL");let i=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})()},UaFz:function(e,t,r){"use strict";var n=r("fXoL");let o=(()=>{class e{constructor(e){this.cdr=e,this._hide=!0}set text(e){e!==this._text&&(this._text=e,this._hide=!e,this.cdr.detectChanges())}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.h))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-control-error"]],inputs:{text:"text"},decls:1,vars:3,consts:[[1,"help","is-danger",3,"innerHTML"]],template:function(e,t){1&e&&n.Nb(0,"p",0),2&e&&(n.Eb("hide",t._hide),n.jc("innerHTML",t._text,n.wc))},encapsulation:2,changeDetection:0}),e})();var i=r("EY2u"),a=r("VRyK");const s={first_name:{required:"* Please enter first name"},last_name:{required:"* Please enter last name"},email:{required:"* Please enter email",email:"* Please enter valid email",validateEmail:"* Please enter valid email"},phone_number:{required:"Please enter phone number",minlength:"Please enter at least 8 digits",maxlength:"Please enter at least 18 digits"},password:{required:"* Please enter password",pattern:"* Password must contains at least 6 characters"},confirm_password:{required:"* Please enter confirm password",validatePassword:"* Your Password is not matched"},tree_level_name:{required:"* Please enter tree level name"},max_node:{required:"* Please enter max node"},tree_order:{required:"* Please enter tree order"},tree_name:{required:"* Please enter tree name"},tree_level_id:{required:"* Please enter tree level"},user_type:{required:"* Please enter user type"},wallet_name:{required:"* Please enter wallet name"},currency_id:{required:"* Please select currency"},wallet_type:{required:"* Please select wallet type"},otp:{required:"* Please enter OTP"},login_pin:{required:"* Please enter PIN",maxlength:"Pin Max 4 Digit",minlength:"Please enter at least 4 digits"},bank_name:{required:"* Please enter bank name"},bank_code:{required:"* Please enter code",maxlength:"Code Max 4 Digit",minlength:"Please enter at least 4 digits"},amount:{required:"* Please enter amount",max:"amount max balance"},sms:{required:"* Please enter content"},webhook:{required:"* Please enter content"},device_number:{required:"* Please enter device number"},name:{required:"* Please enter name"},location:{required:"* Please enter location"},group_id:{required:"* Please select group"}};let l=(()=>{class e{constructor(e){this.vcr=e}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.N))},e.\u0275dir=n.Hb({type:e,selectors:[["","controlErrorContainer",""]]}),e})();var c=r("HOh6"),d=r("3Pt+");r.d(t,"a",(function(){return b}));let b=(()=>{class e{constructor(e,t,r,n,o){this.vcr=e,this.resolver=t,this.form=n,this.controlDir=o,this.customErrors={},this.container=r?r.vcr:e,this.submit$=this.form?this.form.submit$:i.a}ngOnInit(){this.control&&this.control.valueChanges&&Object(a.a)(this.control.valueChanges,this.submit$).subscribe(e=>{const t=this.control.errors;if(t){const e=this.getFormControlName(this.control),r=Object.keys(t)[0],n=s[e];null!=n&&""!==n&&this.setError(n[r])}else this.ref&&this.setError(null)})}getFormControlName(e){const t=e.parent.controls;return Object.keys(t).find(r=>e===t[r])||null}get control(){return this.controlDir.control}setError(e){if(!this.ref){const e=this.resolver.resolveComponentFactory(o);this.ref=this.container.createComponent(e)}this.ref.instance.text=e}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.N),n.Mb(n.j),n.Mb(l,8),n.Mb(c.a,9),n.Mb(d.n))},e.\u0275dir=n.Hb({type:e,selectors:[["","formControl",""],["","formControlName",""]],inputs:{customErrors:"customErrors"}}),e})()},Vr6k:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("ofXK"),o=r("3Pt+"),i=r("fXoL");let a=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[n.b,o.l]]}),e})()},foVa:function(e,t,r){"use strict";r.r(t);var n=r("ofXK"),o=r("3Pt+"),i=r("fXoL"),a=r("tyNb"),s=r("Q05f"),l=r("AwSQ"),c=r("8cFx"),d=r("HOh6"),b=r("UaFz"),m=r("ZOsW"),u=r("/SVk");function p(e,t){if(1&e&&i.Nb(0,"span",41),2&e){const e=i.cc();i.jc("innerHTML",e.formErrors.company_email,i.wc)}}const h=function(e){return{"has-error":e}},f=function(e){return{"qt-loader qt-loader-mini qt-loader-left":e}};let y=(()=>{class e{constructor(e,t,r,n,i,a){this.router=e,this.activatedRoute=t,this.fb=r,this.companyservice=n,this.dataservice=i,this.commonService=a,this.PageTitle="Edit Setting",this.editImageUrl=null,this.addNewRadio=!1,this.timezoneListArray=[],this.dateFormatListArray=[],this.timeFormatListArray=[],this.languageListArray=[],this.currencyListArray=[],this.countryListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={company_email:null,apierror:null},this.editId=null,this.addForm=this.fb.group({company_name:[null,o.t.compose([o.t.required])],company_email:[null,o.t.compose([o.t.required,o.t.email])],phone_no:[null,o.t.compose([o.t.required])],dial_code:["+",o.t.compose([o.t.required])],address:[null],country_name:[null],company_domain:[null,o.t.compose([o.t.required])],company_subdomain:[null,o.t.compose([o.t.required])],language:[null,o.t.compose([o.t.required])],currency:[null,o.t.compose([o.t.required])],time_format:[null,o.t.compose([o.t.required])],timezone:[null,o.t.compose([o.t.required])],date_format:[null,o.t.compose([o.t.required])],country_id:[null,o.t.compose([o.t.required])],state:[null,o.t.compose([o.t.required])],city:[null,o.t.compose([o.t.required])],street_address:[null,o.t.compose([o.t.required])]})}ngOnInit(){this.dataservice.currentCompany.subscribe(e=>{e&&(this.currentCompany=e)}),this.getCountryList(),this.getMasterData(),this.getEditObject()}getMasterData(){this.companyservice.getCompanyMasterData().subscribe(e=>{e.success&&(this.timezoneListArray=e.data.timezone,this.dateFormatListArray=e.data.date_format,this.timeFormatListArray=e.data.time_format,this.languageListArray=e.data.language,this.currencyListArray=e.data.currency)})}getCountryList(){this.commonService.getCountryList().subscribe(e=>{e.success&&(this.countryListArray=e.data.country_list)})}getEditObject(){this.dataservice.currentCompany.subscribe(e=>{e&&(this.editId=e.company_id,this.editImageUrl=e.company_logo,this.addForm.patchValue({company_name:e.company_name,category_id:e.category_id,dial_code:e.dial_code,company_email:e.company_email,time_format:e.time_format.value,timezone:e.timezone.value,date_format:e.date_format.value,company_domain:e.company_domain,company_subdomain:e.company_subdomain,language:e.language.value,phone_no:e.phone_no,currency:e.currency.value,country_name:e.address.country_name,country_id:e.address.country_id,state:e.address.state,city:e.address.city,street_address:e.address.street_address?e.address.street_address:""}))})}fileChangeEvent(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}removeFile(){this.selectedFile=null}getCountryName(e){this.addForm.patchValue({country_name:e.label})}submitForm(e){if(e.valid){this.showLoader=!0;const t=new FormData;t.append("company_name",e.value.company_name),t.append("company_email",e.value.company_email),t.append("phone_no",e.value.phone_no),t.append("company_domain",e.value.company_domain),t.append("company_subdomain",e.value.company_subdomain),t.append("dial_code",e.value.dial_code),t.append("language",e.value.language),t.append("currency",e.value.currency),t.append("time_format",e.value.time_format),t.append("timezone",e.value.timezone),t.append("date_format",e.value.date_format),t.append("address",JSON.stringify({country_id:e.value.country_id,country_name:e.value.country_name,state:e.value.state,city:e.value.city,street_address:e.value.street_address})),this.selectedFile&&t.append("file",this.selectedFile),this.companyservice.editCompany(this.editId,t).subscribe(e=>{this.showLoader=!1,e.success?this.commonService.getProfile().subscribe(e=>{e.success&&(this.dataservice.setAuth(e.data),this.router.navigateByUrl("/setting"))}):e.error.map(t=>{t.hasOwnProperty("company_email")?this.formErrors.company_email=t.company_email:this.formErrors.apierror=`* ${e.error}`})},e=>{this.showLoader=!1})}}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(a.e),i.Mb(a.a),i.Mb(o.e),i.Mb(s.a),i.Mb(l.a),i.Mb(c.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-company-setting-edit"]],decls:150,vars:32,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"col-4"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-dark","btn-sm","btn-file","mt-3"],["accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"col-8"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Currency",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Language",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Time Format",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Timezone",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Date Format",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Country",3,"formControl","items","change"],[1,"d-flex"],["number","","type","text","placeholder","Dial code",1,"form-control","mr-2",2,"width","100px",3,"formControl"],["number","","type","text","placeholder","Enter phone number",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/setting",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"div",3),i.Sb(4,"h2",4),i.Dc(5),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(6,"div",5),i.Sb(7,"form",6),i.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),i.Sb(8,"div",7),i.Sb(9,"div"),i.Sb(10,"div",2),i.Sb(11,"div",8),i.Sb(12,"div",9),i.Sb(13,"div",10),i.Sb(14,"div",11),i.Sb(15,"div",12),i.Nb(16,"img",13),i.Rb(),i.Nb(17,"div",9),i.Sb(18,"button",14),i.Dc(19," Browse Image "),i.Rb(),i.Sb(20,"input",15),i.ac("change",(function(e){return t.fileChangeEvent(e)})),i.Rb(),i.Nb(21,"div",16),i.Rb(),i.Sb(22,"div",17),i.Sb(23,"a",18),i.ac("click",(function(){return t.removeFile()})),i.Dc(24,"Remove"),i.Rb(),i.Rb(),i.Sb(25,"div",19),i.Sb(26,"p",20),i.Dc(27,"*Recommended Size:"),i.Nb(28,"br"),i.Dc(29,"Minimum 250 * 250"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(30,"div",21),i.Sb(31,"div",2),i.Sb(32,"div",22),i.Sb(33,"div",23),i.Sb(34,"label",24),i.Dc(35,"Name "),i.Sb(36,"em"),i.Dc(37,"*"),i.Rb(),i.Rb(),i.Sb(38,"div",25),i.Nb(39,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(40,"div",22),i.Sb(41,"div",23),i.Sb(42,"label",24),i.Dc(43,"Email "),i.Sb(44,"em"),i.Dc(45,"*"),i.Rb(),i.Rb(),i.Sb(46,"div",27),i.Nb(47,"input",26),i.Bc(48,p,1,1,"span",28),i.Rb(),i.Rb(),i.Rb(),i.Sb(49,"div",22),i.Sb(50,"div",23),i.Sb(51,"label",24),i.Dc(52,"Company Domain "),i.Sb(53,"em"),i.Dc(54,"*"),i.Rb(),i.Rb(),i.Sb(55,"div",25),i.Nb(56,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(57,"div",22),i.Sb(58,"div",23),i.Sb(59,"label",24),i.Dc(60,"Company Subdomain "),i.Sb(61,"em"),i.Dc(62,"*"),i.Rb(),i.Rb(),i.Sb(63,"div",25),i.Nb(64,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(65,"div",22),i.Sb(66,"div",23),i.Sb(67,"label",24),i.Dc(68,"Currency "),i.Sb(69,"em"),i.Dc(70,"*"),i.Rb(),i.Rb(),i.Sb(71,"div",25),i.Nb(72,"ng-select",29),i.Rb(),i.Rb(),i.Rb(),i.Sb(73,"div",22),i.Sb(74,"div",23),i.Sb(75,"label",24),i.Dc(76,"Language "),i.Sb(77,"em"),i.Dc(78,"*"),i.Rb(),i.Rb(),i.Sb(79,"div",25),i.Nb(80,"ng-select",30),i.Rb(),i.Rb(),i.Rb(),i.Sb(81,"div",22),i.Sb(82,"div",23),i.Sb(83,"label",24),i.Dc(84,"Time Format "),i.Sb(85,"em"),i.Dc(86,"*"),i.Rb(),i.Rb(),i.Sb(87,"div",25),i.Nb(88,"ng-select",31),i.Rb(),i.Rb(),i.Rb(),i.Sb(89,"div",22),i.Sb(90,"div",23),i.Sb(91,"label",24),i.Dc(92,"Timezone "),i.Sb(93,"em"),i.Dc(94,"*"),i.Rb(),i.Rb(),i.Sb(95,"div",25),i.Nb(96,"ng-select",32),i.Rb(),i.Rb(),i.Rb(),i.Sb(97,"div",22),i.Sb(98,"div",23),i.Sb(99,"label",24),i.Dc(100,"Date Format "),i.Sb(101,"em"),i.Dc(102,"*"),i.Rb(),i.Rb(),i.Sb(103,"div",25),i.Nb(104,"ng-select",33),i.Rb(),i.Rb(),i.Rb(),i.Sb(105,"div",22),i.Sb(106,"div",23),i.Sb(107,"label",24),i.Dc(108,"Country "),i.Sb(109,"em"),i.Dc(110,"*"),i.Rb(),i.Rb(),i.Sb(111,"div",25),i.Sb(112,"ng-select",34),i.ac("change",(function(e){return t.getCountryName(e)})),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(113,"div",22),i.Sb(114,"div",23),i.Sb(115,"label",24),i.Dc(116,"State "),i.Sb(117,"em"),i.Dc(118,"*"),i.Rb(),i.Rb(),i.Sb(119,"div",25),i.Nb(120,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(121,"div",22),i.Sb(122,"div",23),i.Sb(123,"label",24),i.Dc(124,"City "),i.Sb(125,"em"),i.Dc(126,"*"),i.Rb(),i.Rb(),i.Sb(127,"div",25),i.Nb(128,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(129,"div",22),i.Sb(130,"div",23),i.Sb(131,"label",24),i.Dc(132,"Street Address "),i.Sb(133,"em"),i.Dc(134,"*"),i.Rb(),i.Rb(),i.Sb(135,"div",25),i.Nb(136,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(137,"div",23),i.Sb(138,"label",24),i.Dc(139,"Phone Number "),i.Sb(140,"em"),i.Dc(141,"*"),i.Rb(),i.Rb(),i.Sb(142,"div",35),i.Nb(143,"input",36),i.Nb(144,"input",37),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(145,"div",38),i.Sb(146,"button",39),i.Dc(147,"Cancel"),i.Rb(),i.Sb(148,"button",40),i.Dc(149,"Submit"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.zb(5),i.Ec(t.PageTitle),i.zb(2),i.jc("formGroup",t.addForm),i.zb(9),i.jc("src",t.editImageUrl?t.editImageUrl:"assets/no_image.png",i.xc),i.zb(23),i.jc("formControl",t.addForm.controls.company_name),i.zb(7),i.jc("ngClass",i.nc(28,h,t.formErrors.company_email)),i.zb(1),i.jc("formControl",t.addForm.controls.company_email),i.zb(1),i.jc("ngIf",t.formErrors.company_email),i.zb(8),i.jc("formControl",t.addForm.controls.company_domain),i.zb(8),i.jc("formControl",t.addForm.controls.company_subdomain),i.zb(8),i.jc("formControl",t.addForm.controls.currency)("items",t.currencyListArray),i.zb(8),i.jc("formControl",t.addForm.controls.language)("items",t.languageListArray),i.zb(8),i.jc("formControl",t.addForm.controls.time_format)("items",t.timeFormatListArray),i.zb(8),i.jc("formControl",t.addForm.controls.timezone)("items",t.timezoneListArray),i.zb(8),i.jc("formControl",t.addForm.controls.date_format)("items",t.dateFormatListArray),i.zb(8),i.jc("formControl",t.addForm.controls.country_id)("items",t.countryListArray),i.zb(8),i.jc("formControl",t.addForm.controls.state),i.zb(8),i.jc("formControl",t.addForm.controls.city),i.zb(8),i.jc("formControl",t.addForm.controls.street_address),i.zb(7),i.jc("formControl",t.addForm.controls.dial_code),i.zb(1),i.jc("formControl",t.addForm.controls.phone_no),i.zb(4),i.jc("ngClass",i.nc(30,f,t.showLoader))("disabled",t.showLoader))},directives:[o.v,o.p,d.a,o.j,o.c,o.o,o.g,b.a,n.j,n.l,m.a,u.a,a.f],encapsulation:2}),e})();var v=r("Vr6k"),g=r("PCNd");r.d(t,"routes",(function(){return S})),r.d(t,"CompanySettingEditModule",(function(){return _}));const S=[{path:"",component:y}];let _=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},providers:[s.a],imports:[[n.b,o.s,v.a,m.b,g.a,a.i.forChild(S)]]}),e})()}}]);