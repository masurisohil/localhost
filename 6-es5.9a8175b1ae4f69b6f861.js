function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{SFaS:function(e,t,a){"use strict";a.r(t);var o=a("ofXK"),r=a("3Pt+"),n=a("fXoL"),i=a("tyNb"),l=a("Q05f"),c=a("8cFx"),d=a("HOh6"),b=a("UaFz"),m=a("ZOsW"),s=a("/SVk");function u(e,t){if(1&e&&n.Nb(0,"span",41),2&e){var a=n.cc();n.jc("innerHTML",a.formErrors.company_email,n.vc)}}var p,y=function(e){return{"has-error":e}},f=function(e){return{"qt-loader qt-loader-mini qt-loader-left":e}},v=((p=function(){function e(t,a,o,n,i){_classCallCheck(this,e),this.router=t,this.activatedRoute=a,this.fb=o,this.companyservice=n,this.commonService=i,this.PageTitle="Company",this.editImageUrl=null,this.addNewRadio=!1,this.timezoneListArray=[],this.dateFormatListArray=[],this.timeFormatListArray=[],this.languageListArray=[],this.currencyListArray=[],this.countryListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={company_email:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({company_name:[null,r.t.compose([r.t.required])],company_email:[null,r.t.compose([r.t.required,r.t.email])],phone_no:[null,r.t.compose([r.t.required])],dial_code:[null,r.t.compose([r.t.required])],address:[null],country_name:[null],company_domain:[null,r.t.compose([r.t.required])],company_subdomain:[null,r.t.compose([r.t.required])],language:[null,r.t.compose([r.t.required])],currency:[null,r.t.compose([r.t.required])],time_format:[null,r.t.compose([r.t.required])],timezone:[null,r.t.compose([r.t.required])],date_format:[null,r.t.compose([r.t.required])],country_id:[null,r.t.compose([r.t.required])],state:[null,r.t.compose([r.t.required])],city:[null,r.t.compose([r.t.required])],street_address:[null,r.t.compose([r.t.required])]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCountryList(),this.getMasterData(),this.isEditing&&this.getEditObject()}},{key:"getMasterData",value:function(){var e=this;this.companyservice.getCompanyMasterData().subscribe((function(t){t.success&&(e.timezoneListArray=t.data.timezone,e.dateFormatListArray=t.data.date_format,e.timeFormatListArray=t.data.time_format,e.languageListArray=t.data.language,e.currencyListArray=t.data.currency)}))}},{key:"getCountryList",value:function(){var e=this;this.commonService.getCountryList().subscribe((function(t){t.success&&(e.countryListArray=t.data.country_list)}))}},{key:"getEditObject",value:function(){var e=this;this.companyservice.getCompanyById(this.editId).subscribe((function(t){t.success?(e.editImageUrl=t.data.company_logo,e.addForm.patchValue({company_name:t.data.company_name,category_id:t.data.category_id,dial_code:t.data.dial_code,company_email:t.data.company_email,time_format:t.data.time_format,timezone:t.data.timezone,date_format:t.data.date_format,company_domain:t.data.company_domain,company_subdomain:t.data.company_subdomain,language:t.data.language,phone_no:t.data.phone_no,currency:t.data.currency,country_name:t.data.address.country_name,country_id:t.data.address.country_id,state:t.data.address.state,city:t.data.address.city,street_address:t.data.address.street_address?t.data.address.street_address:""})):e.router.navigateByUrl("/company")}))}},{key:"fileChangeEvent",value:function(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}},{key:"removeFile",value:function(){this.selectedFile=null}},{key:"getCountryName",value:function(e){this.addForm.patchValue({country_name:e.label})}},{key:"submitForm",value:function(e){var t=this;if(e.valid){this.showLoader=!0;var a=new FormData;a.append("company_name",e.value.company_name),a.append("company_email",e.value.company_email),a.append("phone_no",e.value.phone_no),a.append("company_domain",e.value.company_domain),a.append("company_subdomain",e.value.company_subdomain),a.append("dial_code",e.value.dial_code),a.append("language",e.value.language),a.append("currency",e.value.currency),a.append("time_format",e.value.time_format),a.append("timezone",e.value.timezone),a.append("date_format",e.value.date_format),a.append("address",JSON.stringify({country_id:e.value.country_id,country_name:e.value.country_name,state:e.value.state,city:e.value.city,street_address:e.value.street_address})),this.selectedFile&&a.append("file",this.selectedFile),this.isEditing?this.companyservice.editCompany(this.editId,a).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/company"):e.error.map((function(a){a.hasOwnProperty("company_email")?t.formErrors.company_email=a.company_email:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1})):this.companyservice.addCompany(a).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/company"):e.error.map((function(a){a.hasOwnProperty("company_email")?t.formErrors.company_email=a.company_email:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1}))}}}]),e}()).\u0275fac=function(e){return new(e||p)(n.Mb(i.e),n.Mb(i.a),n.Mb(r.e),n.Mb(l.a),n.Mb(c.a))},p.\u0275cmp=n.Gb({type:p,selectors:[["app-company-add"]],decls:150,vars:32,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"col-4"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-dark","btn-sm","btn-file","mt-3"],["accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"col-8"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Currency",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Language",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Time Format",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Timezone",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Date Format",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Country",3,"formControl","items","change"],[1,"d-flex"],["number","","type","text","placeholder","Enter dial number",1,"form-control","mr-2",2,"width","100px",3,"formControl"],["number","","type","text","placeholder","Enter phone number",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/manage/client",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"h2",4),n.Cc(5),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(6,"div",5),n.Sb(7,"form",6),n.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),n.Sb(8,"div",7),n.Sb(9,"div"),n.Sb(10,"div",2),n.Sb(11,"div",8),n.Sb(12,"div",9),n.Sb(13,"div",10),n.Sb(14,"div",11),n.Sb(15,"div",12),n.Nb(16,"img",13),n.Rb(),n.Nb(17,"div",9),n.Sb(18,"button",14),n.Cc(19," Browse Image "),n.Rb(),n.Sb(20,"input",15),n.ac("change",(function(e){return t.fileChangeEvent(e)})),n.Rb(),n.Nb(21,"div",16),n.Rb(),n.Sb(22,"div",17),n.Sb(23,"a",18),n.ac("click",(function(){return t.removeFile()})),n.Cc(24,"Remove"),n.Rb(),n.Rb(),n.Sb(25,"div",19),n.Sb(26,"p",20),n.Cc(27,"*Recommended Size:"),n.Nb(28,"br"),n.Cc(29,"Minimum 250 * 250"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(30,"div",21),n.Sb(31,"div",2),n.Sb(32,"div",22),n.Sb(33,"div",23),n.Sb(34,"label",24),n.Cc(35,"Name "),n.Sb(36,"em"),n.Cc(37,"*"),n.Rb(),n.Rb(),n.Sb(38,"div",25),n.Nb(39,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Sb(40,"div",22),n.Sb(41,"div",23),n.Sb(42,"label",24),n.Cc(43,"Email "),n.Sb(44,"em"),n.Cc(45,"*"),n.Rb(),n.Rb(),n.Sb(46,"div",27),n.Nb(47,"input",26),n.Ac(48,u,1,1,"span",28),n.Rb(),n.Rb(),n.Rb(),n.Sb(49,"div",22),n.Sb(50,"div",23),n.Sb(51,"label",24),n.Cc(52,"Company Domain "),n.Sb(53,"em"),n.Cc(54,"*"),n.Rb(),n.Rb(),n.Sb(55,"div",25),n.Nb(56,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Sb(57,"div",22),n.Sb(58,"div",23),n.Sb(59,"label",24),n.Cc(60,"Company Subdomain "),n.Sb(61,"em"),n.Cc(62,"*"),n.Rb(),n.Rb(),n.Sb(63,"div",25),n.Nb(64,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Sb(65,"div",22),n.Sb(66,"div",23),n.Sb(67,"label",24),n.Cc(68,"Currency "),n.Sb(69,"em"),n.Cc(70,"*"),n.Rb(),n.Rb(),n.Sb(71,"div",25),n.Nb(72,"ng-select",29),n.Rb(),n.Rb(),n.Rb(),n.Sb(73,"div",22),n.Sb(74,"div",23),n.Sb(75,"label",24),n.Cc(76,"Language "),n.Sb(77,"em"),n.Cc(78,"*"),n.Rb(),n.Rb(),n.Sb(79,"div",25),n.Nb(80,"ng-select",30),n.Rb(),n.Rb(),n.Rb(),n.Sb(81,"div",22),n.Sb(82,"div",23),n.Sb(83,"label",24),n.Cc(84,"Time Format "),n.Sb(85,"em"),n.Cc(86,"*"),n.Rb(),n.Rb(),n.Sb(87,"div",25),n.Nb(88,"ng-select",31),n.Rb(),n.Rb(),n.Rb(),n.Sb(89,"div",22),n.Sb(90,"div",23),n.Sb(91,"label",24),n.Cc(92,"Timezone "),n.Sb(93,"em"),n.Cc(94,"*"),n.Rb(),n.Rb(),n.Sb(95,"div",25),n.Nb(96,"ng-select",32),n.Rb(),n.Rb(),n.Rb(),n.Sb(97,"div",22),n.Sb(98,"div",23),n.Sb(99,"label",24),n.Cc(100,"Date Format "),n.Sb(101,"em"),n.Cc(102,"*"),n.Rb(),n.Rb(),n.Sb(103,"div",25),n.Nb(104,"ng-select",33),n.Rb(),n.Rb(),n.Rb(),n.Sb(105,"div",22),n.Sb(106,"div",23),n.Sb(107,"label",24),n.Cc(108,"Country "),n.Sb(109,"em"),n.Cc(110,"*"),n.Rb(),n.Rb(),n.Sb(111,"div",25),n.Sb(112,"ng-select",34),n.ac("change",(function(e){return t.getCountryName(e)})),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(113,"div",22),n.Sb(114,"div",23),n.Sb(115,"label",24),n.Cc(116,"State "),n.Sb(117,"em"),n.Cc(118,"*"),n.Rb(),n.Rb(),n.Sb(119,"div",25),n.Nb(120,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Sb(121,"div",22),n.Sb(122,"div",23),n.Sb(123,"label",24),n.Cc(124,"City "),n.Sb(125,"em"),n.Cc(126,"*"),n.Rb(),n.Rb(),n.Sb(127,"div",25),n.Nb(128,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Sb(129,"div",22),n.Sb(130,"div",23),n.Sb(131,"label",24),n.Cc(132,"Street Address "),n.Sb(133,"em"),n.Cc(134,"*"),n.Rb(),n.Rb(),n.Sb(135,"div",25),n.Nb(136,"input",26),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(137,"div",23),n.Sb(138,"label",24),n.Cc(139,"Phone Number "),n.Sb(140,"em"),n.Cc(141,"*"),n.Rb(),n.Rb(),n.Sb(142,"div",35),n.Nb(143,"input",36),n.Nb(144,"input",37),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(145,"div",38),n.Sb(146,"button",39),n.Cc(147,"Cancel"),n.Rb(),n.Sb(148,"button",40),n.Cc(149,"Submit"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(5),n.Dc(t.PageTitle),n.zb(2),n.jc("formGroup",t.addForm),n.zb(9),n.jc("src",t.editImageUrl?t.editImageUrl:"assets/no_image.png",n.wc),n.zb(23),n.jc("formControl",t.addForm.controls.company_name),n.zb(7),n.jc("ngClass",n.nc(28,y,t.formErrors.company_email)),n.zb(1),n.jc("formControl",t.addForm.controls.company_email),n.zb(1),n.jc("ngIf",t.formErrors.company_email),n.zb(8),n.jc("formControl",t.addForm.controls.company_domain),n.zb(8),n.jc("formControl",t.addForm.controls.company_subdomain),n.zb(8),n.jc("formControl",t.addForm.controls.currency)("items",t.currencyListArray),n.zb(8),n.jc("formControl",t.addForm.controls.language)("items",t.languageListArray),n.zb(8),n.jc("formControl",t.addForm.controls.time_format)("items",t.timeFormatListArray),n.zb(8),n.jc("formControl",t.addForm.controls.timezone)("items",t.timezoneListArray),n.zb(8),n.jc("formControl",t.addForm.controls.date_format)("items",t.dateFormatListArray),n.zb(8),n.jc("formControl",t.addForm.controls.country_id)("items",t.countryListArray),n.zb(8),n.jc("formControl",t.addForm.controls.state),n.zb(8),n.jc("formControl",t.addForm.controls.city),n.zb(8),n.jc("formControl",t.addForm.controls.street_address),n.zb(7),n.jc("formControl",t.addForm.controls.dial_code),n.zb(1),n.jc("formControl",t.addForm.controls.phone_no),n.zb(4),n.jc("ngClass",n.nc(30,f,t.showLoader))("disabled",t.showLoader))},directives:[r.v,r.p,d.a,r.j,r.c,r.o,r.g,b.a,o.j,o.l,m.a,s.a,i.f],encapsulation:2}),p),h=a("Vr6k"),S=a("PCNd");a.d(t,"CompanyAddModule",(function(){return C}));var g,R=[{path:"",component:v,data:{title:"add_company"}}],C=((g=function e(){_classCallCheck(this,e)}).\u0275mod=n.Kb({type:g}),g.\u0275inj=n.Jb({factory:function(e){return new(e||g)},imports:[[o.b,r.s,h.a,m.b,S.a,i.i.forChild(R)]]}),g)}}]);