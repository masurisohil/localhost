function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{j9E3:function(e,t,i){"use strict";i.r(t);var r,a=i("ofXK"),n=i("tyNb"),o=i("g3N6"),s=i("uq2c"),l=i("OTx7"),c=i("ZOsW"),d=i("PCNd"),u=i("Vr6k"),p=i("3Pt+"),b=i("KUiO"),m=i("FasR"),h=i("fXoL"),f=i("c8VH"),g=i("AytR"),v=i("tk/3"),S=((r=function(){function e(t){_classCallCheck(this,e),this.http=t,this.API_URL=g.a.APIEndpoint}return _createClass(e,[{key:"getSuppliersList",value:function(e){return this.http.get("".concat(this.API_URL,"/supplier"),{params:e})}},{key:"addSuppliers",value:function(e){return this.http.post("".concat(this.API_URL,"/supplier"),e)}},{key:"editSuppliers",value:function(e,t){return this.http.put("".concat(this.API_URL,"/supplier/").concat(e),t)}},{key:"getSuppliersById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/supplier/").concat(e),{params:t})}},{key:"getSuppliersMasterData",value:function(){return this.http.get("".concat(this.API_URL,"/supplier/master-data"))}}]),e}()).\u0275fac=function(e){return new(e||r)(h.Wb(v.b))},r.\u0275prov=h.Ib({token:r,factory:r.\u0275fac}),r),y=i("jTkZ"),R=i("Eb8l"),_=i("LPFR"),C=i("Pbud");function w(e,t){if(1&e){var i=h.Tb();h.Sb(0,"pagination",11),h.ac("onPageChange",(function(e){return h.vc(i),h.cc().getPage(e)})),h.Rb()}if(2&e){var r=h.cc();h.jc("paginationList",r.pagination)("currentPage",r.currentPage)}}var j,k=((j=function(){function e(t,i){_classCallCheck(this,e),this.paginationService=t,this.supplierService=i,this.PageTitle="Manage Suppliers",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.headerData=[],this.showPagination=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadform=!1,this.setHeaderData(),this.getObjects()}},{key:"setHeaderData",value:function(){this.headerData.push(new m.i({label:"Supplier Name",key:"supplier_name"}),new m.i({label:"Supplier Code",key:"supplier_code"}),new m.i({label:"Email",key:"email"}),new m.i({label:"Phone Number",key:"phone_number"}),new m.i({label:"Address\t",key:"address.country_name"}));var e=new m.a({edit:{path:"/manage/suppliers/edit/",id:"supplier_id"},delete:{path:"supplier/",id:"supplier_id"}});this.headerData.push(e)}},{key:"getObjects",value:function(){var e=this,t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.supplierService.getSuppliersList(t).subscribe((function(t){e.loadingState=!1,t.success?(e.objectArray=t.data.list,e.showPagination=!0,e.pagination=e.paginationService.getPager(t.data.pagination.total_page,e.currentPage)):(e.objectArray=[],e.pagination=null)}),(function(t){e.loadingState=!1,e.objectArray=[],e.pagination=null}))}},{key:"getPage",value:function(e){this.currentPage=e,this.getObjects()}},{key:"searchObject",value:function(e){this.searchText=e,this.currentPage=1,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}}]),e}()).\u0275fac=function(e){return new(e||j)(h.Mb(f.a),h.Mb(S))},j.\u0275cmp=h.Gb({type:j,selectors:[["app-suppliers-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"h2",3),h.Dc(4),h.Rb(),h.Sb(5,"div",4),h.Sb(6,"search-box",5),h.ac("text",(function(e){return t.searchObject(e)})),h.Rb(),h.Rb(),h.Sb(7,"div",4),h.Nb(8,"app-btn-add",6),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"div",7),h.Sb(10,"div",8),h.Sb(11,"app-table-list",9),h.ac("reloadEvent",(function(){return t.onReloadEvent()})),h.Rb(),h.Bc(12,w,1,2,"pagination",10),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.zb(4),h.Ec(t.PageTitle),h.zb(2),h.jc("placeholder","Search Here..."),h.zb(2),h.jc("btnName","Add Supplier")("editData","/manage/suppliers/add"),h.zb(3),h.jc("headerData",t.headerData)("rawData",t.objectArray),h.zb(1),h.jc("ngIf",t.showPagination))},directives:[y.a,R.a,_.a,a.l,C.a],encapsulation:2}),j),P=i("8cFx"),D=i("HOh6"),L=i("UaFz"),F=i("/SVk");function x(e,t){if(1&e&&h.Nb(0,"span",37),2&e){var i=h.cc();h.jc("innerHTML",i.formErrors.supplier_code,h.wc)}}var E,N=function(e){return{"has-error":e}},I=((E=function(){function e(t,i,r,a,n){_classCallCheck(this,e),this.router=t,this.activatedRoute=i,this.fb=r,this.supplierService=a,this.commonService=n,this.PageTitle="Suppliers",this.editImageUrl=null,this.addNewRadio=!1,this.categoryListArray=[],this.brandListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={supplier_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.countryListArray=[],this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({supplier_name:[null,p.t.compose([p.t.required])],supplier_code:[null,p.t.compose([p.t.required])],phone_number:[null,p.t.compose([p.t.required])],dial_code:["+",p.t.compose([p.t.required])],email:[null,p.t.compose([p.t.required,p.t.email])],address:[null],country_name:[null],country_id:[null,p.t.compose([p.t.required])],state:[null,p.t.compose([p.t.required])],city:[null,p.t.compose([p.t.required])],street_address:[null,p.t.compose([p.t.required])]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCountryList(),this.isEditing&&this.getEditObject()}},{key:"getCountryList",value:function(){var e=this;this.commonService.getCountryList().subscribe((function(t){t.success&&(e.countryListArray=t.data.country_list)}))}},{key:"getCountryName",value:function(e){this.addForm.patchValue({country_name:e.label})}},{key:"getEditObject",value:function(){var e=this;this.supplierService.getSuppliersById(this.editId).subscribe((function(t){t.success?(e.editImageUrl=t.data.image,e.addForm.patchValue({supplier_name:t.data.supplier_name,category_id:t.data.category_id,dial_code:t.data.dial_code,supplier_code:t.data.supplier_code,phone_number:t.data.phone_number,email:t.data.email,country_id:t.data.address.country_id,country_name:t.data.address.country_name,state:t.data.address.state,city:t.data.address.city,street_address:t.data.address.street_address?t.data.address.street_address:""})):e.router.navigateByUrl("/manage/suppliers")}))}},{key:"fileChangeEvent",value:function(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}},{key:"removeFile",value:function(){this.selectedFile=null}},{key:"submitForm",value:function(e){var t=this;if(e.valid){this.showLoader=!0;var i=new FormData;i.append("supplier_name",e.value.supplier_name),i.append("supplier_code",e.value.supplier_code),i.append("phone_number",e.value.phone_number),i.append("dial_code",e.value.dial_code),i.append("email",e.value.email),i.append("address",JSON.stringify({country_id:e.value.country_id,country_name:e.value.country_name,state:e.value.state,city:e.value.city,street_address:e.value.street_address})),this.selectedFile&&i.append("file",this.selectedFile),this.isEditing?this.supplierService.editSuppliers(this.editId,i).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/manage/suppliers"):e.error.map((function(i){i.hasOwnProperty("supplier_code")?t.formErrors.supplier_code=i.supplier_code:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1})):this.supplierService.addSuppliers(i).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/manage/suppliers"):e.error.map((function(i){i.hasOwnProperty("supplier_code")?t.formErrors.supplier_code=i.supplier_code:t.formErrors.apierror="* ".concat(e.error)}))}),(function(e){t.showLoader=!1}))}}}]),e}()).\u0275fac=function(e){return new(e||E)(h.Mb(n.e),h.Mb(n.a),h.Mb(p.e),h.Mb(S),h.Mb(P.a))},E.\u0275cmp=h.Gb({type:E,selectors:[["app-add-suppliers"]],decls:101,vars:18,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row"],[1,"col-4"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-dark","btn-sm","btn-file","mt-3"],["accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"col-8"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Country",3,"formControl","items","change"],[1,"d-flex"],["number","","type","text","placeholder","Dial code",1,"form-control","mr-2",2,"width","100px",3,"formControl"],["number","","type","text","placeholder","Enter phone number",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/manage/suppliers",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2"],[1,"help-block",3,"innerHTML"]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"h2",4),h.Dc(5),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(6,"div",5),h.Sb(7,"form",6),h.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),h.Sb(8,"div",7),h.Sb(9,"div"),h.Sb(10,"div",8),h.Sb(11,"div",9),h.Sb(12,"div",10),h.Sb(13,"div",11),h.Sb(14,"div",12),h.Sb(15,"div",13),h.Nb(16,"img",14),h.Rb(),h.Nb(17,"div",10),h.Sb(18,"button",15),h.Dc(19," Browse Image "),h.Rb(),h.Sb(20,"input",16),h.ac("change",(function(e){return t.fileChangeEvent(e)})),h.Rb(),h.Nb(21,"div",17),h.Rb(),h.Sb(22,"div",18),h.Sb(23,"a",19),h.ac("click",(function(){return t.removeFile()})),h.Dc(24,"Remove"),h.Rb(),h.Rb(),h.Sb(25,"div",20),h.Sb(26,"p",21),h.Dc(27,"*Recommended Size:"),h.Nb(28,"br"),h.Dc(29,"Minimum 250 * 250"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(30,"div",22),h.Sb(31,"div",8),h.Sb(32,"div",23),h.Sb(33,"div",24),h.Sb(34,"label",25),h.Dc(35,"Supplier Name "),h.Sb(36,"em"),h.Dc(37,"*"),h.Rb(),h.Rb(),h.Sb(38,"div",26),h.Nb(39,"input",27),h.Rb(),h.Rb(),h.Rb(),h.Sb(40,"div",23),h.Sb(41,"div",24),h.Sb(42,"label",25),h.Dc(43,"Supplier Code "),h.Sb(44,"em"),h.Dc(45,"*"),h.Rb(),h.Rb(),h.Sb(46,"div",28),h.Nb(47,"input",27),h.Bc(48,x,1,1,"span",29),h.Rb(),h.Rb(),h.Rb(),h.Sb(49,"div",23),h.Sb(50,"div",24),h.Sb(51,"label",25),h.Dc(52,"Country "),h.Sb(53,"em"),h.Dc(54,"*"),h.Rb(),h.Rb(),h.Sb(55,"div",26),h.Sb(56,"ng-select",30),h.ac("change",(function(e){return t.getCountryName(e)})),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(57,"div",23),h.Sb(58,"div",24),h.Sb(59,"label",25),h.Dc(60,"State "),h.Sb(61,"em"),h.Dc(62,"*"),h.Rb(),h.Rb(),h.Sb(63,"div",26),h.Nb(64,"input",27),h.Rb(),h.Rb(),h.Rb(),h.Sb(65,"div",23),h.Sb(66,"div",24),h.Sb(67,"label",25),h.Dc(68,"City "),h.Sb(69,"em"),h.Dc(70,"*"),h.Rb(),h.Rb(),h.Sb(71,"div",26),h.Nb(72,"input",27),h.Rb(),h.Rb(),h.Rb(),h.Sb(73,"div",23),h.Sb(74,"div",24),h.Sb(75,"label",25),h.Dc(76,"Street Address "),h.Sb(77,"em"),h.Dc(78,"*"),h.Rb(),h.Rb(),h.Sb(79,"div",26),h.Nb(80,"input",27),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(81,"div",24),h.Sb(82,"label",25),h.Dc(83,"Phone Number "),h.Sb(84,"em"),h.Dc(85,"*"),h.Rb(),h.Rb(),h.Sb(86,"div",31),h.Nb(87,"input",32),h.Nb(88,"input",33),h.Rb(),h.Rb(),h.Sb(89,"div",24),h.Sb(90,"label",25),h.Dc(91,"Email "),h.Sb(92,"em"),h.Dc(93,"*"),h.Rb(),h.Rb(),h.Sb(94,"div",26),h.Nb(95,"input",27),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(96,"div",34),h.Sb(97,"button",35),h.Dc(98,"Cancel"),h.Rb(),h.Sb(99,"button",36),h.Dc(100,"Submit"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.zb(5),h.Gc("",t.isEditing?"Update":"Create"," ",t.PageTitle,""),h.zb(2),h.jc("formGroup",t.addForm),h.zb(9),h.jc("src",t.editImageUrl?t.editImageUrl:"assets/no_image.png",h.xc),h.zb(23),h.jc("formControl",t.addForm.controls.supplier_name),h.zb(7),h.jc("ngClass",h.nc(16,N,t.formErrors.supplier_code)),h.zb(1),h.jc("formControl",t.addForm.controls.supplier_code),h.zb(1),h.jc("ngIf",t.formErrors.supplier_code),h.zb(8),h.jc("formControl",t.addForm.controls.country_id)("items",t.countryListArray),h.zb(8),h.jc("formControl",t.addForm.controls.state),h.zb(8),h.jc("formControl",t.addForm.controls.city),h.zb(8),h.jc("formControl",t.addForm.controls.street_address),h.zb(7),h.jc("formControl",t.addForm.controls.dial_code),h.zb(1),h.jc("formControl",t.addForm.controls.phone_number),h.zb(7),h.jc("formControl",t.addForm.controls.email))},directives:[p.v,p.p,D.a,p.j,p.c,p.o,p.g,L.a,a.j,a.l,c.a,F.a,n.f],encapsulation:2}),E),z=i("QSzr");i.d(t,"SuppliersModule",(function(){return M}));var A,O=[{path:"",component:k,data:{title:"suppliers_list"}},{path:"add",component:I,data:{title:"add_suppliers"}},{path:"edit/:id",component:I,data:{title:"edit_suppliers"}}],M=((A=function e(){_classCallCheck(this,e)}).\u0275mod=h.Kb({type:A}),A.\u0275inj=h.Jb({factory:function(e){return new(e||A)},providers:[S],imports:[[a.b,n.i.forChild(O),l.a,o.a,s.a,p.l,p.s,u.a,d.a,z.a,b.a,c.b]]}),A)}}]);