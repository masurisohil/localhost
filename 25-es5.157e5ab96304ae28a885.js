function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{edur:function(r,e,t){"use strict";t.r(e);var o=t("ofXK"),n=t("3Pt+"),s=t("Lw2Y"),a=t("fXoL"),i=t("LWby"),c=t("tyNb"),l=t("6uu6"),u=t("HOh6"),d=t("UaFz");function f(r,e){if(1&r&&(a.Sb(0,"div",17),a.Sb(1,"a",18),a.Cc(2,"\xd7"),a.Rb(),a.Nb(3,"span",19),a.Rb()),2&r){var t=a.cc();a.zb(3),a.jc("innerHTML",t.formErrors.error,a.vc)}}function b(r,e){if(1&r&&(a.Sb(0,"div",20),a.Sb(1,"a",18),a.Cc(2,"\xd7"),a.Rb(),a.Nb(3,"span",19),a.Rb()),2&r){var t=a.cc();a.zb(3),a.jc("innerHTML",t.formErrors.success,a.vc)}}var p,m=function(r){return{"qt-loader qt-loader-mini qt-loader-left":r}},w=((p=function(){function r(e,t,o,a,i){_classCallCheck(this,r),this.config=e,this.router=t,this.activatedRoute=o,this.authService=a,this.fBuilder=i,this.formErrors={error:null,success:null},this.showLoader=!1,this.token=null,this.config.config={showHeader:!1},this.token=this.activatedRoute.snapshot.paramMap.get("token"),this.resetPasswordForm=this.fBuilder.group({password:[null,n.t.compose([n.t.required])],confirm_password:[null,n.t.compose([n.t.required])]},{validator:s.b.passwordValidation()})}return _createClass(r,[{key:"ngOnInit",value:function(){var r=this;this.authService.checkResetPasswordToken(this.token).subscribe((function(e){e.success||r.router.navigateByUrl("/link-expired")}),(function(e){r.router.navigateByUrl("/link-expired")}))}},{key:"submitForm",value:function(){var r=this;this.resetPasswordForm.valid&&(this.showLoader=!0,this.authService.resetPassword(this.token,{password:this.resetPasswordForm.value.password,confirm_password:this.resetPasswordForm.value.confirm_password}).subscribe((function(e){r.showLoader=!1,e.success?(r.formErrors.success="* ".concat(e.data[0]),s.a.resetForm(r.resetPasswordForm),setTimeout((function(){r.router.navigateByUrl("/login")}),3e3)):r.formErrors.error="* ".concat(e.error)}),(function(e){r.formErrors.error="* ".concat(e.error),r.showLoader=!1})))}}]),r}()).\u0275fac=function(r){return new(r||p)(a.Mb(i.b),a.Mb(c.e),a.Mb(c.a),a.Mb(l.a),a.Mb(n.e))},p.\u0275cmp=a.Gb({type:p,selectors:[["app-reset-password"]],decls:24,vars:9,consts:[[1,"container"],[1,"sign-in-form",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"brand","text-center","d-block","m-b-30","m-t-20"],[1,"auth-logo"],[1,"text-primary"],[1,"sign-in-heading","text-center"],[1,"text-center","m-b-20","text-muted"],["class","alert alert-danger alert-dismissible",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],[1,"form-group"],["for","inputPassword",1,"sr-only"],["type","password","placeholder","New password",1,"form-control","input-lg",3,"formControl"],["for","inputconfirmpassword",1,"sr-only"],["type","password","placeholder","Confirm password",1,"form-control","input-lg",3,"formControl"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","m-top-24",3,"ngClass","disabled"],[1,"alert","alert-danger","alert-dismissible"],["data-dismiss","alert","aria-label","close",1,"close"],[3,"innerHTML"],[1,"alert","alert-success","alert-dismissible"]],template:function(r,e){1&r&&(a.Sb(0,"div",0),a.Sb(1,"form",1),a.ac("ngSubmit",(function(){return e.submitForm()})),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"div",4),a.Sb(5,"div",5),a.Sb(6,"h1",6),a.Cc(7,"WMS"),a.Rb(),a.Rb(),a.Rb(),a.Sb(8,"h1",7),a.Cc(9,"Forgotten Password?"),a.Rb(),a.Sb(10,"p",8),a.Cc(11,"Enter your email address below, and we'll email instructions for setting a new one."),a.Rb(),a.Ac(12,f,4,1,"div",9),a.Ac(13,b,4,1,"div",10),a.Sb(14,"div",11),a.Sb(15,"label",12),a.Cc(16,"New Password"),a.Rb(),a.Nb(17,"input",13),a.Rb(),a.Sb(18,"div",11),a.Sb(19,"label",14),a.Cc(20,"Password"),a.Rb(),a.Nb(21,"input",15),a.Rb(),a.Sb(22,"button",16),a.Cc(23," Reset Password "),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&r&&(a.zb(1),a.jc("formGroup",e.resetPasswordForm),a.zb(11),a.jc("ngIf",e.formErrors.error),a.zb(1),a.jc("ngIf",e.formErrors.success),a.zb(4),a.jc("formControl",e.resetPasswordForm.controls.password),a.zb(4),a.jc("formControl",e.resetPasswordForm.controls.confirm_password),a.zb(1),a.jc("ngClass",a.nc(7,m,e.showLoader))("disabled",e.showLoader))},directives:[n.v,n.p,u.a,n.j,o.l,n.c,n.o,n.g,d.a,o.j],encapsulation:2}),p),h=t("Vr6k");t.d(e,"ResetPasswordModule",(function(){return g}));var v,y=[{path:"",component:w,data:{title:"reset_password"}}],g=((v=function r(){_classCallCheck(this,r)}).\u0275mod=a.Kb({type:v}),v.\u0275inj=a.Jb({factory:function(r){return new(r||v)},providers:[l.a],imports:[[o.b,n.l,n.s,h.a,c.i.forChild(y)]]}),v)},xgIS:function(r,e,t){"use strict";t.d(e,"a",(function(){return i}));var o=t("HDdC"),n=t("DH7j"),s=t("n6bG"),a=t("lJxs");function i(r,e,t,c){return Object(s.a)(t)&&(c=t,t=void 0),c?i(r,e,t).pipe(Object(a.a)((function(r){return Object(n.a)(r)?c.apply(void 0,_toConsumableArray(r)):c(r)}))):new o.a((function(o){!function r(e,t,o,n,s){var a;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(e)){var i=e;e.addEventListener(t,o,s),a=function(){return i.removeEventListener(t,o,s)}}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(e)){var c=e;e.on(t,o),a=function(){return c.off(t,o)}}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(e)){var l=e;e.addListener(t,o),a=function(){return l.removeListener(t,o)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,d=e.length;u<d;u++)r(e[u],t,o,n,s)}n.add(a)}(r,e,(function(r){o.next(arguments.length>1?Array.prototype.slice.call(arguments):r)}),o,t)}))}}}]);