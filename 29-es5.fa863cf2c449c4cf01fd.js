function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{x2YT:function(t,e,r){"use strict";r.r(e);var o=r("ofXK"),i=r("tyNb"),n=r("Jvtu"),a=r("3Pt+"),b=r("Vr6k"),c=r("PCNd"),d=r("zzOR"),s=r("fXoL"),l=r("ICGj"),u=r("AwSQ"),f=r("HOh6"),p=r("UaFz");function m(t,e){if(1&t&&(s.Sb(0,"tr",33),s.Sb(1,"td"),s.Sb(2,"div",34),s.Cc(3),s.Rb(),s.Rb(),s.Sb(4,"td"),s.Nb(5,"input",35),s.Rb(),s.Sb(6,"td"),s.Nb(7,"input",36),s.Rb(),s.Sb(8,"td",23),s.Nb(9,"input",37),s.Rb(),s.Rb()),2&t){var r=e.index;s.jc("formGroupName",r),s.zb(3),s.Dc(r+1)}}var v,h=((v=function(){function t(e,r,o,i,n,b){_classCallCheck(this,t),this.activatedRoute=e,this.pickListService=r,this.location=o,this.fb=i,this.router=n,this.dataService=b,this.PageTitle="Genrate PickList ",this.exampleOptions={defaultDate:new Date,dateFormat:d.a,noCalendar:!0},this.orderDetails={},this.productList=[],this.date_format="M/d/yy",this.addForm=this.fb.group({picked_by:[null,a.t.compose([a.t.required])],notes:[null],unload_detail:this.fb.array([])}),this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dataService.currentCompany.subscribe((function(e){e&&(t.timezone=e.timezone.label,t.time_format=e.time_format.label,t.date_format=e.date_format.label,t.currentCompany=e)})),this.getObject()}},{key:"back",value:function(){this.location.back()}},{key:"getObject",value:function(){var t=this;this.pickListService.getPickListReportsDetails(this.viewId).subscribe((function(e){e.success?(t.orderDetails=e.data.order_detail,t.productList=e.data.product,t.setData()):(t.orderDetails={},t.productList=[])}),(function(e){t.orderDetails={},t.productList=[]}))}},{key:"setData",value:function(){var t=this;if(this.addForm.patchValue({notes:this.orderDetails.notes,picked_by:this.orderDetails.picked_by}),this.productList.length>0){for(var e=this.addForm.get("unload_detail"),r=0;r<=e.length+1;r++)e.removeAt(r);this.productList.forEach((function(r,o){e.push(t.fb.group({pick_list_id:r.pick_list_id,sku_no:r.sku_no,product_name:r.product_name,product_qty:r.product_qty}))}))}}},{key:"submitForm",value:function(t){var e=this;if(t.valid){this.showLoader=!0;var r=new FormData;r.append("picked_by",t.value.picked_by),this.pickListService.getPickListSubmitReports(this.viewId,r).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1}))}}},{key:"addNewRow",value:function(){this.addForm.get("unload_detail").push(this.initRows())}},{key:"initRows",value:function(){return new a.i({pick_list_id:new a.f(""),sku_no:new a.f(""),product_name:new a.f(""),product_qty:new a.f(0,a.t.compose([a.t.required]))})}}]),t}()).\u0275fac=function(t){return new(t||v)(s.Mb(i.a),s.Mb(l.a),s.Mb(o.h),s.Mb(a.e),s.Mb(i.e),s.Mb(u.a))},v.\u0275cmp=s.Gb({type:v,selectors:[["app-generate-pick-list"]],decls:75,vars:12,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],[1,"card-body"],["role","form",1,"form-horizontal","pb-4",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-7","pl-3"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","disabled","",1,"form-control",3,"value"],[1,"date-picker"],["disabled","",3,"setDate","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["rows","2",1,"form-control",3,"formControl"],[1,"row","mt-4"],[1,"table-responsive-md","mt-3"],[1,"table"],[1,"text-center"],["formArrayName","unload_detail"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-4","border","border-left-0","border-right-0","pt-4","pb-2"],[1,"col-md-6"],[1,"row","mt-2"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],[3,"formGroupName"],[1,"p-1"],["type","text","formControlName","sku_no","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_name","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_qty","disabled","",1,"input_formarray","form-control"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"h2",4),s.Cc(5),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"div",6),s.Sb(8,"form",7),s.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),s.Sb(9,"div",8),s.Sb(10,"div",9),s.Sb(11,"div",2),s.Sb(12,"div",10),s.Sb(13,"div",11),s.Sb(14,"label",12),s.Cc(15,"PO Date "),s.Sb(16,"em"),s.Cc(17,"*"),s.Rb(),s.Rb(),s.Sb(18,"div",13),s.Nb(19,"input",14),s.dc(20,"date"),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"div",10),s.Sb(22,"div",11),s.Sb(23,"label",12),s.Cc(24,"Date of Receipt "),s.Sb(25,"em"),s.Cc(26,"*"),s.Rb(),s.Rb(),s.Sb(27,"div",15),s.Nb(28,"ng2-flatpickr",16),s.Sb(29,"span",17),s.Nb(30,"span",18),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(31,"div",2),s.Sb(32,"div",3),s.Sb(33,"div",11),s.Sb(34,"label",12),s.Cc(35,"Notes"),s.Rb(),s.Nb(36,"textarea",19),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(37,"div",20),s.Sb(38,"div",3),s.Sb(39,"h5"),s.Cc(40,"Items"),s.Rb(),s.Sb(41,"div",21),s.Sb(42,"table",22),s.Sb(43,"thead"),s.Sb(44,"tr"),s.Sb(45,"th"),s.Cc(46,"No."),s.Rb(),s.Sb(47,"th"),s.Cc(48,"SKU no"),s.Rb(),s.Sb(49,"th"),s.Cc(50,"Product"),s.Rb(),s.Sb(51,"th",23),s.Cc(52,"Product Qty"),s.Rb(),s.Rb(),s.Rb(),s.Sb(53,"tbody",24),s.Ac(54,m,10,2,"tr",25),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(55,"div",26),s.Sb(56,"div",27),s.Sb(57,"h5"),s.Cc(58,"Picked By"),s.Rb(),s.Sb(59,"div",28),s.Sb(60,"div",27),s.Sb(61,"div",11),s.Sb(62,"label",12),s.Cc(63,"Picked by. "),s.Sb(64,"em"),s.Cc(65,"*"),s.Rb(),s.Rb(),s.Sb(66,"div",13),s.Nb(67,"input",29),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(68,"div",8),s.Sb(69,"div",3),s.Sb(70,"div",30),s.Sb(71,"button",31),s.ac("click",(function(){return e.back()})),s.Cc(72,"Cancel"),s.Rb(),s.Sb(73,"button",32),s.Cc(74,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.zb(5),s.Dc(e.PageTitle),s.zb(3),s.jc("formGroup",e.addForm),s.zb(11),s.jc("value",s.gc(20,8,null==e.orderDetails?null:e.orderDetails.sales_order_date,e.date_format,e.timezone)),s.zb(9),s.jc("setDate",null==e.orderDetails?null:e.orderDetails.receipt_date)("config",e.exampleOptions),s.zb(8),s.jc("formControl",e.addForm.controls.notes),s.zb(18),s.jc("ngForOf",e.addForm.controls.unload_detail.controls),s.zb(13),s.jc("formControl",e.addForm.controls.picked_by))},directives:[a.v,a.p,f.a,a.j,n.a,a.c,a.o,p.a,a.g,a.d,o.k,a.k,a.h],pipes:[o.d],styles:[".input_formarray[_ngcontent-%COMP%] {\n    width: 80%;\n  }"]}),v);r.d(e,"GeneratePickListModule",(function(){return R}));var S,y=[{path:":id",component:h}],R=((S=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:S}),S.\u0275inj=s.Jb({factory:function(t){return new(t||S)},imports:[[o.b,i.i.forChild(y),n.b,a.l,b.a,c.a,a.s]]}),S)},xgIS:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var o=r("HDdC"),i=r("DH7j"),n=r("n6bG"),a=r("lJxs");function b(t,e,r,c){return Object(n.a)(r)&&(c=r,r=void 0),c?b(t,e,r).pipe(Object(a.a)((function(t){return Object(i.a)(t)?c.apply(void 0,_toConsumableArray(t)):c(t)}))):new o.a((function(o){!function t(e,r,o,i,n){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var b=e;e.addEventListener(r,o,n),a=function(){return b.removeEventListener(r,o,n)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(r,o),a=function(){return c.off(r,o)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var d=e;e.addListener(r,o),a=function(){return d.removeListener(r,o)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var s=0,l=e.length;s<l;s++)t(e[s],r,o,i,n)}i.add(a)}(t,e,(function(t){o.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),o,r)}))}}}]);