function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{lu3c:function(e,r,t){"use strict";t.r(r);var o=t("ofXK"),n=t("3Pt+"),i=t("Lw2Y"),a=t("fXoL"),s=t("LWby"),c=t("tyNb"),l=t("6uu6"),u=t("8cFx"),b=t("AwSQ"),f=t("HOh6"),d=t("UaFz");function m(e,r){if(1&e&&(a.Sb(0,"div",8),a.Sb(1,"a",9),a.Cc(2,"\xd7"),a.Rb(),a.Nb(3,"span",10),a.Rb()),2&e){var t=a.cc();a.zb(3),a.jc("innerHTML",t.formErrors.apierror,a.vc)}}var p=function(e){return{"qt-loader qt-loader-mini qt-loader-left":e}};function h(e,r){if(1&e){var t=a.Tb();a.Sb(0,"form",11),a.ac("ngSubmit",(function(){return a.uc(t),a.cc().submitForm()})),a.Sb(1,"div",12),a.Sb(2,"label",13),a.Cc(3,"Email Address"),a.Rb(),a.Nb(4,"input",14),a.Rb(),a.Sb(5,"div",15),a.Sb(6,"label",13),a.Cc(7,"Password"),a.Rb(),a.Nb(8,"input",16),a.Rb(),a.Sb(9,"div",17),a.Sb(10,"div",18),a.Sb(11,"div",19),a.Sb(12,"div",20),a.Nb(13,"input",21),a.Nb(14,"span",22),a.Rb(),a.Sb(15,"label",23),a.Cc(16," Remember Me"),a.Rb(),a.Rb(),a.Sb(17,"a",24),a.Sb(18,"small"),a.Cc(19,"Forgot password?"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(20,"button",25),a.Cc(21," Log In "),a.Rb(),a.Sb(22,"p",26),a.Cc(23,"Don't have an account yet?"),a.Sb(24,"a",27),a.Cc(25," Sign Up"),a.Rb(),a.Rb(),a.Rb()}if(2&e){var o=a.cc();a.jc("formGroup",o.loginForm),a.zb(4),a.jc("formControl",o.loginForm.controls.email),a.zb(4),a.jc("formControl",o.loginForm.controls.password),a.zb(12),a.jc("ngClass",a.nc(5,p,o.showLoader))("disabled",o.showLoader)}}var g,v=((g=function(){function e(r,t,o,a,s,c,l){_classCallCheck(this,e),this.config=r,this.router=t,this.activatedRoute=o,this.authService=a,this.commonService=s,this.fBuilder=c,this.dataService=l,this.formErrors={apierror:null},this.showLoader=!1,this.loginType="email",this.config.config={showHeader:!1},this.loginForm=this.fBuilder.group({email:[null,n.t.compose([n.t.required,i.e])],password:[null,n.t.compose([n.t.required])]})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"changeLoginType",value:function(e){this.loginType=e}},{key:"getLoginType",value:function(e){this.loginType=e}},{key:"submitForm",value:function(){var e=this;if(this.loginForm.valid){this.showLoader=!0;var r={email:this.loginForm.value.email.toLowerCase(),password:this.loginForm.value.password,remember_me:this.loginForm.value.remember_me};this.authService.login(r).subscribe((function(r){if(e.showLoader=!1,r.success){i.a.resetForm(e.loginForm);var t=r.data.User;e.dataService.setAuth(r.data),t.is_superuser&&e.dataService.purgeCompany(),e.config.config={showHeader:!0},e.activatedRoute.snapshot.queryParamMap.get("next");var o=e.activatedRoute.snapshot.queryParamMap.get("next")?e.activatedRoute.snapshot.queryParamMap.get("next"):"/dashboard";e.router.navigateByUrl(o)}else e.formErrors.apierror="* ".concat(r.error)}),(function(r){e.formErrors.apierror="* Server Error",e.showLoader=!1}))}}}]),e}()).\u0275fac=function(e){return new(e||g)(a.Mb(s.b),a.Mb(c.e),a.Mb(c.a),a.Mb(l.a),a.Mb(u.a),a.Mb(n.e),a.Mb(b.a))},g.\u0275cmp=a.Gb({type:g,selectors:[["app-login"]],decls:12,vars:2,consts:[[1,"container"],[1,"auth-box","private-card"],[1,"auth-logo"],[1,"text-primary"],[1,"auth-heading"],[1,"heading"],["class","alert alert-danger alert-dismissible",4,"ngIf"],["class","form-signin",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","alert-dismissible"],["data-dismiss","alert","aria-label","close",1,"close"],[3,"innerHTML"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"form-group","field-loginform-email","required"],[1,"control-label"],["type","text","placeholder","Email ID",1,"form-control","input-lg",3,"formControl"],[1,"form-group","field-loginform-password","required"],["type","password","placeholder","Password",1,"form-control","input-lg",3,"formControl"],[1,""],[1,"form-group"],[1,"form-check","form-check-inline","mr-0"],[1,"checkbox-container"],["type","checkbox","value","all",1,"form-check-input"],[1,"checkmark"],[1,"checkbox-set","mb-0","ml-1"],["routerLink","/forgot-password",1,"pull-right"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","mt-4",3,"ngClass","disabled"],[1,"text-muted","mt-4","m-bottom-0","text-center"],["routerLink","/"]],template:function(e,r){1&e&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.Sb(3,"h1",3),a.Cc(4,"WMS"),a.Rb(),a.Rb(),a.Sb(5,"div",4),a.Sb(6,"h1",5),a.Cc(7,"Let's Get Started"),a.Rb(),a.Sb(8,"p"),a.Cc(9,"Hi! Please enter your login information below to send submissions as contacts."),a.Rb(),a.Rb(),a.Ac(10,m,4,1,"div",6),a.Ac(11,h,26,7,"form",7),a.Rb(),a.Rb()),2&e&&(a.zb(10),a.jc("ngIf",r.formErrors.apierror),a.zb(1),a.jc("ngIf","email"==r.loginType))},directives:[o.l,n.v,n.p,f.a,n.j,n.c,n.o,n.g,d.a,c.h,o.j],encapsulation:2}),g),y=t("Vr6k"),S=t("PCNd");t.d(r,"LoginModule",(function(){return R}));var w,C=[{path:"",component:v,data:{title:"login"}}],R=((w=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:w}),w.\u0275inj=a.Jb({factory:function(e){return new(e||w)},providers:[l.a],imports:[[o.b,n.l,n.s,y.a,S.a,c.i.forChild(C)]]}),w)},xgIS:function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var o=t("HDdC"),n=t("DH7j"),i=t("n6bG"),a=t("lJxs");function s(e,r,t,c){return Object(i.a)(t)&&(c=t,t=void 0),c?s(e,r,t).pipe(Object(a.a)((function(e){return Object(n.a)(e)?c.apply(void 0,_toConsumableArray(e)):c(e)}))):new o.a((function(o){!function e(r,t,o,n,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(r)){var s=r;r.addEventListener(t,o,i),a=function(){return s.removeEventListener(t,o,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(r)){var c=r;r.on(t,o),a=function(){return c.off(t,o)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(r)){var l=r;r.addListener(t,o),a=function(){return l.removeListener(t,o)}}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(var u=0,b=r.length;u<b;u++)e(r[u],t,o,n,i)}n.add(a)}(e,r,(function(e){o.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),o,t)}))}}}]);