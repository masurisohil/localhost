function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0ogY":function(t,e,r){"use strict";r.r(e);var i=r("ofXK"),o=r("tyNb"),a=r("3Pt+"),d=r("fXoL"),n=r("AwSQ"),s=r("Sodd"),c=r("HOh6"),l=r("ZOsW"),u=r("UaFz"),b=r("/SVk");function h(t,e){1&t&&d.Ob(0)}function p(t,e){if(1&t){var r=d.Tb();d.Sb(0,"ng-select",20),d.ac("change",(function(){return d.uc(r),d.cc().getMasterData(!0)})),d.Rb()}if(2&t){var i=d.cc();d.jc("formControl",i.addForm.controls.order_id)("items",i.orderListArray)}}function f(t,e){if(1&t&&(d.Sb(0,"select",21),d.Sb(1,"option",22),d.Cc(2),d.Rb(),d.Rb()),2&t){var r=d.cc();d.zb(2),d.Ec("",null==r.OrderDetails?null:r.OrderDetails.po_no," ")}}var m,g=((m=function(){function t(e,r,i,o,d,n){if(_classCallCheck(this,t),this.router=e,this.activatedRoute=r,this.fb=i,this.location=o,this.dataService=d,this.productRegistrationService=n,this.PageTitle="Product Registration",this.addNewRadio=!1,this.loadingState=!1,this.productListArray=[],this.orderListArray=[],this.showLoader=!1,this.formErrors={apierror:null},this.isEditing=!1,this.editId=null,this.OrderId_show=!0,this.addForm=this.fb.group({order_id:[null,a.t.compose([a.t.required])],tag_id:[null,a.t.compose([a.t.required])],serial_no:[null,a.t.compose([a.t.required])],barcode:[null,a.t.compose([a.t.required])],qty:[null,a.t.compose([a.t.required])],product_id:[null,a.t.compose([a.t.required])],sku_no:[null],unload_id:[null],unload_detail_id:[null]}),this.activatedRoute.snapshot.paramMap.get("id")){var s=this.activatedRoute.snapshot.paramMap.get("id");o.path()=="/inbound/registeration/add/".concat(s)?(this.OrderId=s,this.addForm.patchValue({order_id:this.OrderId}),this.OrderId_show=!1,this.getOrderDetails()):(this.editId=s,this.isEditing=!0)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.isEditing?this.getEditObject():this.getMasterData()}},{key:"getMasterData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.addForm.patchValue({product_id:""});var r={};this.addForm.value.order_id&&(r.order_id=this.addForm.value.order_id),this.isEditing&&(r.is_editing=this.isEditing),this.productRegistrationService.getMasterData(r).subscribe((function(e){e.success&&(t.addForm.value.order_id?t.isEditing?(t.orderListArray=e.data.order,t.productListArray=e.data.product):t.productListArray=e.data.product:t.orderListArray=e.data.order)}))}},{key:"getEditObject",value:function(){var t=this;this.productRegistrationService.getProductRegistrationById(this.editId).subscribe((function(e){e.success&&(t.addForm.patchValue(e.data),t.getMasterData())}))}},{key:"setProductDetail",value:function(t){t&&this.addForm.patchValue({sku_no:t.sku_no,unload_id:t.unload_id,unload_detail_id:t.unload_detail_id})}},{key:"submitForm",value:function(t){var e=this;t.valid&&(this.showLoader=!0,this.isEditing?this.productRegistrationService.editProductRegistration(this.editId,t.value).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1})):this.productRegistrationService.addProductRegistration(t.value).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1})))}},{key:"back",value:function(){this.location.back()}},{key:"getOrderDetails",value:function(){var t=this;this.subscription=this.dataService.OrderDetails.subscribe((function(e){e&&(t.OrderDetails=e)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||m)(d.Mb(o.e),d.Mb(o.a),d.Mb(a.e),d.Mb(i.h),d.Mb(n.a),d.Mb(s.a))},m.\u0275cmp=d.Gb({type:m,selectors:[["app-add-registeration"]],decls:53,vars:12,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate",""],["elseTemplate",""],["bindLabel","label","bindValue","value","placeholder","Select Product",3,"formControl","items","change"],["type","text","placeholder","",1,"form-control",3,"formControl"],["number","","type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],["bindLabel","label","bindValue","value","placeholder","Select Order",3,"formControl","items","change"],["disabled","",1,"form-control"],["default","","selected","true","disabled","","hidden","","value","OrderDetails?.po_no"]],template:function(t,e){if(1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"div",3),d.Sb(4,"h2",4),d.Cc(5),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(6,"div",5),d.Sb(7,"form",6),d.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),d.Sb(8,"div",7),d.Sb(9,"div"),d.Sb(10,"div",8),d.Sb(11,"label",9),d.Cc(12,"Order Id"),d.Rb(),d.Sb(13,"div",10),d.Ac(14,h,1,0,"ng-container",11),d.Ac(15,p,1,2,"ng-template",null,12,d.Bc),d.Ac(17,f,3,1,"ng-template",null,13,d.Bc),d.Rb(),d.Rb(),d.Sb(19,"div",8),d.Sb(20,"label",9),d.Cc(21,"Product "),d.Sb(22,"em"),d.Cc(23,"*"),d.Rb(),d.Rb(),d.Sb(24,"div",10),d.Sb(25,"ng-select",14),d.ac("change",(function(t){return e.setProductDetail(t)})),d.Rb(),d.Rb(),d.Rb(),d.Sb(26,"div",8),d.Sb(27,"label",9),d.Cc(28,"Serial Number"),d.Rb(),d.Sb(29,"div",10),d.Nb(30,"input",15),d.Rb(),d.Rb(),d.Sb(31,"div",8),d.Sb(32,"label",9),d.Cc(33,"Tag ID "),d.Sb(34,"em"),d.Cc(35,"*"),d.Rb(),d.Rb(),d.Sb(36,"div",10),d.Nb(37,"input",15),d.Rb(),d.Rb(),d.Sb(38,"div",8),d.Sb(39,"label",9),d.Cc(40,"Qunatity"),d.Rb(),d.Sb(41,"div",10),d.Nb(42,"input",16),d.Rb(),d.Rb(),d.Sb(43,"div",8),d.Sb(44,"label",9),d.Cc(45,"Bar Code"),d.Rb(),d.Sb(46,"div",10),d.Nb(47,"input",15),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(48,"div",17),d.Sb(49,"button",18),d.ac("click",(function(){return e.back()})),d.Cc(50,"Cancel"),d.Rb(),d.Sb(51,"button",19),d.Cc(52,"Submit"),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){var r=d.sc(16),i=d.sc(18);d.zb(5),d.Fc("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),d.zb(2),d.jc("formGroup",e.addForm),d.zb(7),d.jc("ngIf",e.OrderId_show)("ngIfThen",r)("ngIfElse",i),d.zb(11),d.jc("formControl",e.addForm.controls.product_id)("items",e.productListArray),d.zb(5),d.jc("formControl",e.addForm.controls.serial_no),d.zb(7),d.jc("formControl",e.addForm.controls.tag_id),d.zb(5),d.jc("formControl",e.addForm.controls.qty),d.zb(5),d.jc("formControl",e.addForm.controls.barcode)}},directives:[a.v,a.p,c.a,a.j,i.l,l.a,a.o,a.g,u.a,a.c,b.a,a.r,a.u],encapsulation:2}),m),v=r("Vr6k"),S=r("PCNd");r.d(e,"AddRegisterationModule",(function(){return y}));var R,_=[{path:"",component:g},{path:":id",component:g}],y=((R=function t(){_classCallCheck(this,t)}).\u0275mod=d.Kb({type:R}),R.\u0275inj=d.Jb({factory:function(t){return new(t||R)},providers:[s.a],imports:[[i.b,a.l,a.s,v.a,l.b,S.a,o.i.forChild(_)]]}),R)}}]);