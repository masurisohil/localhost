function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{CHsW:function(t,e,a){"use strict";a.r(e);var r,o=a("FasR"),i=a("fXoL"),n=a("c8VH"),c=a("AytR"),d=a("tk/3"),l=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.API_URL=c.a.APIEndpoint}return _createClass(t,[{key:"getProductList",value:function(t){return this.http.get("".concat(this.API_URL,"/product"),{params:t})}},{key:"addProduct",value:function(t){return this.http.post("".concat(this.API_URL,"/product"),t)}},{key:"editProduct",value:function(t,e){return this.http.put("".concat(this.API_URL,"/product/").concat(t),e)}},{key:"getProductById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/product/").concat(t),{params:e})}},{key:"getProductMasterData",value:function(){return this.http.get("".concat(this.API_URL,"/product/master-data"))}}]),t}()).\u0275fac=function(t){return new(t||r)(i.Wb(d.b))},r.\u0275prov=i.Ib({token:r,factory:r.\u0275fac}),r),u=a("jTkZ"),b=a("Eb8l"),s=a("LPFR"),p=a("ofXK"),h=a("Pbud");function m(t,e){if(1&t){var a=i.Tb();i.Sb(0,"pagination",11),i.ac("onPageChange",(function(t){return i.uc(a),i.cc().getPage(t)})),i.Rb()}if(2&t){var r=i.cc();i.jc("paginationList",r.pagination)("currentPage",r.currentPage)}}var v,g=((v=function(){function t(e,a){_classCallCheck(this,t),this.paginationService=e,this.productService=a,this.PageTitle="Manage Product",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.headerData=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadform=!1,this.setHeaderData(),this.getObjects()}},{key:"setHeaderData",value:function(){this.headerData.push(new o.h({label:"Product Name",key:"product_name"}),new o.h({label:"Product Code",key:"product_code"}),new o.h({label:"Sku No",key:"sku_no"}),new o.h({label:"Category",key:"category.label"}),new o.h({label:"Brand\t",key:"brand.label"}));var t=new o.a({edit:{path:"/manage/product/edit/",id:"product_id"},delete:{path:"product/",id:"product_id"}});this.headerData.push(t)}},{key:"getObjects",value:function(){var t=this,e={page:this.currentPage};this.searchText&&(e.search=this.searchText),this.productService.getProductList(e).subscribe((function(e){t.loadingState=!1,e.success?(t.objectArray=e.data.list,t.showPagination=!0,t.pagination=t.paginationService.getPager(e.data.pagination.total_page,t.currentPage)):(t.objectArray=[],t.pagination=null)}),(function(e){t.loadingState=!1,t.objectArray=[],t.pagination=null}))}},{key:"getPage",value:function(t){this.currentPage=t,this.getObjects()}},{key:"searchObject",value:function(t){this.searchText=t,this.currentPage=1,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}}]),t}()).\u0275fac=function(t){return new(t||v)(i.Mb(n.a),i.Mb(l))},v.\u0275cmp=i.Gb({type:v,selectors:[["app-product-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"h2",3),i.Cc(4),i.Rb(),i.Sb(5,"div",4),i.Sb(6,"search-box",5),i.ac("text",(function(t){return e.searchObject(t)})),i.Rb(),i.Rb(),i.Sb(7,"div",4),i.Nb(8,"app-btn-add",6),i.Rb(),i.Rb(),i.Rb(),i.Sb(9,"div",7),i.Sb(10,"div",8),i.Sb(11,"app-table-list",9),i.ac("reloadEvent",(function(){return e.onReloadEvent()})),i.Rb(),i.Ac(12,m,1,2,"pagination",10),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.zb(4),i.Dc(e.PageTitle),i.zb(2),i.jc("placeholder","Search Here..."),i.zb(2),i.jc("btnName","Add Product")("editData","/manage/product/add"),i.zb(3),i.jc("headerData",e.headerData)("rawData",e.objectArray),i.zb(1),i.jc("ngIf",e.showPagination))},directives:[u.a,b.a,s.a,p.l,h.a],encapsulation:2}),v),f=a("3Pt+"),S=a("tyNb"),R=a("HOh6"),y=a("UaFz"),_=a("ZOsW"),C=a("/SVk");function P(t,e){if(1&t&&i.Nb(0,"span",42),2&t){var a=i.cc();i.jc("innerHTML",a.formErrors.product_code,i.vc)}}var w,k=function(t){return{"has-error":t}},j=((w=function(){function t(e,a,r,o){_classCallCheck(this,t),this.router=e,this.activatedRoute=a,this.fb=r,this.productService=o,this.PageTitle="Product",this.editImageUrl=null,this.addNewRadio=!1,this.categoryListArray=[],this.brandListArray=[],this.unitListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={product_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({product_name:[null,f.t.compose([f.t.required])],product_code:[null,f.t.compose([f.t.required])],category_id:[null,f.t.compose([f.t.required])],description:[null],barcode:[null,f.t.compose([f.t.required])],sku_no:[null,f.t.compose([f.t.required])],brand_id:[null,f.t.compose([f.t.required])],height:[null,f.t.compose([f.t.required])],width:[null,f.t.compose([f.t.required])],depth:[null,f.t.compose([f.t.required])],unit:["cm",f.t.compose([f.t.required])],product_unit:[null,f.t.compose([f.t.required])],total_volume:[0]})}return _createClass(t,[{key:"ngOnInit",value:function(){this.getMasterData(),this.isEditing&&this.getEditObject()}},{key:"getMasterData",value:function(){var t=this;this.productService.getProductMasterData().subscribe((function(e){e.success&&(t.categoryListArray=e.data.category,t.brandListArray=e.data.brand,t.unitListArray=e.data.unit)}))}},{key:"getEditObject",value:function(){var t=this;this.productService.getProductById(this.editId).subscribe((function(e){e.success?(t.editImageUrl=e.data.image,t.addForm.patchValue({product_name:e.data.product_name,category_id:e.data.category_id,description:e.data.description,product_code:e.data.product_code,brand_id:e.data.brand_id,barcode:e.data.barcode,sku_no:e.data.sku_no,width:e.data.volume.width,height:e.data.volume.height,depth:e.data.volume.depth,unit:e.data.volume.unit,product_unit:e.data.product_unit,total_volume:e.data.volume.total_volume})):t.router.navigateByUrl("/manage/product")}))}},{key:"fileChangeEvent",value:function(t){if(!t.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=t.target.files[0]}},{key:"removeFile",value:function(){this.selectedFile=null}},{key:"submitForm",value:function(t){var e=this;if(t.valid){this.showLoader=!0;var a=new FormData;a.append("product_name",t.value.product_name),a.append("product_unit",t.value.product_unit),a.append("product_code",t.value.product_code),a.append("category_id",t.value.category_id?t.value.category_id:""),a.append("brand_id",t.value.brand_id?t.value.brand_id:""),a.append("description",t.value.description),a.append("barcode",t.value.barcode),a.append("sku_no",t.value.sku_no),a.append("volume",JSON.stringify({width:t.value.width,unit:t.value.unit,height:t.value.height,depth:t.value.depth,total_volume:t.value.total_volume})),this.selectedFile&&a.append("file",this.selectedFile),this.isEditing?this.productService.editProduct(this.editId,a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/product"):t.error.map((function(a){a.hasOwnProperty("product_code")?e.formErrors.product_code=a.product_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1})):this.productService.addProduct(a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/product"):t.error.map((function(a){a.hasOwnProperty("product_code")?e.formErrors.product_code=a.product_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1}))}}},{key:"volumeCal",value:function(){var t=parseInt(this.addForm.value.height?this.addForm.value.height:1)*parseInt(this.addForm.value.width?this.addForm.value.width:1)*parseInt(this.addForm.value.depth?this.addForm.value.depth:1);this.addForm.patchValue({total_volume:t||0})}}]),t}()).\u0275fac=function(t){return new(t||w)(i.Mb(S.e),i.Mb(S.a),i.Mb(f.e),i.Mb(l))},w.\u0275cmp=i.Gb({type:w,selectors:[["app-add-product"]],decls:106,vars:23,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"col-4"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-dark","btn-sm","btn-file","mt-3"],["id","myimg","accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"col-8"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Category",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Brand",3,"formControl","items"],["number","","type","text","placeholder","Height",1,"form-control",3,"formControl","change"],["aria-hidden","true",1,"la","la-times","mt-2"],["number","","type","text","placeholder","Width",1,"form-control",3,"formControl","change"],["number","","type","text","placeholder","Depth",1,"form-control",3,"formControl","change"],[1,"la","la-equals","mt-2"],["number","","type","text","placeholder","","disabled","",1,"form-control",3,"formControl"],["bindLabel","label","bindValue","value","placeholder","Select Unit",3,"formControl","items"],["rows","2",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/manage/product",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2"],[1,"help-block",3,"innerHTML"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"div",3),i.Sb(4,"h2",4),i.Cc(5),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(6,"div",5),i.Sb(7,"form",6),i.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),i.Sb(8,"div",7),i.Sb(9,"div"),i.Sb(10,"div",2),i.Sb(11,"div",8),i.Sb(12,"div",9),i.Sb(13,"div",10),i.Sb(14,"div",11),i.Sb(15,"div",12),i.Nb(16,"img",13),i.Rb(),i.Nb(17,"div",9),i.Sb(18,"button",14),i.Cc(19," Browse Image "),i.Rb(),i.Sb(20,"input",15),i.ac("change",(function(t){return e.fileChangeEvent(t)})),i.Rb(),i.Nb(21,"div",16),i.Rb(),i.Sb(22,"div",17),i.Sb(23,"a",18),i.ac("click",(function(){return e.removeFile()})),i.Cc(24,"Remove"),i.Rb(),i.Rb(),i.Sb(25,"div",19),i.Sb(26,"p",20),i.Cc(27,"*Recommended Size:"),i.Nb(28,"br"),i.Cc(29,"Minimum 250 * 250"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(30,"div",21),i.Sb(31,"div",2),i.Sb(32,"div",22),i.Sb(33,"div",23),i.Sb(34,"label",24),i.Cc(35,"Product Name "),i.Sb(36,"em"),i.Cc(37,"*"),i.Rb(),i.Rb(),i.Sb(38,"div",25),i.Nb(39,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(40,"div",22),i.Sb(41,"div",23),i.Sb(42,"label",24),i.Cc(43,"Product Code "),i.Sb(44,"em"),i.Cc(45,"*"),i.Rb(),i.Rb(),i.Sb(46,"div",27),i.Nb(47,"input",26),i.Ac(48,P,1,1,"span",28),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(49,"div",2),i.Sb(50,"div",22),i.Sb(51,"div",23),i.Sb(52,"label",24),i.Cc(53,"Category "),i.Sb(54,"em"),i.Cc(55,"*"),i.Rb(),i.Rb(),i.Nb(56,"ng-select",29),i.Rb(),i.Rb(),i.Sb(57,"div",22),i.Sb(58,"div",23),i.Sb(59,"label",24),i.Cc(60,"Brand "),i.Sb(61,"em"),i.Cc(62,"*"),i.Rb(),i.Rb(),i.Nb(63,"ng-select",30),i.Rb(),i.Rb(),i.Rb(),i.Sb(64,"div",2),i.Sb(65,"div",22),i.Sb(66,"div",23),i.Sb(67,"label",24),i.Cc(68,"Barcode"),i.Rb(),i.Sb(69,"div",25),i.Nb(70,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(71,"div",22),i.Sb(72,"div",23),i.Sb(73,"label",24),i.Cc(74,"SKU No "),i.Sb(75,"em"),i.Cc(76,"*"),i.Rb(),i.Rb(),i.Sb(77,"div",25),i.Nb(78,"input",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(79,"div",23),i.Sb(80,"label",24),i.Cc(81,"Volume(cm)"),i.Rb(),i.Sb(82,"div",3),i.Sb(83,"div",2),i.Sb(84,"div",3),i.Sb(85,"input",31),i.ac("change",(function(){return e.volumeCal()})),i.Rb(),i.Rb(),i.Nb(86,"i",32),i.Sb(87,"div",3),i.Sb(88,"input",33),i.ac("change",(function(){return e.volumeCal()})),i.Rb(),i.Rb(),i.Nb(89,"i",32),i.Sb(90,"div",3),i.Sb(91,"input",34),i.ac("change",(function(){return e.volumeCal()})),i.Rb(),i.Rb(),i.Nb(92,"i",35),i.Sb(93,"div",3),i.Nb(94,"input",36),i.Rb(),i.Sb(95,"div",3),i.Nb(96,"ng-select",37),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(97,"div",23),i.Sb(98,"label",24),i.Cc(99,"Description"),i.Rb(),i.Nb(100,"textarea",38),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(101,"div",39),i.Sb(102,"button",40),i.Cc(103,"Cancel"),i.Rb(),i.Sb(104,"button",41),i.Cc(105,"Submit"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.zb(5),i.Fc("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),i.zb(2),i.jc("formGroup",e.addForm),i.zb(9),i.jc("src",e.editImageUrl?e.editImageUrl:"assets/no_image.png",i.wc),i.zb(23),i.jc("formControl",e.addForm.controls.product_name),i.zb(7),i.jc("ngClass",i.nc(21,k,e.formErrors.product_code)),i.zb(1),i.jc("formControl",e.addForm.controls.product_code),i.zb(1),i.jc("ngIf",e.formErrors.product_code),i.zb(8),i.jc("formControl",e.addForm.controls.category_id)("items",e.categoryListArray),i.zb(7),i.jc("formControl",e.addForm.controls.brand_id)("items",e.brandListArray),i.zb(7),i.jc("formControl",e.addForm.controls.barcode),i.zb(8),i.jc("formControl",e.addForm.controls.sku_no),i.zb(7),i.jc("formControl",e.addForm.controls.height),i.zb(3),i.jc("formControl",e.addForm.controls.width),i.zb(3),i.jc("formControl",e.addForm.controls.depth),i.zb(3),i.jc("formControl",e.addForm.controls.total_volume),i.zb(2),i.jc("formControl",e.addForm.controls.product_unit)("items",e.unitListArray),i.zb(4),i.jc("formControl",e.addForm.controls.description))},directives:[f.v,f.p,R.a,f.j,f.c,f.o,f.g,y.a,p.j,p.l,_.a,C.a,S.f],encapsulation:2}),w),F=a("g3N6"),L=a("uq2c"),I=a("OTx7"),N=a("PCNd"),x=a("Vr6k"),z=a("KUiO"),A=a("QSzr");a.d(e,"ProductModule",(function(){return O}));var E,D=[{path:"",component:g,data:{title:"product_list"}},{path:"add",component:j,data:{title:"add_product"}},{path:"edit/:id",component:j,data:{title:"edit_product"}}],O=((E=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:E}),E.\u0275inj=i.Jb({factory:function(t){return new(t||E)},providers:[l],imports:[[p.b,S.i.forChild(D),I.a,F.a,L.a,f.l,f.s,x.a,N.a,A.a,z.a,_.b]]}),E)}}]);