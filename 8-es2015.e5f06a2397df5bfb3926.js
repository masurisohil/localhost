(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Sg2+":function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),r=a("tyNb"),o=a("3Pt+"),d=a("Vr6k"),n=a("ZOsW"),s=a("PCNd"),b=a("fXoL"),c=a("AwSQ"),l=a("Fg9w"),u=a("HOh6"),p=a("UaFz"),h=a("/SVk");function m(t,e){1&t&&b.Ob(0)}function y(t,e){if(1&t){const t=b.Tb();b.Sb(0,"ng-select",23),b.ac("change",(function(){return b.tc(t),b.cc().getProductByOrderId()})),b.Rb()}if(2&t){const t=b.cc();b.ic("formControl",t.addForm.controls.order_id)("items",t.orderListArray)}}function _(t,e){if(1&t&&(b.Sb(0,"select",24),b.Sb(1,"option",25),b.Bc(2),b.Rb(),b.Rb()),2&t){const t=b.cc();b.zb(2),b.Dc("",null==t.OrderDetails?null:t.OrderDetails.po_no," ")}}let S=(()=>{class t{constructor(t,e,a,i,r,d){if(this.router=t,this.activatedRoute=e,this.fb=a,this.location=i,this.dataService=r,this.putawayService=d,this.PageTitle="Putaway Transfer Order",this.addNewRadio=!1,this.loadingState=!1,this.binListArray=[],this.skuListArray=[],this.orderListArray=[],this.showLoader=!1,this.formErrors={apierror:null},this.isEditing=!1,this.editId=null,this.OrderId_show=!0,this.addForm=this.fb.group({order_id:[null,o.t.compose([o.t.required])],transfer_order_no:[null,o.t.compose([o.t.required])],case_no:[null,o.t.compose([o.t.required])],sku_no:[null,o.t.compose([o.t.required])],pick_qty:[null,o.t.compose([o.t.required])],bin_id:[null,o.t.compose([o.t.required])],bin_tag_id:[null,o.t.compose([o.t.required])],location:[null],qty:[null],putaway_qty:[null,o.t.compose([o.t.required])]}),this.activatedRoute.snapshot.paramMap.get("id")){let t=this.activatedRoute.snapshot.paramMap.get("id");i.path()==`/inbound/put-away/add/${t}`?(this.OrderId=t,this.addForm.patchValue({order_id:this.OrderId}),this.OrderId_show=!1,this.getOrderDetails(),this.getProductByOrderId()):(this.editId=t,this.isEditing=!0)}}ngOnInit(){this.isEditing?this.getEditObject():this.getMasterData()}getMasterData(){this.putawayService.getMasterData().subscribe(t=>{t.success&&(this.orderListArray=t.data.order,this.binListArray=t.data.bin)})}getProductByOrderId(){event&&this.addForm.patchValue({sku_no:""}),this.putawayService.getProductByOrderId(this.addForm.value.order_id).subscribe(t=>{t.success&&(this.skuListArray=t.data.product)})}getEditObject(){this.putawayService.getPutAwayById(this.editId).subscribe(t=>{t.success&&(this.addForm.patchValue({order_id:t.data.order_id,qty:t.data.qty,transfer_order_no:t.data.transfer_order_no,case_no:t.data.case_no,sku_no:t.data.sku_no,pick_qty:t.data.pick_qty,bin_id:t.data.bin_id,bin_tag_id:t.data.bin_tag_id,putaway_qty:t.data.put_away_qty}),this.getMasterData())})}setBinDetail(t){t&&this.addForm.patchValue({bin_tag_id:t.tag_id})}setProductDetail(t){t&&this.addForm.patchValue({qty:t.qty})}submitForm(t){if(t.valid){const e=new FormData;e.append("order_id",t.value.order_id),e.append("qty",t.value.qty),e.append("transfer_order_no",t.value.transfer_order_no),e.append("case_no",t.value.case_no),e.append("sku_no",t.value.sku_no),e.append("pick_qty",t.value.pick_qty),e.append("bin_id",t.value.bin_id),e.append("bin_tag_id",t.value.bin_tag_id),e.append("putaway_qty",t.value.putaway_qty),e.append("put_away_data",JSON.stringify({order_id:t.value.order_id,sku_no:t.value.sku_no,pick_qty:t.value.pick_qty,bin_id:t.value.bin_id,bin_tag_id:t.value.bin_tag_id,put_away_qty:t.value.putaway_qty})),this.showLoader=!0,this.isEditing?this.putawayService.editPutAway(this.editId,e).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1}):this.putawayService.addPutAway(e).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1})}}back(){this.location.back()}getOrderDetails(){this.subscription=this.dataService.OrderDetails.subscribe(t=>{t&&(this.OrderDetails=t)})}calPutawayQuantity(){let t=Number(this.addForm.value.qty/this.addForm.value.putaway_qty);isFinite(t)?this.addForm.patchValue({pick_qty:t}):this.addForm.patchValue({pick_qty:"0"})}calNoPutaway(){let t=Number(this.addForm.value.qty/this.addForm.value.pick_qty);isFinite(t)?this.addForm.patchValue({putaway_qty:t}):this.addForm.patchValue({putaway_qty:"0"})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(r.e),b.Mb(r.a),b.Mb(o.e),b.Mb(i.h),b.Mb(c.a),b.Mb(l.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-add-put-away"]],decls:85,vars:16,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate",""],["elseTemplate",""],["type","text","placeholder","",1,"form-control",3,"formControl"],["bindLabel","label","bindValue","value","placeholder","Select SKU No",3,"formControl","items","change"],["bindLabel","label","bindValue","value","placeholder","Select Bin",3,"formControl","items","change"],["type","text","placeholder","","disabled","",1,"form-control",3,"formControl"],["type","text","placeholder","","disabled","",1,"form-control"],["number","","type","text","placeholder","",1,"form-control",3,"formControl","input"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],["bindLabel","label","bindValue","value","placeholder","Select Order Number",3,"formControl","items","change"],["disabled","",1,"form-control"],["default","","selected","true","disabled","","hidden","","value","OrderDetails?.po_no"]],template:function(t,e){if(1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"div",3),b.Sb(4,"h2",4),b.Bc(5),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",5),b.Sb(7,"form",6),b.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),b.Sb(8,"div",7),b.Sb(9,"div"),b.Sb(10,"div",8),b.Sb(11,"label",9),b.Bc(12,"Order Number "),b.Sb(13,"em"),b.Bc(14,"*"),b.Rb(),b.Rb(),b.Sb(15,"div",10),b.zc(16,m,1,0,"ng-container",11),b.zc(17,y,1,2,"ng-template",null,12,b.Ac),b.zc(19,_,3,1,"ng-template",null,13,b.Ac),b.Rb(),b.Rb(),b.Sb(21,"div",8),b.Sb(22,"label",9),b.Bc(23,"Transfer Order No "),b.Sb(24,"em"),b.Bc(25,"*"),b.Rb(),b.Rb(),b.Sb(26,"div",10),b.Nb(27,"input",14),b.Rb(),b.Rb(),b.Sb(28,"div",8),b.Sb(29,"label",9),b.Bc(30,"Case No"),b.Rb(),b.Sb(31,"div",10),b.Nb(32,"input",14),b.Rb(),b.Rb(),b.Sb(33,"div",8),b.Sb(34,"label",9),b.Bc(35,"SKU "),b.Sb(36,"em"),b.Bc(37,"*"),b.Rb(),b.Rb(),b.Sb(38,"div",10),b.Sb(39,"ng-select",15),b.ac("change",(function(t){return e.setProductDetail(t)})),b.Rb(),b.Rb(),b.Rb(),b.Sb(40,"div",8),b.Sb(41,"label",9),b.Bc(42,"Bin "),b.Sb(43,"em"),b.Bc(44,"*"),b.Rb(),b.Rb(),b.Sb(45,"div",10),b.Sb(46,"ng-select",16),b.ac("change",(function(t){return e.setBinDetail(t)})),b.Rb(),b.Rb(),b.Rb(),b.Sb(47,"div",8),b.Sb(48,"label",9),b.Bc(49,"Location"),b.Rb(),b.Sb(50,"div",10),b.Nb(51,"input",17),b.Rb(),b.Rb(),b.Sb(52,"div",8),b.Sb(53,"label",9),b.Bc(54,"Total Quantity "),b.Sb(55,"em"),b.Bc(56,"*"),b.Rb(),b.Rb(),b.Sb(57,"div",10),b.Nb(58,"input",17),b.Rb(),b.Rb(),b.Sb(59,"div",8),b.Sb(60,"label",9),b.Bc(61,"Open Quantity "),b.Sb(62,"em"),b.Bc(63,"*"),b.Rb(),b.Rb(),b.Sb(64,"div",10),b.Nb(65,"input",18),b.Rb(),b.Rb(),b.Sb(66,"div",8),b.Sb(67,"label",9),b.Bc(68,"Putaway Quantity "),b.Sb(69,"em"),b.Bc(70,"*"),b.Rb(),b.Rb(),b.Sb(71,"div",10),b.Sb(72,"input",19),b.ac("input",(function(){return e.calPutawayQuantity()})),b.Rb(),b.Rb(),b.Rb(),b.Sb(73,"div",8),b.Sb(74,"label",9),b.Bc(75,"No of Putaway "),b.Sb(76,"em"),b.Bc(77,"*"),b.Rb(),b.Rb(),b.Sb(78,"div",10),b.Sb(79,"input",19),b.ac("input",(function(){return e.calNoPutaway()})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(80,"div",20),b.Sb(81,"button",21),b.ac("click",(function(){return e.back()})),b.Bc(82,"Cancel"),b.Rb(),b.Sb(83,"button",22),b.Bc(84,"Submit"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=b.rc(18),a=b.rc(20);b.zb(5),b.Ec("",e.isEditing?"Update":"Generate"," ",e.PageTitle,""),b.zb(2),b.ic("formGroup",e.addForm),b.zb(9),b.ic("ngIf",e.OrderId_show)("ngIfThen",t)("ngIfElse",a),b.zb(11),b.ic("formControl",e.addForm.controls.transfer_order_no),b.zb(5),b.ic("formControl",e.addForm.controls.case_no),b.zb(7),b.ic("formControl",e.addForm.controls.sku_no)("items",e.skuListArray),b.zb(7),b.ic("formControl",e.addForm.controls.bin_id)("items",e.binListArray),b.zb(5),b.ic("formControl",e.addForm.controls.location),b.zb(7),b.ic("formControl",e.addForm.controls.qty),b.zb(14),b.ic("formControl",e.addForm.controls.putaway_qty),b.zb(7),b.ic("formControl",e.addForm.controls.pick_qty)}},directives:[o.v,o.p,u.a,o.j,i.l,o.c,o.o,o.g,p.a,n.a,h.a,o.r,o.u],encapsulation:2}),t})();a.d(e,"AddPutAwayModule",(function(){return v}));const f=[{path:"",component:S},{path:":id",component:S}];let v=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[i.b,o.l,o.s,d.a,n.b,s.a,r.i.forChild(f)]]}),t})()}}]);