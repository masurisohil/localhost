(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{ZFJA:function(r,t,e){"use strict";e.r(t);var a=e("ofXK"),i=e("tyNb"),o=e("g3N6"),n=e("uq2c"),c=e("OTx7"),s=e("PCNd"),d=e("Vr6k"),b=e("3Pt+"),h=e("QSzr"),l=e("ZOsW"),p=e("FasR"),u=e("fXoL"),g=e("c8VH"),m=e("AytR"),f=e("tk/3");let v=(()=>{class r{constructor(r){this.http=r,this.API_URL=m.a.APIEndpoint}getCarrierList(r){return this.http.get(`${this.API_URL}/carrier`,{params:r})}addCarrier(r){return this.http.post(`${this.API_URL}/carrier`,r)}editCarrier(r,t){return this.http.put(`${this.API_URL}/carrier/${r}`,t)}getCarrierById(r,t=null){return this.http.get(`${this.API_URL}/carrier/${r}`,{params:t})}}return r.\u0275fac=function(t){return new(t||r)(u.Wb(f.b))},r.\u0275prov=u.Ib({token:r,factory:r.\u0275fac}),r})();var S=e("jTkZ"),C=e("Eb8l"),R=e("LPFR"),_=e("Pbud");function P(r,t){if(1&r){const r=u.Tb();u.Sb(0,"pagination",11),u.ac("onPageChange",(function(t){return u.uc(r),u.cc().getPage(t)})),u.Rb()}if(2&r){const r=u.cc();u.jc("paginationList",r.pagination)("currentPage",r.currentPage)}}let w=(()=>{class r{constructor(r,t){this.paginationService=r,this.carrierService=t,this.PageTitle="Manage Carrier",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.headerData=[]}ngOnInit(){this.loadform=!1,this.setHeaderData(),this.getObjects()}setHeaderData(){this.headerData.push(new p.f({label:"Carrier Name",key:"carrier_name"}),new p.f({label:"Carrier Code",key:"carrier_code"}),new p.f({label:"Contact Person",key:"contact_person"}),new p.f({label:"Contact No",key:"contact_no"}));let r=new p.a({edit:{path:"/manage/carrier/edit/",id:"carrier_id"},delete:{path:"carrier/",id:"carrier_id"}});this.headerData.push(r)}getObjects(){const r={page:this.currentPage};this.searchText&&(r.search=this.searchText),this.carrierService.getCarrierList(r).subscribe(r=>{this.loadingState=!1,r.success?(this.objectArray=r.data.list,this.showPagination=!0,this.pagination=this.paginationService.getPager(r.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},r=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(r){this.currentPage=r,this.getObjects()}searchObject(r){this.searchText=r,this.currentPage=1,this.getObjects()}onReloadEvent(){this.getObjects()}}return r.\u0275fac=function(t){return new(t||r)(u.Mb(g.a),u.Mb(v))},r.\u0275cmp=u.Gb({type:r,selectors:[["app-carrier-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(r,t){1&r&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"h2",3),u.Cc(4),u.Rb(),u.Sb(5,"div",4),u.Sb(6,"search-box",5),u.ac("text",(function(r){return t.searchObject(r)})),u.Rb(),u.Rb(),u.Sb(7,"div",4),u.Nb(8,"app-btn-add",6),u.Rb(),u.Rb(),u.Rb(),u.Sb(9,"div",7),u.Sb(10,"div",8),u.Sb(11,"app-table-list",9),u.ac("reloadEvent",(function(){return t.onReloadEvent()})),u.Rb(),u.Ac(12,P,1,2,"pagination",10),u.Rb(),u.Rb(),u.Rb()),2&r&&(u.zb(4),u.Dc(t.PageTitle),u.zb(2),u.jc("placeholder","Search Here..."),u.zb(2),u.jc("btnName","Add Carrier")("editData","/manage/carrier/add"),u.zb(3),u.jc("headerData",t.headerData)("rawData",t.objectArray),u.zb(1),u.jc("ngIf",t.showPagination))},directives:[S.a,C.a,R.a,a.l,_.a],encapsulation:2}),r})();var j=e("8cFx"),y=e("HOh6"),L=e("UaFz"),E=e("/SVk");function I(r,t){if(1&r&&u.Nb(0,"span",18),2&r){const r=u.cc();u.jc("innerHTML",r.formErrors.carrier_code,u.vc)}}const z=function(r){return{"has-error":r}},F=function(r){return{"qt-loader qt-loader-mini qt-loader-left":r}};let O=(()=>{class r{constructor(r,t,e,a,i){this.router=r,this.activatedRoute=t,this.fb=e,this.carrierService=a,this.commonservice=i,this.PageTitle="Carrier",this.loadingState=!1,this.showLoader=!1,this.formErrors={carrier_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({carrier_name:[null,b.t.compose([b.t.required])],carrier_code:[null,b.t.compose([b.t.required])],contact_person:[null,b.t.compose([b.t.required])],contact_no:[null,b.t.compose([b.t.required])]})}ngOnInit(){this.isEditing&&this.getEditObject()}getEditObject(){this.carrierService.getCarrierById(this.editId).subscribe(r=>{r.success?this.addForm.patchValue(r.data):this.router.navigateByUrl("/manage/Carrier")})}submitForm(r){if(r.valid){this.showLoader=!0;const t=new FormData;t.append("carrier_name",r.value.carrier_name),t.append("carrier_code",r.value.carrier_code),t.append("contact_person",r.value.contact_person),t.append("contact_no",r.value.contact_no),this.isEditing?this.carrierService.editCarrier(this.editId,t).subscribe(r=>{this.showLoader=!1,r.success?this.router.navigateByUrl("/manage/carrier"):r.error.map(t=>{t.hasOwnProperty("carrier_code")?this.formErrors.carrier_code=t.carrier_code:this.formErrors.apierror=`* ${r.error}`})},r=>{this.showLoader=!1}):this.carrierService.addCarrier(t).subscribe(r=>{this.showLoader=!1,r.success?this.router.navigateByUrl("/manage/carrier"):r.error.map(t=>{t.hasOwnProperty("carrier_code")?this.formErrors.carrier_code=t.carrier_code:this.formErrors.apierror=`* ${r.error}`})},r=>{this.showLoader=!1})}}}return r.\u0275fac=function(t){return new(t||r)(u.Mb(i.e),u.Mb(i.a),u.Mb(b.e),u.Mb(v),u.Mb(j.a))},r.\u0275cmp=u.Gb({type:r,selectors:[["app-add-carrier"]],decls:44,vars:15,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row","align-items-center"],[1,"control-label","text-md-right","col-md-4","col-lg-3","mb-0"],[1,"col-md-5"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"col-md-5",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["number","","type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right","border-top","pt-4","mt-5","card-footer"],["type","button","routerLink","/manage/carrier",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"]],template:function(r,t){1&r&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Sb(4,"h2",4),u.Cc(5),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"div",5),u.Sb(7,"form",6),u.ac("ngSubmit",(function(){return t.submitForm(t.addForm)})),u.Sb(8,"div",7),u.Sb(9,"div"),u.Sb(10,"div",8),u.Sb(11,"label",9),u.Cc(12," Carrier Name "),u.Sb(13,"em"),u.Cc(14,"*"),u.Rb(),u.Rb(),u.Sb(15,"div",10),u.Nb(16,"input",11),u.Rb(),u.Rb(),u.Sb(17,"div",8),u.Sb(18,"label",9),u.Cc(19,"Carrier Code "),u.Sb(20,"em"),u.Cc(21,"*"),u.Rb(),u.Rb(),u.Sb(22,"div",12),u.Nb(23,"input",11),u.Ac(24,I,1,1,"span",13),u.Rb(),u.Rb(),u.Sb(25,"div",8),u.Sb(26,"label",9),u.Cc(27," Contact Person "),u.Sb(28,"em"),u.Cc(29,"*"),u.Rb(),u.Rb(),u.Sb(30,"div",10),u.Nb(31,"input",11),u.Rb(),u.Rb(),u.Sb(32,"div",8),u.Sb(33,"label",9),u.Cc(34," Contact No "),u.Sb(35,"em"),u.Cc(36,"*"),u.Rb(),u.Rb(),u.Sb(37,"div",10),u.Nb(38,"input",14),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(39,"div",15),u.Sb(40,"button",16),u.Cc(41,"Cancel"),u.Rb(),u.Sb(42,"button",17),u.Cc(43,"Submit"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&r&&(u.zb(5),u.Fc("",t.isEditing?"Update":"Create"," ",t.PageTitle,""),u.zb(2),u.jc("formGroup",t.addForm),u.zb(9),u.jc("formControl",t.addForm.controls.carrier_name),u.zb(6),u.jc("ngClass",u.nc(11,z,t.formErrors.carrier_code)),u.zb(1),u.jc("formControl",t.addForm.controls.carrier_code),u.zb(1),u.jc("ngIf",t.formErrors.carrier_code),u.zb(7),u.jc("formControl",t.addForm.controls.contact_person),u.zb(7),u.jc("formControl",t.addForm.controls.contact_no),u.zb(4),u.jc("ngClass",u.nc(13,F,t.showLoader))("disabled",t.showLoader))},directives:[b.v,b.p,y.a,b.j,b.c,b.o,b.g,L.a,a.j,a.l,E.a,i.f],encapsulation:2}),r})();e.d(t,"CarrierModule",(function(){return N}));const A=[{path:"",component:w,data:{title:"carrier_list"}},{path:"add",component:O,data:{title:"add_carrier"}},{path:"edit/:id",component:O,data:{title:"edit_carrier"}}];let N=(()=>{class r{}return r.\u0275mod=u.Kb({type:r}),r.\u0275inj=u.Jb({factory:function(t){return new(t||r)},providers:[v],imports:[[a.b,i.i.forChild(A),c.a,o.a,n.a,b.l,b.s,d.a,l.b,s.a,h.a]]}),r})()}}]);