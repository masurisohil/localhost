(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0ogY":function(t,r,i){"use strict";i.r(r);var e=i("ofXK"),o=i("tyNb"),d=i("3Pt+"),a=i("fXoL"),s=i("AwSQ"),n=i("Sodd"),c=i("HOh6"),b=i("ZOsW"),l=i("UaFz"),u=i("/SVk");function h(t,r){1&t&&a.Ob(0)}function p(t,r){if(1&t){const t=a.Tb();a.Sb(0,"ng-select",20),a.ac("change",(function(){return a.uc(t),a.cc().getMasterData(!0)})),a.Rb()}if(2&t){const t=a.cc();a.jc("formControl",t.addForm.controls.order_id)("items",t.orderListArray)}}function m(t,r){if(1&t&&(a.Sb(0,"select",21),a.Sb(1,"option",22),a.Cc(2),a.Rb(),a.Rb()),2&t){const t=a.cc();a.zb(2),a.Ec("",null==t.OrderDetails?null:t.OrderDetails.po_no," ")}}let g=(()=>{class t{constructor(t,r,i,e,o,a){if(this.router=t,this.activatedRoute=r,this.fb=i,this.location=e,this.dataService=o,this.productRegistrationService=a,this.PageTitle="Product Registration",this.addNewRadio=!1,this.loadingState=!1,this.productListArray=[],this.orderListArray=[],this.showLoader=!1,this.formErrors={apierror:null},this.isEditing=!1,this.editId=null,this.OrderId_show=!0,this.addForm=this.fb.group({order_id:[null,d.t.compose([d.t.required])],tag_id:[null,d.t.compose([d.t.required])],serial_no:[null,d.t.compose([d.t.required])],barcode:[null,d.t.compose([d.t.required])],qty:[null,d.t.compose([d.t.required])],product_id:[null,d.t.compose([d.t.required])],sku_no:[null],unload_id:[null],unload_detail_id:[null]}),this.activatedRoute.snapshot.paramMap.get("id")){let t=this.activatedRoute.snapshot.paramMap.get("id");e.path()==`/inbound/registeration/add/${t}`?(this.OrderId=t,this.addForm.patchValue({order_id:this.OrderId}),this.OrderId_show=!1,this.getOrderDetails()):(this.editId=t,this.isEditing=!0)}}ngOnInit(){this.isEditing?this.getEditObject():this.getMasterData()}getMasterData(t=null){t&&this.addForm.patchValue({product_id:""});const r={};this.addForm.value.order_id&&(r.order_id=this.addForm.value.order_id),this.isEditing&&(r.is_editing=this.isEditing),this.productRegistrationService.getMasterData(r).subscribe(t=>{t.success&&(this.addForm.value.order_id?this.isEditing?(this.orderListArray=t.data.order,this.productListArray=t.data.product):this.productListArray=t.data.product:this.orderListArray=t.data.order)})}getEditObject(){this.productRegistrationService.getProductRegistrationById(this.editId).subscribe(t=>{t.success&&(this.addForm.patchValue(t.data),this.getMasterData())})}setProductDetail(t){t&&this.addForm.patchValue({sku_no:t.sku_no,unload_id:t.unload_id,unload_detail_id:t.unload_detail_id})}submitForm(t){t.valid&&(this.showLoader=!0,this.isEditing?this.productRegistrationService.editProductRegistration(this.editId,t.value).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1}):this.productRegistrationService.addProductRegistration(t.value).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1}))}back(){this.location.back()}getOrderDetails(){this.subscription=this.dataService.OrderDetails.subscribe(t=>{t&&(this.OrderDetails=t)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(a.Mb(o.e),a.Mb(o.a),a.Mb(d.e),a.Mb(e.h),a.Mb(s.a),a.Mb(n.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-add-registeration"]],decls:53,vars:12,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate",""],["elseTemplate",""],["bindLabel","label","bindValue","value","placeholder","Select Product",3,"formControl","items","change"],["type","text","placeholder","",1,"form-control",3,"formControl"],["number","","type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],["bindLabel","label","bindValue","value","placeholder","Select Order",3,"formControl","items","change"],["disabled","",1,"form-control"],["default","","selected","true","disabled","","hidden","","value","OrderDetails?.po_no"]],template:function(t,r){if(1&t&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"h2",4),a.Cc(5),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(6,"div",5),a.Sb(7,"form",6),a.ac("ngSubmit",(function(){return r.submitForm(r.addForm)})),a.Sb(8,"div",7),a.Sb(9,"div"),a.Sb(10,"div",8),a.Sb(11,"label",9),a.Cc(12,"Order Id"),a.Rb(),a.Sb(13,"div",10),a.Ac(14,h,1,0,"ng-container",11),a.Ac(15,p,1,2,"ng-template",null,12,a.Bc),a.Ac(17,m,3,1,"ng-template",null,13,a.Bc),a.Rb(),a.Rb(),a.Sb(19,"div",8),a.Sb(20,"label",9),a.Cc(21,"Product "),a.Sb(22,"em"),a.Cc(23,"*"),a.Rb(),a.Rb(),a.Sb(24,"div",10),a.Sb(25,"ng-select",14),a.ac("change",(function(t){return r.setProductDetail(t)})),a.Rb(),a.Rb(),a.Rb(),a.Sb(26,"div",8),a.Sb(27,"label",9),a.Cc(28,"Serial Number"),a.Rb(),a.Sb(29,"div",10),a.Nb(30,"input",15),a.Rb(),a.Rb(),a.Sb(31,"div",8),a.Sb(32,"label",9),a.Cc(33,"Tag ID "),a.Sb(34,"em"),a.Cc(35,"*"),a.Rb(),a.Rb(),a.Sb(36,"div",10),a.Nb(37,"input",15),a.Rb(),a.Rb(),a.Sb(38,"div",8),a.Sb(39,"label",9),a.Cc(40,"Qunatity"),a.Rb(),a.Sb(41,"div",10),a.Nb(42,"input",16),a.Rb(),a.Rb(),a.Sb(43,"div",8),a.Sb(44,"label",9),a.Cc(45,"Bar Code"),a.Rb(),a.Sb(46,"div",10),a.Nb(47,"input",15),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(48,"div",17),a.Sb(49,"button",18),a.ac("click",(function(){return r.back()})),a.Cc(50,"Cancel"),a.Rb(),a.Sb(51,"button",19),a.Cc(52,"Submit"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t){const t=a.sc(16),i=a.sc(18);a.zb(5),a.Fc("",r.isEditing?"Update":"Create"," ",r.PageTitle,""),a.zb(2),a.jc("formGroup",r.addForm),a.zb(7),a.jc("ngIf",r.OrderId_show)("ngIfThen",t)("ngIfElse",i),a.zb(11),a.jc("formControl",r.addForm.controls.product_id)("items",r.productListArray),a.zb(5),a.jc("formControl",r.addForm.controls.serial_no),a.zb(7),a.jc("formControl",r.addForm.controls.tag_id),a.zb(5),a.jc("formControl",r.addForm.controls.qty),a.zb(5),a.jc("formControl",r.addForm.controls.barcode)}},directives:[d.v,d.p,c.a,d.j,e.l,b.a,d.o,d.g,l.a,d.c,u.a,d.r,d.u],encapsulation:2}),t})();var f=i("Vr6k"),S=i("PCNd");i.d(r,"AddRegisterationModule",(function(){return v}));const R=[{path:"",component:g},{path:":id",component:g}];let v=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(r){return new(r||t)},providers:[n.a],imports:[[e.b,d.l,d.s,f.a,b.b,S.a,o.i.forChild(R)]]}),t})()}}]);