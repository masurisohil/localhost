(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{x2YT:function(t,e,o){"use strict";o.r(e);var i=o("ofXK"),r=o("tyNb"),n=o("Jvtu"),b=o("3Pt+"),a=o("Vr6k"),d=o("PCNd"),c=o("fXoL"),s=o("ICGj"),l=o("HOh6"),u=o("UaFz");function p(t,e){if(1&t&&(c.Sb(0,"tr",33),c.Sb(1,"td"),c.Sb(2,"div",34),c.Cc(3),c.Rb(),c.Rb(),c.Sb(4,"td"),c.Nb(5,"input",35),c.Rb(),c.Sb(6,"td"),c.Nb(7,"input",36),c.Rb(),c.Sb(8,"td",23),c.Nb(9,"input",37),c.Rb(),c.Rb()),2&t){const t=e.index;c.jc("formGroupName",t),c.zb(3),c.Dc(t+1)}}let f=(()=>{class t{constructor(t,e,o,i,r){this.activatedRoute=t,this.pickListService=e,this.location=o,this.fb=i,this.router=r,this.PageTitle="Genrate PickList ",this.exampleOptions={defaultDate:new Date,noCalendar:!0},this.orderDetails={},this.productList=[],this.addForm=this.fb.group({picked_by:[null,b.t.compose([b.t.required])],notes:[null],unload_detail:this.fb.array([])}),this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.getObject()}back(){this.location.back()}getObject(){this.pickListService.getPickListReportsDetails(this.viewId).subscribe(t=>{t.success?(this.orderDetails=t.data.order_detail,this.productList=t.data.product,this.setData()):(this.orderDetails={},this.productList=[])},t=>{this.orderDetails={},this.productList=[]})}setData(){if(this.addForm.patchValue({notes:this.orderDetails.notes,picked_by:this.orderDetails.picked_by}),this.productList.length>0){const t=this.addForm.get("unload_detail");for(let e=0;e<=t.length+1;e++)t.removeAt(e);this.productList.forEach((e,o)=>{t.push(this.fb.group({pick_list_id:e.pick_list_id,sku_no:e.sku_no,product_name:e.product_name,product_qty:e.product_qty}))})}}submitForm(t){if(t.valid){this.showLoader=!0;const e=new FormData;e.append("picked_by",t.value.picked_by),this.pickListService.getPickListSubmitReports(this.viewId,e).subscribe(t=>{this.showLoader=!1,t.success&&this.back()},t=>{this.showLoader=!1})}}addNewRow(){this.addForm.get("unload_detail").push(this.initRows())}initRows(){return new b.i({pick_list_id:new b.f(""),sku_no:new b.f(""),product_name:new b.f(""),product_qty:new b.f(0,b.t.compose([b.t.required]))})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(r.a),c.Mb(s.a),c.Mb(i.h),c.Mb(b.e),c.Mb(r.e))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-generate-pick-list"]],decls:75,vars:10,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],[1,"card-body"],["role","form",1,"form-horizontal","pb-4",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-7","pl-3"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","disabled","",1,"form-control",3,"value"],[1,"date-picker"],["disabled","",3,"setDate","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["rows","2",1,"form-control",3,"formControl"],[1,"row","mt-4"],[1,"table-responsive-md","mt-3"],[1,"table"],[1,"text-center"],["formArrayName","unload_detail"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-4","border","border-left-0","border-right-0","pt-4","pb-2"],[1,"col-md-6"],[1,"row","mt-2"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],[3,"formGroupName"],[1,"p-1"],["type","text","formControlName","sku_no","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_name","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_qty","disabled","",1,"input_formarray","form-control"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"h2",4),c.Cc(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(6,"div",5),c.Sb(7,"div",6),c.Sb(8,"form",7),c.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),c.Sb(9,"div",8),c.Sb(10,"div",9),c.Sb(11,"div",2),c.Sb(12,"div",10),c.Sb(13,"div",11),c.Sb(14,"label",12),c.Cc(15,"PO Date "),c.Sb(16,"em"),c.Cc(17,"*"),c.Rb(),c.Rb(),c.Sb(18,"div",13),c.Nb(19,"input",14),c.dc(20,"date"),c.Rb(),c.Rb(),c.Rb(),c.Sb(21,"div",10),c.Sb(22,"div",11),c.Sb(23,"label",12),c.Cc(24,"Date of Receipt "),c.Sb(25,"em"),c.Cc(26,"*"),c.Rb(),c.Rb(),c.Sb(27,"div",15),c.Nb(28,"ng2-flatpickr",16),c.Sb(29,"span",17),c.Nb(30,"span",18),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(31,"div",2),c.Sb(32,"div",3),c.Sb(33,"div",11),c.Sb(34,"label",12),c.Cc(35,"Notes"),c.Rb(),c.Nb(36,"textarea",19),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(37,"div",20),c.Sb(38,"div",3),c.Sb(39,"h5"),c.Cc(40,"Items"),c.Rb(),c.Sb(41,"div",21),c.Sb(42,"table",22),c.Sb(43,"thead"),c.Sb(44,"tr"),c.Sb(45,"th"),c.Cc(46,"No."),c.Rb(),c.Sb(47,"th"),c.Cc(48,"SKU no"),c.Rb(),c.Sb(49,"th"),c.Cc(50,"Product"),c.Rb(),c.Sb(51,"th",23),c.Cc(52,"Product Qty"),c.Rb(),c.Rb(),c.Rb(),c.Sb(53,"tbody",24),c.Ac(54,p,10,2,"tr",25),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(55,"div",26),c.Sb(56,"div",27),c.Sb(57,"h5"),c.Cc(58,"Picked By"),c.Rb(),c.Sb(59,"div",28),c.Sb(60,"div",27),c.Sb(61,"div",11),c.Sb(62,"label",12),c.Cc(63,"Picked by. "),c.Sb(64,"em"),c.Cc(65,"*"),c.Rb(),c.Rb(),c.Sb(66,"div",13),c.Nb(67,"input",29),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(68,"div",8),c.Sb(69,"div",3),c.Sb(70,"div",30),c.Sb(71,"button",31),c.ac("click",(function(){return e.back()})),c.Cc(72,"Cancel"),c.Rb(),c.Sb(73,"button",32),c.Cc(74,"Submit"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.zb(5),c.Dc(e.PageTitle),c.zb(3),c.jc("formGroup",e.addForm),c.zb(11),c.jc("value",c.ec(20,8,null==e.orderDetails?null:e.orderDetails.sales_order_date)),c.zb(9),c.jc("setDate",null==e.orderDetails?null:e.orderDetails.receipt_date)("config",e.exampleOptions),c.zb(8),c.jc("formControl",e.addForm.controls.notes),c.zb(18),c.jc("ngForOf",e.addForm.controls.unload_detail.controls),c.zb(13),c.jc("formControl",e.addForm.controls.picked_by))},directives:[b.v,b.p,l.a,b.j,n.a,b.c,b.o,u.a,b.g,b.d,i.k,b.k,b.h],pipes:[i.d],styles:[".input_formarray[_ngcontent-%COMP%] {\n    width: 80%;\n  }"]}),t})();o.d(e,"GeneratePickListModule",(function(){return h}));const m=[{path:":id",component:f}];let h=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.b,r.i.forChild(m),n.b,b.l,a.a,d.a,b.s]]}),t})()},xgIS:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var i=o("HDdC"),r=o("DH7j"),n=o("n6bG"),b=o("lJxs");function a(t,e,o,d){return Object(n.a)(o)&&(d=o,o=void 0),d?a(t,e,o).pipe(Object(b.a)(t=>Object(r.a)(t)?d(...t):d(t))):new i.a(i=>{!function t(e,o,i,r,n){let b;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(o,i,n),b=()=>t.removeEventListener(o,i,n)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(o,i),b=()=>t.off(o,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(o,i),b=()=>t.removeListener(o,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let b=0,a=e.length;b<a;b++)t(e[b],o,i,r,n)}r.add(b)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,o)})}}}]);