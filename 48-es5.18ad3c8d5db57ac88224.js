function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{CHsW:function(t,e,a){"use strict";a.r(e);var r,i=a("FasR"),o=a("fXoL"),n=a("c8VH"),d=a("AytR"),c=a("tk/3"),l=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.API_URL=d.a.APIEndpoint}return _createClass(t,[{key:"getProductList",value:function(t){return this.http.get("".concat(this.API_URL,"/product"),{params:t})}},{key:"addProduct",value:function(t){return this.http.post("".concat(this.API_URL,"/product"),t)}},{key:"editProduct",value:function(t,e){return this.http.put("".concat(this.API_URL,"/product/").concat(t),e)}},{key:"getProductById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/product/").concat(t),{params:e})}},{key:"getProductMasterData",value:function(){return this.http.get("".concat(this.API_URL,"/product/master-data"))}}]),t}()).\u0275fac=function(t){return new(t||r)(o.Wb(c.b))},r.\u0275prov=o.Ib({token:r,factory:r.\u0275fac}),r),u=a("jTkZ"),b=a("Eb8l"),s=a("LPFR"),p=a("ofXK"),h=a("Pbud");function m(t,e){if(1&t){var a=o.Tb();o.Sb(0,"pagination",11),o.ac("onPageChange",(function(t){return o.vc(a),o.cc().getPage(t)})),o.Rb()}if(2&t){var r=o.cc();o.jc("paginationList",r.pagination)("currentPage",r.currentPage)}}var v,g=((v=function(){function t(e,a){_classCallCheck(this,t),this.paginationService=e,this.productService=a,this.PageTitle="Manage Product",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.headerData=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadform=!1,this.setHeaderData(),this.getObjects()}},{key:"setHeaderData",value:function(){this.headerData.push(new i.i({label:"Product Name",key:"product_name"}),new i.i({label:"Product Code",key:"product_code"}),new i.i({label:"Sku No",key:"sku_no"}),new i.i({label:"Category",key:"category.label"}),new i.i({label:"Brand\t",key:"brand.label"}));var t=new i.a({edit:{path:"/manage/product/edit/",id:"product_id"},delete:{path:"product/",id:"product_id"}});this.headerData.push(t)}},{key:"getObjects",value:function(){var t=this,e={page:this.currentPage};this.searchText&&(e.search=this.searchText),this.productService.getProductList(e).subscribe((function(e){t.loadingState=!1,e.success?(t.objectArray=e.data.list,t.showPagination=!0,t.pagination=t.paginationService.getPager(e.data.pagination.total_page,t.currentPage)):(t.objectArray=[],t.pagination=null)}),(function(e){t.loadingState=!1,t.objectArray=[],t.pagination=null}))}},{key:"getPage",value:function(t){this.currentPage=t,this.getObjects()}},{key:"searchObject",value:function(t){this.searchText=t,this.currentPage=1,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}}]),t}()).\u0275fac=function(t){return new(t||v)(o.Mb(n.a),o.Mb(l))},v.\u0275cmp=o.Gb({type:v,selectors:[["app-product-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"h2",3),o.Dc(4),o.Rb(),o.Sb(5,"div",4),o.Sb(6,"search-box",5),o.ac("text",(function(t){return e.searchObject(t)})),o.Rb(),o.Rb(),o.Sb(7,"div",4),o.Nb(8,"app-btn-add",6),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",7),o.Sb(10,"div",8),o.Sb(11,"app-table-list",9),o.ac("reloadEvent",(function(){return e.onReloadEvent()})),o.Rb(),o.Bc(12,m,1,2,"pagination",10),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.zb(4),o.Ec(e.PageTitle),o.zb(2),o.jc("placeholder","Search Here..."),o.zb(2),o.jc("btnName","Add Product")("editData","/manage/product/add"),o.zb(3),o.jc("headerData",e.headerData)("rawData",e.objectArray),o.zb(1),o.jc("ngIf",e.showPagination))},directives:[u.a,b.a,s.a,p.l,h.a],encapsulation:2}),v),f=a("3Pt+"),S=a("tyNb"),R=a("HOh6"),y=a("UaFz"),_=a("ZOsW"),C=a("/SVk");function P(t,e){if(1&t&&o.Nb(0,"span",42),2&t){var a=o.cc();o.jc("innerHTML",a.formErrors.product_code,o.wc)}}var w,k=function(t){return{"has-error":t}},j=((w=function(){function t(e,a,r,i){_classCallCheck(this,t),this.router=e,this.activatedRoute=a,this.fb=r,this.productService=i,this.PageTitle="Product",this.editImageUrl=null,this.addNewRadio=!1,this.categoryListArray=[],this.brandListArray=[],this.unitListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={product_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({product_name:[null,f.t.compose([f.t.required])],product_code:[null,f.t.compose([f.t.required])],category_id:[null,f.t.compose([f.t.required])],description:[""],barcode:[""],sku_no:[null,f.t.compose([f.t.required])],brand_id:[null,f.t.compose([f.t.required])],height:[null,f.t.compose([f.t.required])],width:[null,f.t.compose([f.t.required])],depth:[null,f.t.compose([f.t.required])],unit:["cm",f.t.compose([f.t.required])],unit_id:[null,f.t.compose([f.t.required])],total_volume:[0]})}return _createClass(t,[{key:"ngOnInit",value:function(){this.getMasterData(),this.isEditing&&this.getEditObject()}},{key:"getMasterData",value:function(){var t=this;this.productService.getProductMasterData().subscribe((function(e){e.success&&(t.categoryListArray=e.data.category,t.brandListArray=e.data.brand,t.unitListArray=e.data.unit)}))}},{key:"getEditObject",value:function(){var t=this;this.productService.getProductById(this.editId).subscribe((function(e){e.success?(t.editImageUrl=e.data.image,t.addForm.patchValue({product_name:e.data.product_name,category_id:e.data.category_id,description:e.data.description,product_code:e.data.product_code,brand_id:e.data.brand_id,barcode:e.data.barcode,sku_no:e.data.sku_no,width:e.data.volume.width,height:e.data.volume.height,depth:e.data.volume.depth,unit:e.data.volume.unit,unit_id:e.data.unit_id,total_volume:e.data.volume.total_volume})):t.router.navigateByUrl("/manage/product")}))}},{key:"fileChangeEvent",value:function(t){if(!t.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=t.target.files[0]}},{key:"removeFile",value:function(){this.selectedFile=null}},{key:"submitForm",value:function(t){var e=this;if(t.valid){this.showLoader=!0;var a=new FormData;a.append("product_name",t.value.product_name),a.append("unit_id",t.value.unit_id),a.append("product_code",t.value.product_code),a.append("category_id",t.value.category_id?t.value.category_id:""),a.append("brand_id",t.value.brand_id?t.value.brand_id:""),a.append("description",t.value.description),a.append("barcode",t.value.barcode),a.append("sku_no",t.value.sku_no),a.append("volume",JSON.stringify({width:t.value.width,unit:t.value.unit,height:t.value.height,depth:t.value.depth,total_volume:t.value.total_volume})),this.selectedFile&&a.append("file",this.selectedFile),this.isEditing?this.productService.editProduct(this.editId,a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/product"):t.error.map((function(a){a.hasOwnProperty("product_code")?e.formErrors.product_code=a.product_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1})):this.productService.addProduct(a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/product"):t.error.map((function(a){a.hasOwnProperty("product_code")?e.formErrors.product_code=a.product_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1}))}}},{key:"changeCategory",value:function(t){t&&t.volume&&this.addForm.patchValue({width:t.volume.width,height:t.volume.height,depth:t.volume.depth,unit:t.volume.unit,total_volume:t.volume.total_volume})}},{key:"volumeCal",value:function(){var t=parseInt(this.addForm.value.height?this.addForm.value.height:0)*parseInt(this.addForm.value.width?this.addForm.value.width:0)*parseInt(this.addForm.value.depth?this.addForm.value.depth:0);this.addForm.patchValue({total_volume:t||0})}}]),t}()).\u0275fac=function(t){return new(t||w)(o.Mb(S.e),o.Mb(S.a),o.Mb(f.e),o.Mb(l))},w.\u0275cmp=o.Gb({type:w,selectors:[["app-add-product"]],decls:116,vars:23,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"col-4"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-dark","btn-sm","btn-file","mt-3"],["id","myimg","accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","uploaded-user-image","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"col-8"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Category",3,"formControl","items","change"],["bindLabel","label","bindValue","value","placeholder","Select Brand",3,"formControl","items"],["number","","type","text","placeholder","Height",1,"form-control",3,"formControl","change"],["aria-hidden","true",1,"la","la-times","mt-2"],["number","","type","text","placeholder","Width",1,"form-control",3,"formControl","change"],["number","","type","text","placeholder","Depth",1,"form-control",3,"formControl","change"],[1,"la","la-equals","mt-2"],["number","","type","text","placeholder","","disabled","",1,"form-control",3,"formControl"],["bindLabel","label","bindValue","value","placeholder","Select Unit",3,"formControl","items"],["rows","2",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/manage/product",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2"],[1,"help-block",3,"innerHTML"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"div",3),o.Sb(4,"h2",4),o.Dc(5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(6,"div",5),o.Sb(7,"form",6),o.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),o.Sb(8,"div",7),o.Sb(9,"div"),o.Sb(10,"div",2),o.Sb(11,"div",8),o.Sb(12,"div",9),o.Sb(13,"div",10),o.Sb(14,"div",11),o.Sb(15,"div",12),o.Nb(16,"img",13),o.Rb(),o.Nb(17,"div",9),o.Sb(18,"button",14),o.Dc(19," Browse Image "),o.Rb(),o.Sb(20,"input",15),o.ac("change",(function(t){return e.fileChangeEvent(t)})),o.Rb(),o.Nb(21,"div",16),o.Rb(),o.Sb(22,"div",17),o.Sb(23,"a",18),o.ac("click",(function(){return e.removeFile()})),o.Dc(24,"Remove"),o.Rb(),o.Rb(),o.Sb(25,"div",19),o.Sb(26,"p",20),o.Dc(27,"*Recommended Size:"),o.Nb(28,"br"),o.Dc(29,"Minimum 250 * 250"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(30,"div",21),o.Sb(31,"div",2),o.Sb(32,"div",22),o.Sb(33,"div",23),o.Sb(34,"label",24),o.Dc(35,"Product Name "),o.Sb(36,"em"),o.Dc(37,"*"),o.Rb(),o.Rb(),o.Sb(38,"div",25),o.Nb(39,"input",26),o.Rb(),o.Rb(),o.Rb(),o.Sb(40,"div",22),o.Sb(41,"div",23),o.Sb(42,"label",24),o.Dc(43,"Product Code "),o.Sb(44,"em"),o.Dc(45,"*"),o.Rb(),o.Rb(),o.Sb(46,"div",27),o.Nb(47,"input",26),o.Bc(48,P,1,1,"span",28),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(49,"div",2),o.Sb(50,"div",22),o.Sb(51,"div",23),o.Sb(52,"label",24),o.Dc(53,"Category "),o.Sb(54,"em"),o.Dc(55,"*"),o.Rb(),o.Rb(),o.Sb(56,"ng-select",29),o.ac("change",(function(t){return e.changeCategory(t)})),o.Rb(),o.Rb(),o.Rb(),o.Sb(57,"div",22),o.Sb(58,"div",23),o.Sb(59,"label",24),o.Dc(60,"Brand "),o.Sb(61,"em"),o.Dc(62,"*"),o.Rb(),o.Rb(),o.Nb(63,"ng-select",30),o.Rb(),o.Rb(),o.Rb(),o.Sb(64,"div",2),o.Sb(65,"div",22),o.Sb(66,"div",23),o.Sb(67,"label",24),o.Dc(68,"Barcode"),o.Rb(),o.Sb(69,"div",25),o.Nb(70,"input",26),o.Rb(),o.Rb(),o.Rb(),o.Sb(71,"div",22),o.Sb(72,"div",23),o.Sb(73,"label",24),o.Dc(74,"SKU No "),o.Sb(75,"em"),o.Dc(76,"*"),o.Rb(),o.Rb(),o.Sb(77,"div",25),o.Nb(78,"input",26),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(79,"div",2),o.Sb(80,"div",21),o.Sb(81,"div",23),o.Sb(82,"label",24),o.Dc(83,"Volume(cm) "),o.Sb(84,"em"),o.Dc(85,"*"),o.Rb(),o.Rb(),o.Sb(86,"div",3),o.Sb(87,"div",2),o.Sb(88,"div",3),o.Sb(89,"input",31),o.ac("change",(function(){return e.volumeCal()})),o.Rb(),o.Rb(),o.Nb(90,"i",32),o.Sb(91,"div",3),o.Sb(92,"input",33),o.ac("change",(function(){return e.volumeCal()})),o.Rb(),o.Rb(),o.Nb(93,"i",32),o.Sb(94,"div",3),o.Sb(95,"input",34),o.ac("change",(function(){return e.volumeCal()})),o.Rb(),o.Rb(),o.Nb(96,"i",35),o.Sb(97,"div",3),o.Nb(98,"input",36),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(99,"div",3),o.Sb(100,"div",23),o.Sb(101,"label",24),o.Dc(102,"Unit "),o.Sb(103,"em"),o.Dc(104,"*"),o.Rb(),o.Rb(),o.Sb(105,"div",25),o.Nb(106,"ng-select",37),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(107,"div",23),o.Sb(108,"label",24),o.Dc(109,"Description"),o.Rb(),o.Nb(110,"textarea",38),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(111,"div",39),o.Sb(112,"button",40),o.Dc(113,"Cancel"),o.Rb(),o.Sb(114,"button",41),o.Dc(115,"Submit"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.zb(5),o.Gc("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),o.zb(2),o.jc("formGroup",e.addForm),o.zb(9),o.jc("src",e.editImageUrl?e.editImageUrl:"assets/no_image.png",o.xc),o.zb(23),o.jc("formControl",e.addForm.controls.product_name),o.zb(7),o.jc("ngClass",o.nc(21,k,e.formErrors.product_code)),o.zb(1),o.jc("formControl",e.addForm.controls.product_code),o.zb(1),o.jc("ngIf",e.formErrors.product_code),o.zb(8),o.jc("formControl",e.addForm.controls.category_id)("items",e.categoryListArray),o.zb(7),o.jc("formControl",e.addForm.controls.brand_id)("items",e.brandListArray),o.zb(7),o.jc("formControl",e.addForm.controls.barcode),o.zb(8),o.jc("formControl",e.addForm.controls.sku_no),o.zb(11),o.jc("formControl",e.addForm.controls.height),o.zb(3),o.jc("formControl",e.addForm.controls.width),o.zb(3),o.jc("formControl",e.addForm.controls.depth),o.zb(3),o.jc("formControl",e.addForm.controls.total_volume),o.zb(8),o.jc("formControl",e.addForm.controls.unit_id)("items",e.unitListArray),o.zb(4),o.jc("formControl",e.addForm.controls.description))},directives:[f.v,f.p,R.a,f.j,f.c,f.o,f.g,y.a,p.j,p.l,_.a,C.a,S.f],encapsulation:2}),w),D=a("g3N6"),F=a("uq2c"),L=a("OTx7"),x=a("PCNd"),I=a("Vr6k"),N=a("KUiO"),z=a("QSzr");a.d(e,"ProductModule",(function(){return O}));var E,A=[{path:"",component:g,data:{title:"product_list"}},{path:"add",component:j,data:{title:"add_product"}},{path:"edit/:id",component:j,data:{title:"edit_product"}}],O=((E=function t(){_classCallCheck(this,t)}).\u0275mod=o.Kb({type:E}),E.\u0275inj=o.Jb({factory:function(t){return new(t||E)},providers:[l],imports:[[p.b,S.i.forChild(A),L.a,D.a,F.a,f.l,f.s,I.a,x.a,z.a,N.a,_.b]]}),E)}}]);