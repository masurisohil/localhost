function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Sg2+":function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),r=a("tyNb"),o=a("3Pt+"),n=a("Vr6k"),d=a("ZOsW"),c=a("PCNd"),s=a("fXoL"),b=a("AwSQ"),u=a("Fg9w"),l=a("HOh6"),p=a("UaFz"),h=a("/SVk");function y(t,e){1&t&&s.Ob(0)}function f(t,e){if(1&t){var a=s.Tb();s.Sb(0,"ng-select",23),s.ac("change",(function(){return s.uc(a),s.cc().getProductByOrderId()})),s.Rb()}if(2&t){var i=s.cc();s.jc("formControl",i.addForm.controls.order_id)("items",i.orderListArray)}}function m(t,e){if(1&t&&(s.Sb(0,"select",24),s.Sb(1,"option",25),s.Cc(2),s.Rb(),s.Rb()),2&t){var a=s.cc();s.zb(2),s.Ec("",null==a.OrderDetails?null:a.OrderDetails.po_no," ")}}var _,v=((_=function(){function t(e,a,i,r,n,d){if(_classCallCheck(this,t),this.router=e,this.activatedRoute=a,this.fb=i,this.location=r,this.dataService=n,this.putawayService=d,this.PageTitle="Putaway Transfer Order",this.addNewRadio=!1,this.loadingState=!1,this.binListArray=[],this.skuListArray=[],this.orderListArray=[],this.showLoader=!1,this.formErrors={apierror:null},this.isEditing=!1,this.editId=null,this.OrderId_show=!0,this.addForm=this.fb.group({order_id:[null,o.t.compose([o.t.required])],transfer_order_no:[null,o.t.compose([o.t.required])],case_no:[null,o.t.compose([o.t.required])],sku_no:[null,o.t.compose([o.t.required])],pick_qty:[null,o.t.compose([o.t.required])],bin_id:[null,o.t.compose([o.t.required])],bin_tag_id:[null,o.t.compose([o.t.required])],location:[null],qty:[null],putaway_qty:[null,o.t.compose([o.t.required])]}),this.activatedRoute.snapshot.paramMap.get("id")){var c=this.activatedRoute.snapshot.paramMap.get("id");r.path()=="/inbound/put-away/add/".concat(c)?(this.OrderId=c,this.addForm.patchValue({order_id:this.OrderId}),this.OrderId_show=!1,this.getOrderDetails(),this.getProductByOrderId()):(this.editId=c,this.isEditing=!0)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.isEditing?this.getEditObject():this.getMasterData()}},{key:"getMasterData",value:function(){var t=this;this.putawayService.getMasterData().subscribe((function(e){e.success&&(t.orderListArray=e.data.order,t.binListArray=e.data.bin)}))}},{key:"getProductByOrderId",value:function(){var t=this;event&&this.addForm.patchValue({sku_no:""}),this.putawayService.getProductByOrderId(this.addForm.value.order_id).subscribe((function(e){e.success&&(t.skuListArray=e.data.product)}))}},{key:"getEditObject",value:function(){var t=this;this.putawayService.getPutAwayById(this.editId).subscribe((function(e){e.success&&(t.addForm.patchValue({order_id:e.data.order_id,qty:e.data.qty,transfer_order_no:e.data.transfer_order_no,case_no:e.data.case_no,sku_no:e.data.sku_no,pick_qty:e.data.pick_qty,bin_id:e.data.bin_id,bin_tag_id:e.data.bin_tag_id,putaway_qty:e.data.put_away_qty}),t.getMasterData())}))}},{key:"setBinDetail",value:function(t){t&&this.addForm.patchValue({bin_tag_id:t.tag_id})}},{key:"setProductDetail",value:function(t){t&&this.addForm.patchValue({qty:t.qty})}},{key:"submitForm",value:function(t){var e=this;if(t.valid){var a=new FormData;a.append("order_id",t.value.order_id),a.append("qty",t.value.qty),a.append("transfer_order_no",t.value.transfer_order_no),a.append("case_no",t.value.case_no),a.append("sku_no",t.value.sku_no),a.append("pick_qty",t.value.pick_qty),a.append("bin_id",t.value.bin_id),a.append("bin_tag_id",t.value.bin_tag_id),a.append("putaway_qty",t.value.putaway_qty),a.append("put_away_data",JSON.stringify({order_id:t.value.order_id,sku_no:t.value.sku_no,pick_qty:t.value.pick_qty,bin_id:t.value.bin_id,bin_tag_id:t.value.bin_tag_id,put_away_qty:t.value.putaway_qty})),this.showLoader=!0,this.isEditing?this.putawayService.editPutAway(this.editId,a).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1})):this.putawayService.addPutAway(a).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1}))}}},{key:"back",value:function(){this.location.back()}},{key:"getOrderDetails",value:function(){var t=this;this.subscription=this.dataService.OrderDetails.subscribe((function(e){e&&(t.OrderDetails=e)}))}},{key:"calPutawayQuantity",value:function(){var t=Number(this.addForm.value.qty/this.addForm.value.putaway_qty);isFinite(t)?this.addForm.patchValue({pick_qty:t}):this.addForm.patchValue({pick_qty:"0"})}},{key:"calNoPutaway",value:function(){var t=Number(this.addForm.value.qty/this.addForm.value.pick_qty);isFinite(t)?this.addForm.patchValue({putaway_qty:t}):this.addForm.patchValue({putaway_qty:"0"})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Mb(r.e),s.Mb(r.a),s.Mb(o.e),s.Mb(i.h),s.Mb(b.a),s.Mb(u.a))},_.\u0275cmp=s.Gb({type:_,selectors:[["app-add-put-away"]],decls:85,vars:16,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate",""],["elseTemplate",""],["type","text","placeholder","",1,"form-control",3,"formControl"],["bindLabel","label","bindValue","value","placeholder","Select SKU No",3,"formControl","items","change"],["bindLabel","label","bindValue","value","placeholder","Select Bin",3,"formControl","items","change"],["type","text","placeholder","","disabled","",1,"form-control",3,"formControl"],["type","text","placeholder","","disabled","",1,"form-control"],["number","","type","text","placeholder","",1,"form-control",3,"formControl","input"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],["bindLabel","label","bindValue","value","placeholder","Select Order Number",3,"formControl","items","change"],["disabled","",1,"form-control"],["default","","selected","true","disabled","","hidden","","value","OrderDetails?.po_no"]],template:function(t,e){if(1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"h2",4),s.Cc(5),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"form",6),s.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),s.Sb(8,"div",7),s.Sb(9,"div"),s.Sb(10,"div",8),s.Sb(11,"label",9),s.Cc(12,"Order Number "),s.Sb(13,"em"),s.Cc(14,"*"),s.Rb(),s.Rb(),s.Sb(15,"div",10),s.Ac(16,y,1,0,"ng-container",11),s.Ac(17,f,1,2,"ng-template",null,12,s.Bc),s.Ac(19,m,3,1,"ng-template",null,13,s.Bc),s.Rb(),s.Rb(),s.Sb(21,"div",8),s.Sb(22,"label",9),s.Cc(23,"Transfer Order No "),s.Sb(24,"em"),s.Cc(25,"*"),s.Rb(),s.Rb(),s.Sb(26,"div",10),s.Nb(27,"input",14),s.Rb(),s.Rb(),s.Sb(28,"div",8),s.Sb(29,"label",9),s.Cc(30,"Case No"),s.Rb(),s.Sb(31,"div",10),s.Nb(32,"input",14),s.Rb(),s.Rb(),s.Sb(33,"div",8),s.Sb(34,"label",9),s.Cc(35,"SKU "),s.Sb(36,"em"),s.Cc(37,"*"),s.Rb(),s.Rb(),s.Sb(38,"div",10),s.Sb(39,"ng-select",15),s.ac("change",(function(t){return e.setProductDetail(t)})),s.Rb(),s.Rb(),s.Rb(),s.Sb(40,"div",8),s.Sb(41,"label",9),s.Cc(42,"Bin "),s.Sb(43,"em"),s.Cc(44,"*"),s.Rb(),s.Rb(),s.Sb(45,"div",10),s.Sb(46,"ng-select",16),s.ac("change",(function(t){return e.setBinDetail(t)})),s.Rb(),s.Rb(),s.Rb(),s.Sb(47,"div",8),s.Sb(48,"label",9),s.Cc(49,"Location"),s.Rb(),s.Sb(50,"div",10),s.Nb(51,"input",17),s.Rb(),s.Rb(),s.Sb(52,"div",8),s.Sb(53,"label",9),s.Cc(54,"Total Quantity "),s.Sb(55,"em"),s.Cc(56,"*"),s.Rb(),s.Rb(),s.Sb(57,"div",10),s.Nb(58,"input",17),s.Rb(),s.Rb(),s.Sb(59,"div",8),s.Sb(60,"label",9),s.Cc(61,"Open Quantity "),s.Sb(62,"em"),s.Cc(63,"*"),s.Rb(),s.Rb(),s.Sb(64,"div",10),s.Nb(65,"input",18),s.Rb(),s.Rb(),s.Sb(66,"div",8),s.Sb(67,"label",9),s.Cc(68,"Putaway Quantity "),s.Sb(69,"em"),s.Cc(70,"*"),s.Rb(),s.Rb(),s.Sb(71,"div",10),s.Sb(72,"input",19),s.ac("input",(function(){return e.calPutawayQuantity()})),s.Rb(),s.Rb(),s.Rb(),s.Sb(73,"div",8),s.Sb(74,"label",9),s.Cc(75,"No of Putaway "),s.Sb(76,"em"),s.Cc(77,"*"),s.Rb(),s.Rb(),s.Sb(78,"div",10),s.Sb(79,"input",19),s.ac("input",(function(){return e.calNoPutaway()})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(80,"div",20),s.Sb(81,"button",21),s.ac("click",(function(){return e.back()})),s.Cc(82,"Cancel"),s.Rb(),s.Sb(83,"button",22),s.Cc(84,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){var a=s.sc(18),i=s.sc(20);s.zb(5),s.Fc("",e.isEditing?"Update":"Generate"," ",e.PageTitle,""),s.zb(2),s.jc("formGroup",e.addForm),s.zb(9),s.jc("ngIf",e.OrderId_show)("ngIfThen",a)("ngIfElse",i),s.zb(11),s.jc("formControl",e.addForm.controls.transfer_order_no),s.zb(5),s.jc("formControl",e.addForm.controls.case_no),s.zb(7),s.jc("formControl",e.addForm.controls.sku_no)("items",e.skuListArray),s.zb(7),s.jc("formControl",e.addForm.controls.bin_id)("items",e.binListArray),s.zb(5),s.jc("formControl",e.addForm.controls.location),s.zb(7),s.jc("formControl",e.addForm.controls.qty),s.zb(14),s.jc("formControl",e.addForm.controls.putaway_qty),s.zb(7),s.jc("formControl",e.addForm.controls.pick_qty)}},directives:[o.v,o.p,l.a,o.j,i.l,o.c,o.o,o.g,p.a,d.a,h.a,o.r,o.u],encapsulation:2}),_);a.d(e,"AddPutAwayModule",(function(){return R}));var S,g=[{path:"",component:v},{path:":id",component:v}],R=((S=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:S}),S.\u0275inj=s.Jb({factory:function(t){return new(t||S)},providers:[u.a],imports:[[i.b,o.l,o.s,n.a,d.b,c.a,r.i.forChild(g)]]}),S)}}]);