(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"/rvd":function(t,e,i){"use strict";i.r(e);var a=i("ofXK"),r=i("tyNb"),s=i("g3N6"),n=i("uq2c"),o=i("OTx7"),d=i("PCNd"),c=i("Vr6k"),b=i("3Pt+"),l=i("QSzr"),h=i("FasR"),p=i("fXoL"),u=i("c8VH"),g=i("AytR"),m=i("tk/3");let S=(()=>{class t{constructor(t){this.http=t,this.API_URL=g.a.APIEndpoint}getShippingAddressList(t){return this.http.get(`${this.API_URL}/shipping-address`,{params:t})}addShippingAddress(t){return this.http.post(`${this.API_URL}/shipping-address`,t)}editShippingAddress(t,e){return this.http.put(`${this.API_URL}/shipping-address/${t}`,e)}getShippingAddressById(t,e=null){return this.http.get(`${this.API_URL}/shipping-address/${t}`,{params:e})}getMasterData(){return this.http.get(`${this.API_URL}/shipping-address/master-data`)}}return t.\u0275fac=function(e){return new(e||t)(p.Wb(m.b))},t.\u0275prov=p.Ib({token:t,factory:t.\u0275fac}),t})();var f=i("jTkZ"),v=i("Eb8l"),y=i("LPFR"),R=i("Pbud");function C(t,e){if(1&t){const t=p.Tb();p.Sb(0,"pagination",11),p.ac("onPageChange",(function(e){return p.uc(t),p.cc().getPage(e)})),p.Rb()}if(2&t){const t=p.cc();p.jc("paginationList",t.pagination)("currentPage",t.currentPage)}}let _=(()=>{class t{constructor(t,e){this.paginationService=t,this.shippingaddressService=e,this.PageTitle="Manage Shipping Address",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.headerData=[]}ngOnInit(){this.loadform=!1,this.setHeaderData(),this.getObjects()}setHeaderData(){this.headerData.push(new h.h({label:"Client",key:"client.label"}),new h.h({label:"City",key:"city"}),new h.h({label:"State",key:"state"}),new h.h({label:"Pincode",key:"pin_code"}),new h.h({label:"Country",key:"country_name"}),new h.h({label:"Is Default",key:"is_default"}));let t=new h.a({edit:{path:"/manage/shipping-address/edit/",id:"shipping_address_id"},delete:{path:"shipping-address/",id:"shipping_address_id"}});this.headerData.push(t)}getObjects(){const t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.shippingaddressService.getShippingAddressList(t).subscribe(t=>{this.loadingState=!1,t.success?(this.objectArray=t.data.list,this.showPagination=!0,this.pagination=this.paginationService.getPager(t.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},t=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(t){this.currentPage=t,this.getObjects()}searchObject(t){this.searchText=t,this.currentPage=1,this.getObjects()}onReloadEvent(){this.getObjects()}}return t.\u0275fac=function(e){return new(e||t)(p.Mb(u.a),p.Mb(S))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-shipping-address-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"h2",3),p.Cc(4),p.Rb(),p.Sb(5,"div",4),p.Sb(6,"search-box",5),p.ac("text",(function(t){return e.searchObject(t)})),p.Rb(),p.Rb(),p.Sb(7,"div",4),p.Nb(8,"app-btn-add",6),p.Rb(),p.Rb(),p.Rb(),p.Sb(9,"div",7),p.Sb(10,"div",8),p.Sb(11,"app-table-list",9),p.ac("reloadEvent",(function(){return e.onReloadEvent()})),p.Rb(),p.Ac(12,C,1,2,"pagination",10),p.Rb(),p.Rb(),p.Rb()),2&t&&(p.zb(4),p.Dc(e.PageTitle),p.zb(2),p.jc("placeholder","Search Here..."),p.zb(2),p.jc("btnName","Add Shipping Address")("editData","/manage/shipping-address/add"),p.zb(3),p.jc("headerData",e.headerData)("rawData",e.objectArray),p.zb(1),p.jc("ngIf",e.showPagination))},directives:[f.a,v.a,y.a,a.l,R.a],encapsulation:2}),t})();var w=i("8cFx"),P=i("HOh6"),j=i("ZOsW"),L=i("UaFz"),A=i("/SVk");function k(t,e){if(1&t&&p.Nb(0,"span",25),2&t){const t=p.cc();p.jc("innerHTML",t.formErrors.state,p.vc)}}const E=function(t){return{"has-error":t}},I=function(t){return{"qt-loader qt-loader-mini qt-loader-left":t}};let z=(()=>{class t{constructor(t,e,i,a,r){this.router=t,this.activatedRoute=e,this.fb=i,this.shippingaddressService=a,this.commonservice=r,this.PageTitle="Shipping Address",this.loadingState=!1,this.showLoader=!1,this.formErrors={state:null,apierror:null},this.isEditing=!1,this.editId=null,this.countryListArray=[],this.clientListArray=[],this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({city:[null,b.t.compose([b.t.required])],state:[null,b.t.compose([b.t.required])],street_address:[null],country_name:[""],country_id:[null,b.t.compose([b.t.required])],pin_code:[null,b.t.compose([b.t.required])],is_default:[!1,b.t.compose([b.t.required])],client_id:[null,b.t.compose([b.t.required])]})}ngOnInit(){this.getCountryList(),this.getMasterData(),this.isEditing&&this.getEditObject()}getCountryList(){this.commonservice.getCountryList().subscribe(t=>{t.success&&(this.countryListArray=t.data.country_list)})}getMasterData(){this.shippingaddressService.getMasterData().subscribe(t=>{t.success&&(this.clientListArray=t.data.client)})}getEditObject(){this.shippingaddressService.getShippingAddressById(this.editId).subscribe(t=>{t.success?this.addForm.patchValue(t.data):this.router.navigateByUrl("/manage/shipping-address")})}getCountryName(t){this.addForm.patchValue({country_name:t.label})}submitForm(t){if(t.valid){this.showLoader=!0;const e=new FormData;e.append("client_id",t.value.client_id),e.append("city",t.value.city),e.append("state",t.value.state),e.append("country_name",t.value.country_name),e.append("country_id",t.value.country_id),e.append("pin_code",t.value.pin_code),e.append("street_address",t.value.street_address),e.append("is_default",t.value.is_default),e.append("order_type_code",t.value.order_type_code),this.isEditing?this.shippingaddressService.editShippingAddress(this.editId,e).subscribe(t=>{this.showLoader=!1,t.success?this.router.navigateByUrl("/manage/shipping-address"):t.error.map(e=>{e.hasOwnProperty("state")?this.formErrors.state=e.state:this.formErrors.apierror=`* ${t.error}`})},t=>{this.showLoader=!1}):this.shippingaddressService.addShippingAddress(e).subscribe(t=>{this.showLoader=!1,t.success?this.router.navigateByUrl("/manage/shipping-address"):t.error.map(e=>{e.hasOwnProperty("state")?this.formErrors.state=e.state:this.formErrors.apierror=`* ${t.error}`})},t=>{this.showLoader=!1})}}}return t.\u0275fac=function(e){return new(e||t)(p.Mb(r.e),p.Mb(r.a),p.Mb(b.e),p.Mb(S),p.Mb(w.a))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-shipping-address-add"]],decls:68,vars:20,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row","align-items-center"],[1,"control-label","text-md-right","col-md-4","col-lg-3","mb-0"],[1,"col-md-5"],["bindLabel","label","bindValue","value","placeholder","Select Client",3,"formControl","items"],["bindLabel","label","bindValue","value","placeholder","Select Country",3,"formControl","items","change"],[1,"col-md-5",3,"ngClass"],["type","text","placeholder","",1,"form-control",3,"formControl"],["class","help-block",3,"innerHTML",4,"ngIf"],["number","","type","text","placeholder","",1,"form-control",3,"formControl"],[1,"form-check","form-check-inline","mr-0"],[1,"checkbox-container","mt-2"],["type","checkbox","value","all",1,"form-check-input",3,"formControl"],[1,"checkmark"],["rows","2",1,"form-control",3,"formControl"],[1,"text-right","border-top","pt-4","mt-5","card-footer"],["type","button","routerLink","/manage/shipping-address",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"]],template:function(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"h2",4),p.Cc(5),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",5),p.Sb(7,"form",6),p.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),p.Sb(8,"div",7),p.Sb(9,"div"),p.Sb(10,"div",8),p.Sb(11,"label",9),p.Cc(12," Client "),p.Sb(13,"em"),p.Cc(14,"*"),p.Rb(),p.Rb(),p.Sb(15,"div",10),p.Nb(16,"ng-select",11),p.Rb(),p.Rb(),p.Sb(17,"div",8),p.Sb(18,"label",9),p.Cc(19," Country "),p.Sb(20,"em"),p.Cc(21,"*"),p.Rb(),p.Rb(),p.Sb(22,"div",10),p.Sb(23,"ng-select",12),p.ac("change",(function(t){return e.getCountryName(t)})),p.Rb(),p.Rb(),p.Rb(),p.Sb(24,"div",8),p.Sb(25,"label",9),p.Cc(26,"State "),p.Sb(27,"em"),p.Cc(28,"*"),p.Rb(),p.Rb(),p.Sb(29,"div",13),p.Nb(30,"input",14),p.Ac(31,k,1,1,"span",15),p.Rb(),p.Rb(),p.Sb(32,"div",8),p.Sb(33,"label",9),p.Cc(34," Pincode "),p.Sb(35,"em"),p.Cc(36,"*"),p.Rb(),p.Rb(),p.Sb(37,"div",10),p.Nb(38,"input",16),p.Rb(),p.Rb(),p.Sb(39,"div",8),p.Sb(40,"label",9),p.Cc(41," City "),p.Sb(42,"em"),p.Cc(43,"*"),p.Rb(),p.Rb(),p.Sb(44,"div",10),p.Nb(45,"input",14),p.Rb(),p.Rb(),p.Sb(46,"div",8),p.Sb(47,"label",9),p.Cc(48," is Default "),p.Sb(49,"em"),p.Cc(50,"*"),p.Rb(),p.Rb(),p.Sb(51,"div",10),p.Sb(52,"div",17),p.Sb(53,"div",18),p.Nb(54,"input",19),p.Nb(55,"span",20),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(56,"div",8),p.Sb(57,"label",9),p.Cc(58," Address "),p.Sb(59,"em"),p.Cc(60,"*"),p.Rb(),p.Rb(),p.Sb(61,"div",10),p.Nb(62,"textarea",21),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(63,"div",22),p.Sb(64,"button",23),p.Cc(65,"Cancel"),p.Rb(),p.Sb(66,"button",24),p.Cc(67,"Submit"),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&t&&(p.zb(5),p.Fc("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),p.zb(2),p.jc("formGroup",e.addForm),p.zb(9),p.jc("formControl",e.addForm.controls.client_id)("items",e.clientListArray),p.zb(7),p.jc("formControl",e.addForm.controls.country_id)("items",e.countryListArray),p.zb(6),p.jc("ngClass",p.nc(16,E,e.formErrors.state)),p.zb(1),p.jc("formControl",e.addForm.controls.state),p.zb(1),p.jc("ngIf",e.formErrors.state),p.zb(7),p.jc("formControl",e.addForm.controls.pin_code),p.zb(7),p.jc("formControl",e.addForm.controls.city),p.zb(9),p.jc("formControl",e.addForm.controls.is_default),p.zb(8),p.jc("formControl",e.addForm.controls.street_address),p.zb(4),p.jc("ngClass",p.nc(18,I,e.showLoader))("disabled",e.showLoader))},directives:[b.v,b.p,P.a,b.j,j.a,b.o,b.g,L.a,a.j,b.c,a.l,A.a,b.a,r.f],encapsulation:2}),t})();i.d(e,"ShippingAddressModule",(function(){return F}));const D=[{path:"",component:_,data:{title:"shipping_address_list"}},{path:"add",component:z,data:{title:"add_shipping_address"}},{path:"edit/:id",component:z,data:{title:"edit_shipping_address"}}];let F=(()=>{class t{}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(e){return new(e||t)},providers:[S],imports:[[a.b,r.i.forChild(D),o.a,s.a,n.a,b.l,b.s,c.a,l.a,d.a,j.b]]}),t})()}}]);