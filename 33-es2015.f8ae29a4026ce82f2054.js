(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{Od7E:function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),s=a("tyNb"),r=a("fXoL");let n=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.b,s.i]]}),t})();var c=a("jhRr"),d=a("QSzr"),o=a("OTx7"),l=a("zzOR"),b=a("FasR"),h=a("c8VH"),u=a("AwSQ"),g=a("ZOsW"),p=a("3Pt+"),v=a("jTkZ"),S=a("Eb8l"),_=a("LPFR"),f=a("Pbud");function w(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",4),r.Sb(1,"ng-select",15),r.ac("ngModelChange",(function(e){return r.uc(t),r.cc().satage_id=e}))("change",(function(){return r.uc(t),r.cc().getObjects()})),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.zb(1),r.jc("ngModel",t.satage_id)("items",t.stagesListArray)}}let j=(()=>{class t{constructor(t,e,a){this.paginationService=t,this.orderService=e,this.dataService=a,this.PageTitle="Manage Order",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.statusListArray=[],this.stagesListArray=[],this.headerData=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.status_id=1}ngOnInit(){this.getMasterData(),this.setHeaderData(),this.loadform=!1,this.getObjects()}getMasterData(){this.orderService.getOrderfilterData().subscribe(t=>{t.success&&(this.statusListArray=t.data.status,this.stagesListArray=t.data.status_type)})}setHeaderData(){this.headerData.push(new b.f({label:"Order #",key:"po_no",viewUrl:{path:"/inbound/order/view/",id:"po_id"}}),new b.c({label:"PO Date",key:"po_date"}),new b.e({label:"Case #",key:""}),new b.e({label:"Supplier",key:"supplier.label"}),new b.e({label:"Client",key:"client.label"}));let t=new b.a({edit:{path:"/inbound/order/edit/",id:"po_id"},view:{path:"/inbound/order/view/",id:"po_id"},delete:{path:"po/",id:"po_id"}});this.headerData.push(t)}getObjects(){const t={page:this.currentPage};this.status_id&&(t.po_status=this.status_id),this.satage_id&&this.status_id&&1==this.status_id&&(t.status_id=this.satage_id),this.searchText&&(t.search=this.searchText),this.orderService.getOrderList(t).subscribe(t=>{this.loadingState=!1,t.success&&t.data?(this.objectArray=t.data.list,this.pagination=this.paginationService.getPager(t.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},t=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(t){this.currentPage=t,this.getObjects()}onReloadEvent(){this.getObjects()}searchObject(t){this.searchText=t,this.currentPage=1,this.getObjects()}deleteObject(t){swal.fire({title:l.a.delete_header_text,text:l.a.delete_smalll_text,icon:l.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:l.a.delete_confirm_button,cancelButtonText:l.a.delete_cancel_button}).then(e=>{e.value&&this.orderService.deleteOrder(t.po_id).subscribe(t=>{t.success&&this.getObjects()})}).catch(swal.noop)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(h.a),r.Mb(c.a),r.Mb(u.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-order-list"]],decls:18,vars:11,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],["bindLabel","label","bindValue","value","placeholder","Select Status",2,"width","200px",3,"ngModel","items","ngModelChange","change"],["class","ml-3",4,"ngIf"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col","mt-1"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange"],["bindLabel","label","bindValue","value","placeholder","Select Stages",2,"width","200px",3,"ngModel","items","ngModelChange","change"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"h2",3),r.Cc(4),r.Rb(),r.Sb(5,"div",4),r.Sb(6,"ng-select",5),r.ac("ngModelChange",(function(t){return e.status_id=t}))("change",(function(){return e.getObjects()})),r.Rb(),r.Rb(),r.Ac(7,w,2,2,"div",6),r.Sb(8,"div",4),r.Sb(9,"search-box",7),r.ac("text",(function(t){return e.searchObject(t)})),r.Rb(),r.Rb(),r.Sb(10,"div",4),r.Nb(11,"app-btn-add",8),r.Rb(),r.Rb(),r.Rb(),r.Sb(12,"div",9),r.Sb(13,"div",10),r.Sb(14,"div",11),r.Sb(15,"div",12),r.Sb(16,"app-table-list",13),r.ac("reloadEvent",(function(){return e.onReloadEvent()})),r.Rb(),r.Sb(17,"pagination",14),r.ac("onPageChange",(function(t){return e.getPage(t)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.zb(4),r.Dc(e.PageTitle),r.zb(2),r.jc("ngModel",e.status_id)("items",e.statusListArray),r.zb(1),r.jc("ngIf",1==e.status_id),r.zb(2),r.jc("placeholder","Search Here..."),r.zb(2),r.jc("btnName","Add Order")("editData","/inbound/order/add"),r.zb(5),r.jc("headerData",e.headerData)("rawData",e.objectArray),r.zb(1),r.jc("paginationList",e.pagination)("currentPage",e.currentPage))},directives:[g.a,p.o,p.q,i.l,v.a,S.a,_.a,f.a],encapsulation:2}),t})();var y=a("g3N6"),O=a("uq2c");a.d(e,"OrderListModule",(function(){return R}));const m=[{path:"",component:j}];let R=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[c.a],imports:[[i.b,s.i.forChild(m),n,o.a,d.a,y.a,O.a,p.l,g.b]]}),t})()}}]);