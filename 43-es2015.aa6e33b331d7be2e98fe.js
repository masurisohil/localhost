(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{uxlB:function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),r=a("tyNb"),o=a("g3N6"),s=a("uq2c"),n=a("OTx7"),b=a("3Pt+"),c=a("fXoL"),d=a("AytR"),l=a("tk/3");let h=(()=>{class t{constructor(t){this.http=t,this.API_URL=d.a.APIEndpoint}getBayList(t){return this.http.get(`${this.API_URL}/bay`,{params:t})}addBay(t){return this.http.post(`${this.API_URL}/bay`,t)}editBay(t,e){return this.http.put(`${this.API_URL}/bay/${t}`,e)}getBayById(t,e=null){return this.http.get(`${this.API_URL}/bay/${t}`,{params:e})}getMasterData(){return this.http.get(`${this.API_URL}/bay/master-data`)}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(l.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac}),t})();var u=a("8cFx"),p=a("HOh6"),y=a("UaFz"),g=a("ZOsW");function m(t,e){if(1&t&&c.Nb(0,"span",20),2&t){const t=c.cc();c.ic("innerHTML",t.formErrors.bay_code,c.uc)}}function v(t,e){if(1&t&&(c.Qb(0),c.Nb(1,"img",21),c.Pb()),2&t){const t=c.cc();c.zb(1),c.ic("src",t.barCodeFile,c.vc)}}function f(t,e){1&t&&c.Nb(0,"img",22)}const R=function(t){return{"has-error":t}},S=function(t){return{"qt-loader qt-loader-mini qt-loader-left":t}};let _=(()=>{class t{constructor(t,e,a,i,r){this.router=t,this.activatedRoute=e,this.fb=a,this.bayservice=i,this.commonservice=r,this.PageTitle="Bay",this.aisleListArray=[],this.addNewRadio=!1,this.loadingState=!1,this.showLoader=!1,this.formErrors={bay_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({bay_name:[null,b.t.compose([b.t.required])],bay_code:[null,b.t.compose([b.t.required])],aisle_id:[null,b.t.compose([b.t.required])],bay_bar_code:[null]})}ngOnInit(){this.getMasterData(),this.isEditing?this.getEditObject():this.getAreaBarcode()}getMasterData(){this.bayservice.getMasterData().subscribe(t=>{t.success&&(this.aisleListArray=t.data.aisle)})}getAreaBarcode(){this.commonservice.getGenerateBarcode().subscribe(t=>{this.addForm.patchValue({bay_bar_code:t.type});const e=window.URL||window.webkitURL;document.getElementById("barCodeShow").src=e.createObjectURL(t),this.selectedFile=new File([t],"noname.jpeg",{type:"image/jpeg"})})}getEditObject(){this.bayservice.getBayById(this.editId).subscribe(t=>{t.success?(this.addForm.patchValue(t.data),this.barCodeFile=t.data.bay_bar_code_image):this.router.navigateByUrl("/manage/bay")})}submitForm(t){if(t.valid){this.showLoader=!0;const e=new FormData;e.append("bay_name",t.value.bay_name),e.append("bay_code",t.value.bay_code),e.append("aisle_id",t.value.aisle_id),e.append("bay_bar_code",t.value.bay_bar_code),this.selectedFile&&e.append("file",this.selectedFile),this.isEditing?this.bayservice.editBay(this.editId,e).subscribe(t=>{this.showLoader=!1,t.success?this.router.navigateByUrl("/manage/bay"):t.error.map(e=>{e.hasOwnProperty("bay_code")?this.formErrors.bay_code=e.bay_code:this.formErrors.apierror=`* ${t.error}`})},t=>{this.showLoader=!1}):this.bayservice.addBay(e).subscribe(t=>{this.showLoader=!1,t.success?this.router.navigateByUrl("/manage/bay"):t.error.map(e=>{e.hasOwnProperty("bay_code")?this.formErrors.bay_code=e.bay_code:this.formErrors.apierror=`* ${t.error}`})},t=>{this.showLoader=!1})}}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(r.e),c.Mb(r.a),c.Mb(b.e),c.Mb(h),c.Mb(u.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-add-bay"]],decls:43,vars:17,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row","align-items-center"],[1,"control-label","text-md-right","col-md-4","col-lg-3","mb-0"],[1,"col-md-5"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"col-md-5",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Aisle",3,"formControl","items"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"text-right","border-top","pt-4","mt-5","card-footer"],["type","button","routerLink","/manage/bay",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"],["alt","","sizes","","srcset","",1,"bcode",3,"src"],["id","barCodeShow","alt","","sizes","","srcset","",1,"bcode"]],template:function(t,e){if(1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"h2",4),c.Bc(5),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(6,"div",5),c.Sb(7,"form",6),c.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),c.Sb(8,"div",7),c.Sb(9,"div"),c.Sb(10,"div",8),c.Sb(11,"label",9),c.Bc(12,"Bay Name "),c.Sb(13,"em"),c.Bc(14,"*"),c.Rb(),c.Rb(),c.Sb(15,"div",10),c.Nb(16,"input",11),c.Rb(),c.Rb(),c.Sb(17,"div",8),c.Sb(18,"label",9),c.Bc(19,"Bay Code "),c.Sb(20,"em"),c.Bc(21,"*"),c.Rb(),c.Rb(),c.Sb(22,"div",12),c.Nb(23,"input",11),c.zc(24,m,1,1,"span",13),c.Rb(),c.Rb(),c.Sb(25,"div",8),c.Sb(26,"label",9),c.Bc(27," Aisle Name "),c.Sb(28,"em"),c.Bc(29,"*"),c.Rb(),c.Rb(),c.Sb(30,"div",10),c.Nb(31,"ng-select",14),c.Rb(),c.Rb(),c.Sb(32,"div",8),c.Nb(33,"label",9),c.Sb(34,"div",10),c.zc(35,v,2,1,"ng-container",15),c.zc(36,f,1,0,"ng-template",null,16,c.Ac),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(38,"div",17),c.Sb(39,"button",18),c.Bc(40,"Cancel"),c.Rb(),c.Sb(41,"button",19),c.Bc(42,"Submit"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t){const t=c.rc(37);c.zb(5),c.Ec("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),c.zb(2),c.ic("formGroup",e.addForm),c.zb(9),c.ic("formControl",e.addForm.controls.bay_name),c.zb(6),c.ic("ngClass",c.mc(13,R,e.formErrors.bay_code)),c.zb(1),c.ic("formControl",e.addForm.controls.bay_code),c.zb(1),c.ic("ngIf",e.formErrors.bay_code),c.zb(7),c.ic("formControl",e.addForm.controls.aisle_id)("items",e.aisleListArray),c.zb(4),c.ic("ngIf",e.isEditing)("ngIfElse",t),c.zb(6),c.ic("ngClass",c.mc(15,S,e.showLoader))("disabled",e.showLoader)}},directives:[b.v,b.p,p.a,b.j,b.c,b.o,b.g,y.a,i.j,i.l,g.a,r.f],encapsulation:2}),t})();var w=a("FasR"),B=a("c8VH"),P=a("jTkZ"),A=a("Eb8l"),j=a("LPFR"),L=a("Pbud");function C(t,e){if(1&t){const t=c.Tb();c.Sb(0,"pagination",11),c.ac("onPageChange",(function(e){return c.tc(t),c.cc().getPage(e)})),c.Rb()}if(2&t){const t=c.cc();c.ic("paginationList",t.pagination)("currentPage",t.currentPage)}}let I=(()=>{class t{constructor(t,e){this.paginationService=t,this.bayservice=e,this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.showPagination=!1,this.PageTitle="Manage Bay",this.headerData=[]}ngOnInit(){this.loadform=!1,this.setHeaderData(),this.getObjects()}setHeaderData(){this.headerData.push(new w.f({label:"Bay Name",key:"bay_name"}),new w.f({label:"Bay Code",key:"bay_code"}),new w.f({label:"Bar Code No",key:"bay_bar_code"}));let t=new w.a({edit:{path:"/manage/bay/edit/",id:"bay_id"},view:{path:"/manage/bay/view/",id:"bay_id"},delete:{path:"bay/",id:"bay_id"}});this.headerData.push(t)}getObjects(){const t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.bayservice.getBayList(t).subscribe(t=>{this.loadingState=!1,t.success?(this.objectArray=t.data.list,this.showPagination=!0,this.pagination=this.paginationService.getPager(t.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},t=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(t){this.currentPage=t,this.getObjects()}searchObject(t){this.searchText=t,this.currentPage=1,this.getObjects()}onReloadEvent(){this.getObjects()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(B.a),c.Mb(h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-bay-list"]],decls:13,vars:7,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[3,"paginationList","currentPage","onPageChange"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h2",3),c.Bc(4),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"search-box",5),c.ac("text",(function(t){return e.searchObject(t)})),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Nb(8,"app-btn-add",6),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"div",8),c.Sb(11,"app-table-list",9),c.ac("reloadEvent",(function(){return e.onReloadEvent()})),c.Rb(),c.zc(12,C,1,2,"pagination",10),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.zb(4),c.Cc(e.PageTitle),c.zb(2),c.ic("placeholder","Search Here..."),c.zb(2),c.ic("btnName","Add Bay")("editData","/manage/bay/add"),c.zb(3),c.ic("headerData",e.headerData)("rawData",e.objectArray),c.zb(1),c.ic("ngIf",e.showPagination))},directives:[P.a,A.a,j.a,i.l,L.a],encapsulation:2}),t})();var z=a("PCNd"),E=a("Vr6k"),N=a("QSzr");let M=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.bayservice=e,this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.bayservice.getBayById(this.viewId).subscribe(t=>{t.success&&(this.objectArray=t.data)})}VoucherSourcetoPrint(){var t,e,a;return`\n              <html>\n              <head>\n                <script>\n                  function step1() {\n                    setTimeout('step2()', 10);\n                  }\n                  function step2() {\n                    window.print(); window.close()\n                  }\n                <\/script>\n              </head>\n\n              <body onload='step1()'>\n                <h3>Bay Name:- ${null===(t=this.objectArray)||void 0===t?void 0:t.bay_name}</h3>\n                <h3>Bay Code:- ${null===(e=this.objectArray)||void 0===e?void 0:e.bay_code}</h3>\n                <img src='${null===(a=this.objectArray)||void 0===a?void 0:a.bay_bar_code_image}' />\n              </body>\n              </html>\n        `}VoucherPrint(){window.print()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(r.a),c.Mb(h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-bay-view"]],decls:32,vars:4,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],[1,"ml-3"],[1,"btn","btn-secondary",3,"click"],[1,"card"],[1,"card-body"],["id","details","role","tabpanel","aria-labelledby","details-tab",1,"tab-pane","fade","show","active"],[1,"row","mt-4"],[1,"col-md-4"],[1,"text-muted","mb-1","font-weight-bold"],[1,"col"],["alt","",3,"src"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h2",3),c.Bc(4,"Aisle Details"),c.Rb(),c.Nb(5,"div",4),c.Sb(6,"div",4),c.Sb(7,"button",5),c.ac("click",(function(){return e.VoucherPrint()})),c.Bc(8,"Print"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Sb(10,"div",7),c.Sb(11,"div",8),c.Sb(12,"div",9),c.Sb(13,"div",10),c.Sb(14,"label",11),c.Bc(15,"Bay Name"),c.Rb(),c.Sb(16,"div"),c.Bc(17),c.Rb(),c.Rb(),c.Sb(18,"div",10),c.Sb(19,"label",11),c.Bc(20,"Bay Code"),c.Rb(),c.Sb(21,"div"),c.Bc(22),c.Rb(),c.Rb(),c.Sb(23,"div",10),c.Sb(24,"label",11),c.Bc(25,"Bar code No"),c.Rb(),c.Sb(26,"div"),c.Bc(27),c.Rb(),c.Rb(),c.Rb(),c.Sb(28,"div",9),c.Sb(29,"div",12),c.Sb(30,"div"),c.Nb(31,"img",13),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.zb(17),c.Cc(null==e.objectArray?null:e.objectArray.bay_name),c.zb(5),c.Cc(null==e.objectArray?null:e.objectArray.bay_code),c.zb(5),c.Cc(null==e.objectArray?null:e.objectArray.bay_bar_code),c.zb(4),c.ic("src",null==e.objectArray?null:e.objectArray.bay_bar_code_image,c.vc))},encapsulation:2}),t})();a.d(e,"BayModule",(function(){return O}));const F=[{path:"",component:I,data:{title:"bay_list"}},{path:"add",component:_,data:{title:"add_bay"}},{path:"edit/:id",component:_,data:{title:"edit_bay"}},{path:"view/:id",component:M,data:{title:"view_bay"}}];let O=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},providers:[h],imports:[[i.b,r.i.forChild(F),n.a,o.a,s.a,b.l,b.s,E.a,z.a,g.b,N.a]]}),t})()}}]);