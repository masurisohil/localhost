(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{JKNh:function(e,t,a){"use strict";a.r(t);var i=a("ofXK"),n=a("zzOR"),r=a("FasR"),s=a("CWaH"),o=a("fXoL"),c=a("c8VH"),l=a("jhRr"),d=a("AwSQ"),h=a("LPFR"),p=a("Pbud");let u=(()=>{class e{constructor(e,t,a){this.paginationService=e,this.orderService=t,this.dataService=a,this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.headerData=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null}ngOnInit(){this.setHeaderData(),this.loadform=!1,this.getObjects()}setHeaderData(){this.headerData.push(new r.g({label:"Order #",key:"po_no",viewUrl:{path:"/inbound/order/view/",id:"po_id"}}),new r.c({label:"PO Date",key:"po_date"}),new r.f({label:"Case #",key:""}),new r.f({label:"Supplier",key:"supplier.label"}),new r.f({label:"Client",key:"client.label"}));let e=new r.a({edit:{path:"/inbound/order/edit/",id:"po_id"},view:{path:"/inbound/order/view/",id:"po_id"},delete:{path:"po/",id:"po_id"}});this.headerData.push(e)}getObjects(){const e={page:this.currentPage};e.status_id=s.a.Pending,this.searchText&&(e.search=this.searchText),this.orderService.getOrderList(e).subscribe(e=>{this.loadingState=!1,e.success&&e.data?(this.objectArray=e.data.list,this.pagination=this.paginationService.getPager(e.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},e=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(e){this.currentPage=e,this.getObjects()}onReloadEvent(){this.getObjects()}searchObject(e){this.searchText=e,this.currentPage=1,this.getObjects()}deleteObject(e){swal.fire({title:n.a.delete_header_text,text:n.a.delete_smalll_text,icon:n.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:n.a.delete_confirm_button,cancelButtonText:n.a.delete_cancel_button}).then(t=>{t.value&&this.orderService.deleteOrder(e.po_id).subscribe(e=>{e.success&&this.getObjects()})}).catch(swal.noop)}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(c.a),o.Mb(l.a),o.Mb(d.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-pending"]],decls:2,vars:4,consts:[[3,"headerData","rawData","reloadEvent"],[3,"paginationList","currentPage","onPageChange"]],template:function(e,t){1&e&&(o.Sb(0,"app-table-list",0),o.ac("reloadEvent",(function(){return t.onReloadEvent()})),o.Rb(),o.Sb(1,"pagination",1),o.ac("onPageChange",(function(e){return t.getPage(e)})),o.Rb()),2&e&&(o.ic("headerData",t.headerData)("rawData",t.objectArray),o.zb(1),o.ic("paginationList",t.pagination)("currentPage",t.currentPage))},directives:[h.a,p.a],encapsulation:2}),e})();var b=a("tyNb"),g=a("X5y9"),w=a("QSzr"),f=a("OTx7");a.d(t,"PendingModule",(function(){return _}));const v=[{path:"",component:u}];let _=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},providers:[l.a],imports:[[i.b,b.i.forChild(v),g.a,f.a,w.a]]}),e})()}}]);