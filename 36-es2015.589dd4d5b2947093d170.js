(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"19WJ":function(t,a,e){"use strict";e.r(a);var i=e("ofXK"),n=e("FasR"),o=e("fXoL"),c=e("tyNb"),s=e("c8VH"),r=e("Q05f"),d=e("AwSQ"),l=e("jTkZ"),h=e("Eb8l"),p=e("LPFR");let b=(()=>{class t{constructor(t,a,e,i){this.router=t,this.paginationService=a,this.companyService=e,this.dataService=i,this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.PageTitle="Company",this.headerData=[]}ngOnInit(){this.loadform=!1,this.setHeaderData(),this.getObjects()}setHeaderData(){this.headerData.push(new n.g({label:"Company Name",key:"company_name",viewUrl:{path:"/company/edit/",id:"company_id"}}),new n.h({label:"Company Email",key:"company_email"}));let t=new n.a({edit:{path:"/company/edit/",id:"company_id"},view:{path:"/company/view/",id:"company_id"}});this.headerData.push(t)}getObjects(){const t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.companyService.getCompanyList(t).subscribe(t=>{this.loadingState=!1,t.success?(this.objectArray=t.data.list,this.pagination=this.paginationService.getPager(t.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},t=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(t){this.currentPage=t,this.getObjects()}searchObject(t){this.searchText=t,this.currentPage=1,this.getObjects()}onReloadEvent(){this.getObjects()}onClickEvent(t){this.onCompanySelect(t)}onCompanySelect(t){this.companyService.selectCompany(t.company_id).subscribe(t=>{t.success?(this.dataService.saveToken(t.data.Token.token),this.dataService.updateCompany(t.data.Company),this.router.navigateByUrl("/dashboard")):(this.objectArray=[],this.pagination=null)})}}return t.\u0275fac=function(a){return new(a||t)(o.Mb(c.e),o.Mb(s.a),o.Mb(r.a),o.Mb(d.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-company-list"]],decls:13,vars:6,consts:[[1,"container-fluid"],[1,"page-header"],[1,"row"],[1,"col","d-flex"],[1,"mr-auto"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent","clickEvent"]],template:function(t,a){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"div",3),o.Sb(4,"h2",4),o.Cc(5),o.Rb(),o.Sb(6,"div",5),o.Sb(7,"search-box",6),o.ac("text",(function(t){return a.searchObject(t)})),o.Rb(),o.Rb(),o.Sb(8,"div",5),o.Nb(9,"app-btn-add",7),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(10,"div",8),o.Sb(11,"div",9),o.Sb(12,"app-table-list",10),o.ac("reloadEvent",(function(){return a.onReloadEvent()}))("clickEvent",(function(t){return a.onClickEvent(t)})),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.zb(5),o.Dc(a.PageTitle),o.zb(2),o.jc("placeholder","Search Here..."),o.zb(2),o.jc("btnName","Add Company")("editData","/company/add"),o.zb(3),o.jc("headerData",a.headerData)("rawData",a.objectArray))},directives:[l.a,h.a,p.a],encapsulation:2}),t})();var m=e("KUiO"),u=e("uq2c"),y=e("g3N6"),g=e("OTx7");e.d(a,"CompanyListModule",(function(){return S}));const v=[{path:"",component:b,data:{title:"company_list"}},{path:"add",loadChildren:()=>Promise.all([e.e(1),e.e(7)]).then(e.bind(null,"SFaS")).then(t=>t.CompanyAddModule),data:{title:"add_company"}},{path:"edit/:id",loadChildren:()=>Promise.all([e.e(1),e.e(7)]).then(e.bind(null,"SFaS")).then(t=>t.CompanyAddModule),data:{title:"edit_company"}},{path:"view/:id",loadChildren:()=>e.e(37).then(e.bind(null,"ChnI")).then(t=>t.CompanyViewModule),data:{title:"company_list"}}];let S=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(a){return new(a||t)},imports:[[i.b,y.a,u.a,m.a,g.a,c.i.forChild(v)]]}),t})()}}]);