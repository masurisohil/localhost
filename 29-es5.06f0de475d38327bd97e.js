function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{x2YT:function(t,e,r){"use strict";r.r(e);var o=r("ofXK"),i=r("tyNb"),n=r("Jvtu"),a=r("3Pt+"),b=r("Vr6k"),c=r("PCNd"),d=r("fXoL"),s=r("ICGj"),l=r("HOh6"),u=r("UaFz");function f(t,e){if(1&t&&(d.Sb(0,"tr",33),d.Sb(1,"td"),d.Sb(2,"div",34),d.Cc(3),d.Rb(),d.Rb(),d.Sb(4,"td"),d.Nb(5,"input",35),d.Rb(),d.Sb(6,"td"),d.Nb(7,"input",36),d.Rb(),d.Sb(8,"td",23),d.Nb(9,"input",37),d.Rb(),d.Rb()),2&t){var r=e.index;d.jc("formGroupName",r),d.zb(3),d.Dc(r+1)}}var p,m=((p=function(){function t(e,r,o,i,n){_classCallCheck(this,t),this.activatedRoute=e,this.pickListService=r,this.location=o,this.fb=i,this.router=n,this.PageTitle="Genrate PickList ",this.exampleOptions={defaultDate:new Date,noCalendar:!0},this.orderDetails={},this.productList=[],this.addForm=this.fb.group({picked_by:[null,a.t.compose([a.t.required])],notes:[null],unload_detail:this.fb.array([])}),this.activatedRoute.snapshot.paramMap.get("id")&&(this.viewId=this.activatedRoute.snapshot.paramMap.get("id"))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getObject()}},{key:"back",value:function(){this.location.back()}},{key:"getObject",value:function(){var t=this;this.pickListService.getPickListReportsDetails(this.viewId).subscribe((function(e){e.success?(t.orderDetails=e.data.order_detail,t.productList=e.data.product,t.setData()):(t.orderDetails={},t.productList=[])}),(function(e){t.orderDetails={},t.productList=[]}))}},{key:"setData",value:function(){var t=this;if(this.addForm.patchValue({notes:this.orderDetails.notes,picked_by:this.orderDetails.picked_by}),this.productList.length>0){for(var e=this.addForm.get("unload_detail"),r=0;r<=e.length+1;r++)e.removeAt(r);this.productList.forEach((function(r,o){e.push(t.fb.group({pick_list_id:r.pick_list_id,sku_no:r.sku_no,product_name:r.product_name,product_qty:r.product_qty}))}))}}},{key:"submitForm",value:function(t){var e=this;if(t.valid){this.showLoader=!0;var r=new FormData;r.append("picked_by",t.value.picked_by),this.pickListService.getPickListSubmitReports(this.viewId,r).subscribe((function(t){e.showLoader=!1,t.success&&e.back()}),(function(t){e.showLoader=!1}))}}},{key:"addNewRow",value:function(){this.addForm.get("unload_detail").push(this.initRows())}},{key:"initRows",value:function(){return new a.i({pick_list_id:new a.f(""),sku_no:new a.f(""),product_name:new a.f(""),product_qty:new a.f(0,a.t.compose([a.t.required]))})}}]),t}()).\u0275fac=function(t){return new(t||p)(d.Mb(i.a),d.Mb(s.a),d.Mb(o.h),d.Mb(a.e),d.Mb(i.e))},p.\u0275cmp=d.Gb({type:p,selectors:[["app-generate-pick-list"]],decls:75,vars:10,consts:[[1,"container-fluid"],[1,"page-header","border-b"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],[1,"card-body"],["role","form",1,"form-horizontal","pb-4",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-7","pl-3"],[1,"col-6"],[1,"form-group"],[1,"control-label","text-md-right"],[1,""],["type","text","disabled","",1,"form-control",3,"value"],[1,"date-picker"],["disabled","",3,"setDate","config"],[1,"date-picker-icon"],[1,"fa","fa-calendar"],["rows","2",1,"form-control",3,"formControl"],[1,"row","mt-4"],[1,"table-responsive-md","mt-3"],[1,"table"],[1,"text-center"],["formArrayName","unload_detail"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-4","border","border-left-0","border-right-0","pt-4","pb-2"],[1,"col-md-6"],[1,"row","mt-2"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"text-right"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-secondary","ml-2"],[3,"formGroupName"],[1,"p-1"],["type","text","formControlName","sku_no","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_name","disabled","",1,"input_formarray","form-control"],["type","text","formControlName","product_qty","disabled","",1,"input_formarray","form-control"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"div",3),d.Sb(4,"h2",4),d.Cc(5),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(6,"div",5),d.Sb(7,"div",6),d.Sb(8,"form",7),d.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),d.Sb(9,"div",8),d.Sb(10,"div",9),d.Sb(11,"div",2),d.Sb(12,"div",10),d.Sb(13,"div",11),d.Sb(14,"label",12),d.Cc(15,"PO Date "),d.Sb(16,"em"),d.Cc(17,"*"),d.Rb(),d.Rb(),d.Sb(18,"div",13),d.Nb(19,"input",14),d.dc(20,"date"),d.Rb(),d.Rb(),d.Rb(),d.Sb(21,"div",10),d.Sb(22,"div",11),d.Sb(23,"label",12),d.Cc(24,"Date of Receipt "),d.Sb(25,"em"),d.Cc(26,"*"),d.Rb(),d.Rb(),d.Sb(27,"div",15),d.Nb(28,"ng2-flatpickr",16),d.Sb(29,"span",17),d.Nb(30,"span",18),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(31,"div",2),d.Sb(32,"div",3),d.Sb(33,"div",11),d.Sb(34,"label",12),d.Cc(35,"Notes"),d.Rb(),d.Nb(36,"textarea",19),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(37,"div",20),d.Sb(38,"div",3),d.Sb(39,"h5"),d.Cc(40,"Items"),d.Rb(),d.Sb(41,"div",21),d.Sb(42,"table",22),d.Sb(43,"thead"),d.Sb(44,"tr"),d.Sb(45,"th"),d.Cc(46,"No."),d.Rb(),d.Sb(47,"th"),d.Cc(48,"SKU no"),d.Rb(),d.Sb(49,"th"),d.Cc(50,"Product"),d.Rb(),d.Sb(51,"th",23),d.Cc(52,"Product Qty"),d.Rb(),d.Rb(),d.Rb(),d.Sb(53,"tbody",24),d.Ac(54,f,10,2,"tr",25),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(55,"div",26),d.Sb(56,"div",27),d.Sb(57,"h5"),d.Cc(58,"Picked By"),d.Rb(),d.Sb(59,"div",28),d.Sb(60,"div",27),d.Sb(61,"div",11),d.Sb(62,"label",12),d.Cc(63,"Picked by. "),d.Sb(64,"em"),d.Cc(65,"*"),d.Rb(),d.Rb(),d.Sb(66,"div",13),d.Nb(67,"input",29),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(68,"div",8),d.Sb(69,"div",3),d.Sb(70,"div",30),d.Sb(71,"button",31),d.ac("click",(function(){return e.back()})),d.Cc(72,"Cancel"),d.Rb(),d.Sb(73,"button",32),d.Cc(74,"Submit"),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.zb(5),d.Dc(e.PageTitle),d.zb(3),d.jc("formGroup",e.addForm),d.zb(11),d.jc("value",d.ec(20,8,null==e.orderDetails?null:e.orderDetails.sales_order_date)),d.zb(9),d.jc("setDate",null==e.orderDetails?null:e.orderDetails.receipt_date)("config",e.exampleOptions),d.zb(8),d.jc("formControl",e.addForm.controls.notes),d.zb(18),d.jc("ngForOf",e.addForm.controls.unload_detail.controls),d.zb(13),d.jc("formControl",e.addForm.controls.picked_by))},directives:[a.v,a.p,l.a,a.j,n.a,a.c,a.o,u.a,a.g,a.d,o.k,a.k,a.h],pipes:[o.d],styles:[".input_formarray[_ngcontent-%COMP%] {\n    width: 80%;\n  }"]}),p);r.d(e,"GeneratePickListModule",(function(){return S}));var v,h=[{path:":id",component:m}],S=((v=function t(){_classCallCheck(this,t)}).\u0275mod=d.Kb({type:v}),v.\u0275inj=d.Jb({factory:function(t){return new(t||v)},imports:[[o.b,i.i.forChild(h),n.b,a.l,b.a,c.a,a.s]]}),v)},xgIS:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var o=r("HDdC"),i=r("DH7j"),n=r("n6bG"),a=r("lJxs");function b(t,e,r,c){return Object(n.a)(r)&&(c=r,r=void 0),c?b(t,e,r).pipe(Object(a.a)((function(t){return Object(i.a)(t)?c.apply(void 0,_toConsumableArray(t)):c(t)}))):new o.a((function(o){!function t(e,r,o,i,n){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var b=e;e.addEventListener(r,o,n),a=function(){return b.removeEventListener(r,o,n)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(r,o),a=function(){return c.off(r,o)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var d=e;e.addListener(r,o),a=function(){return d.removeListener(r,o)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var s=0,l=e.length;s<l;s++)t(e[s],r,o,i,n)}i.add(a)}(t,e,(function(t){o.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),o,r)}))}}}]);