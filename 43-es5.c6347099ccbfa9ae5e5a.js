function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"YvJ/":function(t,e,a){"use strict";a.r(e);var r,o=a("ofXK"),n=a("tyNb"),i=a("g3N6"),c=a("uq2c"),d=a("FasR"),s=a("fXoL"),l=a("c8VH"),g=a("AytR"),b=a("tk/3"),u=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.API_URL=g.a.APIEndpoint}return _createClass(t,[{key:"getCategoryList",value:function(t){return this.http.get("".concat(this.API_URL,"/category"),{params:t})}},{key:"addCategory",value:function(t){return this.http.post("".concat(this.API_URL,"/category"),t)}},{key:"editCategory",value:function(t,e){return this.http.put("".concat(this.API_URL,"/category/").concat(t),e)}},{key:"getCategoryById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/category/").concat(t),{params:e})}},{key:"getCategoryMasterData",value:function(){return this.http.get("".concat(this.API_URL,"/category/master-data"))}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Wb(b.b))},r.\u0275prov=s.Ib({token:r,factory:r.\u0275fac}),r),h=a("jTkZ"),p=a("Eb8l"),m=a("LPFR"),y=a("Pbud");function f(t,e){if(1&t&&(s.Sb(0,"span",17),s.Cc(1),s.Rb()),2&t){var a=s.cc(2);s.zb(1),s.Ec("",a.parentCategoryCount," ")}}function v(t,e){if(1&t){var a=s.Tb();s.Sb(0,"span",12),s.Cc(1),s.Ac(2,f,2,1,"span",13),s.Sb(3,"span",14),s.Sb(4,"a",15),s.ac("click",(function(){return s.uc(a),s.cc().resetData()})),s.Nb(5,"i",16),s.Rb(),s.Rb(),s.Rb()}if(2&t){var r=s.cc();s.zb(1),s.Ec(" ",r.categoryName," "),s.zb(1),s.jc("ngIf",r.parentCategoryCount)}}function C(t,e){if(1&t){var a=s.Tb();s.Sb(0,"pagination",18),s.ac("onPageChange",(function(t){return s.uc(a),s.cc().getPage(t)})),s.Rb()}if(2&t){var r=s.cc();s.jc("paginationList",r.pagination)("currentPage",r.currentPage)}}var _,S=((_=function(){function t(e,a){_classCallCheck(this,t),this.paginationService=e,this.categoryService=a,this.PageTitle="Manage Category",this.loadform=!1,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.permissionObject=null,this.headerData=[],this.showPagination=!1,this.parentCategoryId=!1,this.categoryName=!1,this.parentCategoryCount=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadform=!1,this.setHeaderData(),this.getObjects()}},{key:"setHeaderData",value:function(){this.headerData.push(new d.f({label:"Category name",key:"category_name"}),new d.e({label:"Sub Category Count",key:"parent_category_id"}),new d.f({label:"Height(cm)",key:"volume.height"}),new d.f({label:"Width(cm)",key:"volume.width"}),new d.f({label:"Depth(cm)",key:"volume.depth"}));var t=new d.a({edit:{path:"/manage/category/edit/",id:"category_id"},delete:{path:"category/",id:"category_id"}});this.headerData.push(t)}},{key:"getObjects",value:function(){var t=this,e={page:this.currentPage};this.searchText&&(e.search=this.searchText),this.parentCategoryId&&(e.parent_category_id=this.parentCategoryId),this.categoryService.getCategoryList(e).subscribe((function(e){t.loadingState=!1,e.success?(t.objectArray=e.data.list,t.showPagination=!0,t.pagination=t.paginationService.getPager(e.data.pagination.total_page,t.currentPage)):(t.objectArray=[],t.pagination=null)}),(function(e){t.loadingState=!1,t.objectArray=[],t.pagination=null}))}},{key:"getPage",value:function(t){this.currentPage=t,this.getObjects()}},{key:"onClickEvent",value:function(t){t.category_id&&t.parent_category_id&&(this.categoryName=t.category_name,this.parentCategoryCount=t.parent_category_id,this.parentCategoryId=t.category_id,this.currentPage=1,this.getObjects())}},{key:"resetData",value:function(){this.categoryName=!1,this.parentCategoryCount=!1,this.parentCategoryId=!1,this.getObjects()}},{key:"searchObject",value:function(t){this.searchText=t,this.currentPage=1,this.getObjects()}},{key:"onReloadEvent",value:function(){this.getObjects()}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Mb(l.a),s.Mb(u))},_.\u0275cmp=s.Gb({type:_,selectors:[["app-category-list"]],decls:14,vars:8,consts:[[1,"side-container"],[1,"page-header"],[1,"row","m-0"],[1,"mr-auto"],["class","badge badge-pill badge-light","style","font-size: 14px; font-weight: 400;",4,"ngIf"],[1,"ml-3"],[3,"placeholder","text"],[3,"btnName","editData"],[1,"card"],[1,"card-body"],[3,"headerData","rawData","reloadEvent","clickEvent"],[3,"paginationList","currentPage","onPageChange",4,"ngIf"],[1,"badge","badge-pill","badge-light",2,"font-size","14px","font-weight","400"],["class","badge badge-pill badge-info",4,"ngIf"],[1,"badge"],[3,"click"],["data-toggle","tooltip","data-placement","top","title","Reset Filter","aria-hidden","true",1,"ml-2","fa","fa-times"],[1,"badge","badge-pill","badge-info"],[3,"paginationList","currentPage","onPageChange"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"h2",3),s.Cc(4),s.Ac(5,v,6,2,"span",4),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"search-box",6),s.ac("text",(function(t){return e.searchObject(t)})),s.Rb(),s.Rb(),s.Sb(8,"div",5),s.Nb(9,"app-btn-add",7),s.Rb(),s.Rb(),s.Rb(),s.Sb(10,"div",8),s.Sb(11,"div",9),s.Sb(12,"app-table-list",10),s.ac("reloadEvent",(function(){return e.onReloadEvent()}))("clickEvent",(function(t){return e.onClickEvent(t)})),s.Rb(),s.Ac(13,C,1,2,"pagination",11),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.zb(4),s.Ec("",e.PageTitle," "),s.zb(1),s.jc("ngIf",e.categoryName),s.zb(2),s.jc("placeholder","Search Here..."),s.zb(2),s.jc("btnName","Add Category")("editData","/manage/category/add"),s.zb(3),s.jc("headerData",e.headerData)("rawData",e.objectArray),s.zb(1),s.jc("ngIf",e.showPagination))},directives:[o.l,h.a,p.a,m.a,y.a],encapsulation:2}),_),R=a("3Pt+"),w=a("HOh6"),k=a("UaFz"),P=a("ZOsW"),j=a("/SVk");function I(t,e){if(1&t&&s.Nb(0,"span",26),2&t){var a=s.cc();s.jc("innerHTML",a.formErrors.category_code,s.vc)}}var E,F=function(t){return{"has-error":t}},L=((E=function(){function t(e,a,r,o){_classCallCheck(this,t),this.router=e,this.activatedRoute=a,this.fb=r,this.categoryService=o,this.PageTitle="Category",this.addNewRadio=!1,this.categoryListArray=[],this.loadingState=!1,this.showLoader=!1,this.formErrors={category_code:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id")),this.addForm=this.fb.group({category_name:[null,R.t.compose([R.t.required])],category_code:[null,R.t.compose([R.t.required])],parent_category_id:[""],description:[null],height:[null,R.t.compose([R.t.required])],width:[null,R.t.compose([R.t.required])],depth:[null,R.t.compose([R.t.required])],unit:["cm",R.t.compose([R.t.required])],total_volume:[0]})}return _createClass(t,[{key:"ngOnInit",value:function(){this.getMasterData(),this.isEditing&&this.getEditObject()}},{key:"volumeCal",value:function(){var t=parseInt(this.addForm.value.height?this.addForm.value.height:1)*parseInt(this.addForm.value.width?this.addForm.value.width:1)*parseInt(this.addForm.value.depth?this.addForm.value.depth:1);this.addForm.patchValue({total_volume:t||0})}},{key:"getMasterData",value:function(){var t=this;this.categoryService.getCategoryMasterData().subscribe((function(e){e.success&&(t.categoryListArray=e.data.category)}))}},{key:"getEditObject",value:function(){var t=this;this.categoryService.getCategoryById(this.editId).subscribe((function(e){e.success?t.addForm.patchValue({category_name:e.data.category_name,category_code:e.data.category_code,parent_category_id:e.data.parent_category_id,description:e.data.description,width:e.data.volume.width,height:e.data.volume.height,depth:e.data.volume.depth,unit:e.data.volume.unit,total_volume:e.data.volume.total_volume}):t.router.navigateByUrl("/manage/category")}))}},{key:"submitForm",value:function(t){var e=this;if(t.valid){this.showLoader=!0;var a=new FormData;a.append("category_name",t.value.category_name),a.append("category_code",t.value.category_code),a.append("parent_category_id",t.value.parent_category_id?t.value.parent_category_id:""),a.append("description",t.value.description),a.append("volume",JSON.stringify({width:t.value.width,unit:t.value.unit,height:t.value.height,depth:t.value.depth,total_volume:t.value.total_volume})),this.isEditing?this.categoryService.editCategory(this.editId,a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/category"):t.error.map((function(a){a.hasOwnProperty("category_code")?e.formErrors.category_code=a.category_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1})):this.categoryService.addCategory(a).subscribe((function(t){e.showLoader=!1,t.success?e.router.navigateByUrl("/manage/category"):t.error.map((function(a){a.hasOwnProperty("category_code")?e.formErrors.category_code=a.category_code:e.formErrors.apierror="* ".concat(t.error)}))}),(function(t){e.showLoader=!1}))}}}]),t}()).\u0275fac=function(t){return new(t||E)(s.Mb(n.e),s.Mb(n.a),s.Mb(R.e),s.Mb(u))},E.\u0275cmp=s.Gb({type:E,selectors:[["app-add-category"]],decls:56,vars:16,consts:[[1,"side-container"],[1,"page-header"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group","row"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],["type","text","placeholder","",1,"form-control",3,"formControl"],[1,"col-md-5",3,"ngClass"],["class","help-block",3,"innerHTML",4,"ngIf"],["bindLabel","label","bindValue","value","placeholder","Select Parent Category",3,"formControl","items"],[1,"col-md-5","mr-2"],["number","","type","text","placeholder","Height",1,"form-control",3,"formControl","change"],["aria-hidden","true",1,"la","la-times","mt-2"],["number","","type","text","placeholder","Width",1,"form-control",3,"formControl","change"],["number","","type","text","placeholder","Depth",1,"form-control",3,"formControl","change"],[1,"la","la-equals","mt-2"],["number","","type","text","placeholder","","disabled","",1,"form-control",3,"formControl"],["rows","2",1,"form-control",3,"formControl"],[1,"text-right","border-top","py-4","mt-5","card-footer"],["type","button","routerLink","/manage/category",1,"btn","btn-light"],["type","submit",1,"btn","btn-secondary","ml-2"],[1,"help-block",3,"innerHTML"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"h2",4),s.Cc(5),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"form",6),s.ac("ngSubmit",(function(){return e.submitForm(e.addForm)})),s.Sb(8,"div",7),s.Sb(9,"div"),s.Sb(10,"div",8),s.Sb(11,"label",9),s.Cc(12,"Category Name "),s.Sb(13,"em"),s.Cc(14,"*"),s.Rb(),s.Rb(),s.Sb(15,"div",10),s.Nb(16,"input",11),s.Rb(),s.Rb(),s.Sb(17,"div",8),s.Sb(18,"label",9),s.Cc(19,"Category code "),s.Sb(20,"em"),s.Cc(21,"*"),s.Rb(),s.Rb(),s.Sb(22,"div",12),s.Nb(23,"input",11),s.Ac(24,I,1,1,"span",13),s.Rb(),s.Rb(),s.Sb(25,"div",8),s.Sb(26,"label",9),s.Cc(27,"Parent Category Name "),s.Rb(),s.Sb(28,"div",10),s.Nb(29,"ng-select",14),s.Rb(),s.Rb(),s.Sb(30,"div",8),s.Sb(31,"label",9),s.Cc(32,"Volume(cm)"),s.Rb(),s.Sb(33,"div",15),s.Sb(34,"div",2),s.Sb(35,"div",3),s.Sb(36,"input",16),s.ac("change",(function(){return e.volumeCal()})),s.Rb(),s.Rb(),s.Nb(37,"i",17),s.Sb(38,"div",3),s.Sb(39,"input",18),s.ac("change",(function(){return e.volumeCal()})),s.Rb(),s.Rb(),s.Nb(40,"i",17),s.Sb(41,"div",3),s.Sb(42,"input",19),s.ac("change",(function(){return e.volumeCal()})),s.Rb(),s.Rb(),s.Nb(43,"i",20),s.Sb(44,"div",3),s.Nb(45,"input",21),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(46,"div",8),s.Sb(47,"label",9),s.Cc(48,"Description"),s.Rb(),s.Sb(49,"div",10),s.Nb(50,"textarea",22),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(51,"div",23),s.Sb(52,"button",24),s.Cc(53,"Cancel"),s.Rb(),s.Sb(54,"button",25),s.Cc(55,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.zb(5),s.Fc("",e.isEditing?"Update":"Create"," ",e.PageTitle,""),s.zb(2),s.jc("formGroup",e.addForm),s.zb(9),s.jc("formControl",e.addForm.controls.category_name),s.zb(6),s.jc("ngClass",s.nc(14,F,e.formErrors.category_code)),s.zb(1),s.jc("formControl",e.addForm.controls.category_code),s.zb(1),s.jc("ngIf",e.formErrors.category_code),s.zb(5),s.jc("formControl",e.addForm.controls.parent_category_id)("items",e.categoryListArray),s.zb(7),s.jc("formControl",e.addForm.controls.height),s.zb(3),s.jc("formControl",e.addForm.controls.width),s.zb(3),s.jc("formControl",e.addForm.controls.depth),s.zb(3),s.jc("formControl",e.addForm.controls.total_volume),s.zb(5),s.jc("formControl",e.addForm.controls.description))},directives:[R.v,R.p,w.a,R.j,R.c,R.o,R.g,k.a,o.j,o.l,P.a,j.a,n.f],encapsulation:2}),E),z=a("OTx7"),N=a("PCNd"),D=a("Vr6k"),A=a("QSzr");a.d(e,"CategoryModule",(function(){return M}));var O,x=[{path:"",component:S,data:{title:"category_list"}},{path:"add",component:L,data:{title:"add_category"}},{path:"edit/:id",component:L,data:{title:"edit_category"}}],M=((O=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:O}),O.\u0275inj=s.Jb({factory:function(t){return new(t||O)},providers:[u],imports:[[o.b,n.i.forChild(x),z.a,i.a,c.a,R.l,R.s,D.a,N.a,A.a,P.b]]}),O)}}]);